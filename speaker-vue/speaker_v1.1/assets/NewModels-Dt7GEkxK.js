import{T as _e,aW as Gt,X as fe,Y as z,by as Ln,$ as ce,l as B,ab as ye,c as I,o as y,a5 as oe,u as a,a6 as L,a1 as lt,U as Ee,a9 as qe,aQ as Ie,a as $,am as W,w as k,ao as yt,j as ve,aq as J,as as Ke,at as Be,bz as zn,aZ as Fn,bA as jn,bB as Wn,ah as Qt,b as S,ap as ue,bC as Hn,bD as Yn,bE as qn,bF as Jt,bG as kt,a7 as Kn,Q as bt,an as Q,b4 as en,b3 as $t,a0 as G,ac as at,a2 as De,e as o,i as F,b0 as tn,aa as wt,ae as gt,af as re,bH as Xn,bI as Zn,ad as Gn,bJ as Qn,aP as nn,aI as we,bK as Jn,bL as Nt,b5 as on,bM as Ot,bq as eo,aT as Ne,aU as Oe,bN as mt,bO as ln,bP as an,bQ as to,bR as no,bS as oo,bT as Ct,bU as sn,bV as me,bW as We,av as be,aw as ge,bX as rn,bY as cn,bi as un,bZ as lo,b_ as st,b$ as He,c0 as Pe,c1 as Ae,c2 as je,aB as ke,au as he,c3 as dn,ax as St,ay as Xe,c4 as ao,c5 as Tt,c6 as vn,c7 as ze,aA as so,c8 as ct,bj as ut,bl as Ye,c9 as ht,ca as io,cb as ro,cc as At,cd as co,ce as uo,cf as vo,bm as xt,aY as fn,cg as fo,aF as pn,bn as tt,ch as po,bg as bo,ci as go,cj as mo,ck as ho,cl as _o,bk as dt,_ as Ve,d as Re,r as nt,F as Ce,bs as Se,B as Pt,bc as de,br as Ze,bb as Fe,cm as yo,bo as it,E as Et,bx as ot,S as Ue,n as ie,bw as _t,h as It,aS as ko,m as $o,g as wo}from"./index-DZpPFXcy.js";import{S as bn,E as gn,b as Bt,c as Vt,a as Co}from"./index-CFowvJ7F.js";import{N as So}from"./index-LnxDD8On.js";import{D as Ge}from"./index-CbgKHUG-.js";import{h as mn,N as hn,C as Ut,a as To,f as Me}from"./CameraRecorder-C3HnV462.js";import{T as xo,L as _n,m as Po}from"./models_service-cBJtfPFY.js";import{C as yn}from"./index-8d48NMG6.js";import{C as Eo}from"./index-07SV99sO.js";import{F as Io}from"./index-CruXA-4p.js";import"./el-tooltip-l0sNRNKZ.js";import{u as kn}from"./use-id-BgnJHzWu.js";import"https://avatar.gbqr.net/yiyu.js";const $n=Symbol("breadcrumbKey"),Bo=_e({separator:{type:String,default:"/"},separatorIcon:{type:Gt}}),Vo=z({name:"ElBreadcrumb"}),Ro=z({...Vo,props:Bo,setup(e){const n=e,{t:i}=Ln(),l=ce("breadcrumb"),s=B();return lt($n,n),ye(()=>{const t=s.value.querySelectorAll(`.${l.e("item")}`);t.length&&t[t.length-1].setAttribute("aria-current","page")}),(t,c)=>(y(),I("div",{ref_key:"breadcrumb",ref:s,class:L(a(l).b()),"aria-label":a(i)("el.breadcrumb.label"),role:"navigation"},[oe(t.$slots,"default")],10,["aria-label"]))}});var Mo=fe(Ro,[["__file","breadcrumb.vue"]]);const No=_e({to:{type:Ee([String,Object]),default:""},replace:Boolean}),Oo=z({name:"ElBreadcrumbItem"}),Ao=z({...Oo,props:No,setup(e){const n=e,i=Ie(),l=qe($n,void 0),s=ce("breadcrumb"),t=i.appContext.config.globalProperties.$router,c=B(),r=()=>{!n.to||!t||(n.replace?t.replace(n.to):t.push(n.to))};return(_,g)=>{var m,b;return y(),I("span",{class:L(a(s).e("item"))},[$("span",{ref_key:"link",ref:c,class:L([a(s).e("inner"),a(s).is("link",!!_.to)]),role:"link",onClick:r},[oe(_.$slots,"default")],2),(m=a(l))!=null&&m.separatorIcon?(y(),W(a(ve),{key:0,class:L(a(s).e("separator"))},{default:k(()=>[(y(),W(yt(a(l).separatorIcon)))]),_:1},8,["class"])):(y(),I("span",{key:1,class:L(a(s).e("separator")),role:"presentation"},J((b=a(l))==null?void 0:b.separator),3))],2)}}});var wn=fe(Ao,[["__file","breadcrumb-item.vue"]]);const Uo=Ke(Mo,{BreadcrumbItem:wn}),Do=Be(wn),Lo=(e,n,i)=>Fn(e.subTree).filter(t=>{var c;return jn(t)&&((c=t.type)==null?void 0:c.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>i[t]).filter(t=>!!t),Cn=(e,n)=>{const i={},l=zn([]);return{children:l,addChild:c=>{i[c.uid]=c,l.value=Lo(e,n,i)},removeChild:c=>{delete i[c],l.value=l.value.filter(r=>r.uid!==c)}}},Te=e=>Wn(e),zo=z({name:"ElContainer"}),Fo=z({...zo,props:{direction:{type:String}},setup(e){const n=e,i=Qt(),l=ce("container"),s=S(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:i&&i.default?i.default().some(c=>{const r=c.type.name;return r==="ElHeader"||r==="ElFooter"}):!1);return(t,c)=>(y(),I("section",{class:L([a(l).b(),a(l).is("vertical",a(s))])},[oe(t.$slots,"default")],2))}});var jo=fe(Fo,[["__file","container.vue"]]);const Wo=z({name:"ElAside"}),Ho=z({...Wo,props:{width:{type:String,default:null}},setup(e){const n=e,i=ce("aside"),l=S(()=>n.width?i.cssVarBlock({width:n.width}):{});return(s,t)=>(y(),I("aside",{class:L(a(i).b()),style:ue(a(l))},[oe(s.$slots,"default")],6))}});var Sn=fe(Ho,[["__file","aside.vue"]]);const Yo=z({name:"ElFooter"}),qo=z({...Yo,props:{height:{type:String,default:null}},setup(e){const n=e,i=ce("footer"),l=S(()=>n.height?i.cssVarBlock({height:n.height}):{});return(s,t)=>(y(),I("footer",{class:L(a(i).b()),style:ue(a(l))},[oe(s.$slots,"default")],6))}});var Tn=fe(qo,[["__file","footer.vue"]]);const Ko=z({name:"ElHeader"}),Xo=z({...Ko,props:{height:{type:String,default:null}},setup(e){const n=e,i=ce("header"),l=S(()=>n.height?i.cssVarBlock({height:n.height}):{});return(s,t)=>(y(),I("header",{class:L(a(i).b()),style:ue(a(l))},[oe(s.$slots,"default")],6))}});var xn=fe(Xo,[["__file","header.vue"]]);const Zo=z({name:"ElMain"}),Go=z({...Zo,setup(e){const n=ce("main");return(i,l)=>(y(),I("main",{class:L(a(n).b())},[oe(i.$slots,"default")],2))}});var Pn=fe(Go,[["__file","main.vue"]]);const Qo=Ke(jo,{Aside:Sn,Footer:Tn,Header:xn,Main:Pn}),Jo=Be(Sn);Be(Tn);Be(xn);const el=Be(Pn),tl=_e({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ee(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ee([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ee(Function),default:e=>`${e}%`}}),nl=z({name:"ElProgress"}),ol=z({...nl,props:tl,setup(e){const n=e,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=ce("progress"),s=S(()=>{const d={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},R=x(n.percentage);return R.includes("gradient")?d.background=R:d.backgroundColor=R,d}),t=S(()=>(n.strokeWidth/n.width*100).toFixed(1)),c=S(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(t.value)/2}`,10):0),r=S(()=>{const d=c.value,R=n.type==="dashboard";return`
          M 50 50
          m 0 ${R?"":"-"}${d}
          a ${d} ${d} 0 1 1 0 ${R?"-":""}${d*2}
          a ${d} ${d} 0 1 1 0 ${R?"":"-"}${d*2}
          `}),_=S(()=>2*Math.PI*c.value),g=S(()=>n.type==="dashboard"?.75:1),m=S(()=>`${-1*_.value*(1-g.value)/2}px`),b=S(()=>({strokeDasharray:`${_.value*g.value}px, ${_.value}px`,strokeDashoffset:m.value})),p=S(()=>({strokeDasharray:`${_.value*g.value*(n.percentage/100)}px, ${_.value}px`,strokeDashoffset:m.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),u=S(()=>{let d;return n.color?d=x(n.percentage):d=i[n.status]||i.default,d}),v=S(()=>n.status==="warning"?Hn:n.type==="line"?n.status==="success"?Yn:qn:n.status==="success"?Jt:kt),w=S(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),C=S(()=>n.format(n.percentage));function T(d){const R=100/d.length;return d.map((f,U)=>bt(f)?{color:f,percentage:(U+1)*R}:f).sort((f,U)=>f.percentage-U.percentage)}const x=d=>{var R;const{color:h}=n;if(Kn(h))return h(d);if(bt(h))return h;{const f=T(h);for(const U of f)if(U.percentage>d)return U.color;return(R=f[f.length-1])==null?void 0:R.color}};return(d,R)=>(y(),I("div",{class:L([a(l).b(),a(l).m(d.type),a(l).is(d.status),{[a(l).m("without-text")]:!d.showText,[a(l).m("text-inside")]:d.textInside}]),role:"progressbar","aria-valuenow":d.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[d.type==="line"?(y(),I("div",{key:0,class:L(a(l).b("bar"))},[$("div",{class:L(a(l).be("bar","outer")),style:ue({height:`${d.strokeWidth}px`})},[$("div",{class:L([a(l).be("bar","inner"),{[a(l).bem("bar","inner","indeterminate")]:d.indeterminate},{[a(l).bem("bar","inner","striped")]:d.striped},{[a(l).bem("bar","inner","striped-flow")]:d.stripedFlow}]),style:ue(a(s))},[(d.showText||d.$slots.default)&&d.textInside?(y(),I("div",{key:0,class:L(a(l).be("bar","innerText"))},[oe(d.$slots,"default",{percentage:d.percentage},()=>[$("span",null,J(a(C)),1)])],2)):Q("v-if",!0)],6)],6)],2)):(y(),I("div",{key:1,class:L(a(l).b("circle")),style:ue({height:`${d.width}px`,width:`${d.width}px`})},[(y(),I("svg",{viewBox:"0 0 100 100"},[$("path",{class:L(a(l).be("circle","track")),d:a(r),stroke:`var(${a(l).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":d.strokeLinecap,"stroke-width":a(t),fill:"none",style:ue(a(b))},null,14,["d","stroke","stroke-linecap","stroke-width"]),$("path",{class:L(a(l).be("circle","path")),d:a(r),stroke:a(u),fill:"none",opacity:d.percentage?1:0,"stroke-linecap":d.strokeLinecap,"stroke-width":a(t),style:ue(a(p))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(d.showText||d.$slots.default)&&!d.textInside?(y(),I("div",{key:2,class:L(a(l).e("text")),style:ue({fontSize:`${a(w)}px`})},[oe(d.$slots,"default",{percentage:d.percentage},()=>[d.status?(y(),W(a(ve),{key:1},{default:k(()=>[(y(),W(yt(a(v))))]),_:1})):(y(),I("span",{key:0},J(a(C)),1))])],6)):Q("v-if",!0)],10,["aria-valuenow"]))}});var ll=fe(ol,[["__file","progress.vue"]]);const al=Ke(ll),sl=_e({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),il={[en]:(e,n)=>[e,n].every($t)},rl=z({name:"ElSteps"}),cl=z({...rl,props:sl,emits:il,setup(e,{emit:n}){const i=e,l=ce("steps"),{children:s,addChild:t,removeChild:c}=Cn(Ie(),"ElStep");return G(s,()=>{s.value.forEach((r,_)=>{r.setIndex(_)})}),lt("ElSteps",{props:i,steps:s,addStep:t,removeStep:c}),G(()=>i.active,(r,_)=>{n(en,r,_)}),(r,_)=>(y(),I("div",{class:L([a(l).b(),a(l).m(r.simple?"simple":r.direction)])},[oe(r.$slots,"default")],2))}});var ul=fe(cl,[["__file","steps.vue"]]);const dl=_e({title:{type:String,default:""},icon:{type:Gt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),vl=z({name:"ElStep"}),fl=z({...vl,props:dl,setup(e){const n=e,i=ce("step"),l=B(-1),s=B({}),t=B(""),c=qe("ElSteps"),r=Ie();ye(()=>{G([()=>c.props.active,()=>c.props.processStatus,()=>c.props.finishStatus],([f])=>{R(f)},{immediate:!0})}),at(()=>{c.removeStep(h.uid)});const _=S(()=>n.status||t.value),g=S(()=>{const f=c.steps.value[l.value-1];return f?f.currentStatus:"wait"}),m=S(()=>c.props.alignCenter),b=S(()=>c.props.direction==="vertical"),p=S(()=>c.props.simple),u=S(()=>c.steps.value.length),v=S(()=>{var f;return((f=c.steps.value[u.value-1])==null?void 0:f.uid)===(r==null?void 0:r.uid)}),w=S(()=>p.value?"":c.props.space),C=S(()=>[i.b(),i.is(p.value?"simple":c.props.direction),i.is("flex",v.value&&!w.value&&!m.value),i.is("center",m.value&&!b.value&&!p.value)]),T=S(()=>{const f={flexBasis:$t(w.value)?`${w.value}px`:w.value?w.value:`${100/(u.value-(m.value?0:1))}%`};return b.value||v.value&&(f.maxWidth=`${100/u.value}%`),f}),x=f=>{l.value=f},d=f=>{const U=f==="wait",E={transitionDelay:`${U?"-":""}${150*l.value}ms`},N=f===c.props.processStatus||U?0:100;E.borderWidth=N&&!p.value?"1px":0,E[c.props.direction==="vertical"?"height":"width"]=`${N}%`,s.value=E},R=f=>{f>l.value?t.value=c.props.finishStatus:f===l.value&&g.value!=="error"?t.value=c.props.processStatus:t.value="wait";const U=c.steps.value[l.value-1];U&&U.calcProgress(t.value)},h=De({uid:r.uid,currentStatus:_,setIndex:x,calcProgress:d});return c.addStep(h),(f,U)=>(y(),I("div",{style:ue(a(T)),class:L(a(C))},[Q(" icon & line "),$("div",{class:L([a(i).e("head"),a(i).is(a(_))])},[a(p)?Q("v-if",!0):(y(),I("div",{key:0,class:L(a(i).e("line"))},[$("i",{class:L(a(i).e("line-inner")),style:ue(s.value)},null,6)],2)),$("div",{class:L([a(i).e("icon"),a(i).is(f.icon||f.$slots.icon?"icon":"text")])},[oe(f.$slots,"icon",{},()=>[f.icon?(y(),W(a(ve),{key:0,class:L(a(i).e("icon-inner"))},{default:k(()=>[(y(),W(yt(f.icon)))]),_:1},8,["class"])):a(_)==="success"?(y(),W(a(ve),{key:1,class:L([a(i).e("icon-inner"),a(i).is("status")])},{default:k(()=>[o(a(Jt))]),_:1},8,["class"])):a(_)==="error"?(y(),W(a(ve),{key:2,class:L([a(i).e("icon-inner"),a(i).is("status")])},{default:k(()=>[o(a(kt))]),_:1},8,["class"])):a(p)?Q("v-if",!0):(y(),I("div",{key:3,class:L(a(i).e("icon-inner"))},J(l.value+1),3))])],2)],2),Q(" title & description "),$("div",{class:L(a(i).e("main"))},[$("div",{class:L([a(i).e("title"),a(i).is(a(_))])},[oe(f.$slots,"title",{},()=>[F(J(f.title),1)])],2),a(p)?(y(),I("div",{key:0,class:L(a(i).e("arrow"))},null,2)):(y(),I("div",{key:1,class:L([a(i).e("description"),a(i).is(a(_))])},[oe(f.$slots,"description",{},()=>[F(J(f.description),1)])],2))],2)],6))}});var En=fe(fl,[["__file","item.vue"]]);const pl=Ke(ul,{Step:En}),bl=Be(En),rt=Symbol("tabsRootContextKey"),gl=_e({tabs:{type:Ee(Array),default:()=>tn([])}}),In="ElTabBar",ml=z({name:In}),hl=z({...ml,props:gl,setup(e,{expose:n}){const i=e,l=Ie(),s=qe(rt);s||wt(In,"<el-tabs><el-tab-bar /></el-tabs>");const t=ce("tabs"),c=B(),r=B(),_=()=>{let u=0,v=0;const w=["top","bottom"].includes(s.props.tabPosition)?"width":"height",C=w==="width"?"x":"y",T=C==="x"?"left":"top";return i.tabs.every(x=>{var d,R;const h=(R=(d=l.parent)==null?void 0:d.refs)==null?void 0:R[`tab-${x.uid}`];if(!h)return!1;if(!x.active)return!0;u=h[`offset${Te(T)}`],v=h[`client${Te(w)}`];const f=window.getComputedStyle(h);return w==="width"&&(v-=Number.parseFloat(f.paddingLeft)+Number.parseFloat(f.paddingRight),u+=Number.parseFloat(f.paddingLeft)),!1}),{[w]:`${v}px`,transform:`translate${Te(C)}(${u}px)`}},g=()=>r.value=_(),m=[],b=()=>{var u;m.forEach(w=>w.stop()),m.length=0;const v=(u=l.parent)==null?void 0:u.refs;if(v){for(const w in v)if(w.startsWith("tab-")){const C=v[w];C&&m.push(gt(C,g))}}};G(()=>i.tabs,async()=>{await re(),g(),b()},{immediate:!0});const p=gt(c,()=>g());return at(()=>{m.forEach(u=>u.stop()),m.length=0,p.stop()}),n({ref:c,update:g}),(u,v)=>(y(),I("div",{ref_key:"barRef",ref:c,class:L([a(t).e("active-bar"),a(t).is(a(s).props.tabPosition)]),style:ue(r.value)},null,6))}});var _l=fe(hl,[["__file","tab-bar.vue"]]);const yl=_e({panes:{type:Ee(Array),default:()=>tn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),kl={tabClick:(e,n,i)=>i instanceof Event,tabRemove:(e,n)=>n instanceof Event},Dt="ElTabNav",$l=z({name:Dt,props:yl,emits:kl,setup(e,{expose:n,emit:i}){const l=qe(rt);l||wt(Dt,"<el-tabs><tab-nav /></el-tabs>");const s=ce("tabs"),t=Xn(),c=Zn(),r=B(),_=B(),g=B(),m=B(),b=B(!1),p=B(0),u=B(!1),v=B(!0),w=S(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),C=S(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${p.value}px)`})),T=()=>{if(!r.value)return;const E=r.value[`offset${Te(w.value)}`],N=p.value;if(!N)return;const V=N>E?N-E:0;p.value=V},x=()=>{if(!r.value||!_.value)return;const E=_.value[`offset${Te(w.value)}`],N=r.value[`offset${Te(w.value)}`],V=p.value;if(E-V<=N)return;const X=E-V>N*2?V+N:E-N;p.value=X},d=async()=>{const E=_.value;if(!b.value||!g.value||!r.value||!E)return;await re();const N=g.value.querySelector(".is-active");if(!N)return;const V=r.value,X=["top","bottom"].includes(l.props.tabPosition),j=N.getBoundingClientRect(),K=V.getBoundingClientRect(),ne=X?E.offsetWidth-K.width:E.offsetHeight-K.height,ee=p.value;let te=ee;X?(j.left<K.left&&(te=ee-(K.left-j.left)),j.right>K.right&&(te=ee+j.right-K.right)):(j.top<K.top&&(te=ee-(K.top-j.top)),j.bottom>K.bottom&&(te=ee+(j.bottom-K.bottom))),te=Math.max(te,0),p.value=Math.min(te,ne)},R=()=>{var E;if(!_.value||!r.value)return;e.stretch&&((E=m.value)==null||E.update());const N=_.value[`offset${Te(w.value)}`],V=r.value[`offset${Te(w.value)}`],X=p.value;V<N?(b.value=b.value||{},b.value.prev=X,b.value.next=X+V<N,N-X<V&&(p.value=N-V)):(b.value=!1,X>0&&(p.value=0))},h=E=>{let N=0;switch(E.code){case we.left:case we.up:N=-1;break;case we.right:case we.down:N=1;break;default:return}const V=Array.from(E.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let j=V.indexOf(E.target)+N;j<0?j=V.length-1:j>=V.length&&(j=0),V[j].focus({preventScroll:!0}),V[j].click(),f()},f=()=>{v.value&&(u.value=!0)},U=()=>u.value=!1;return G(t,E=>{E==="hidden"?v.value=!1:E==="visible"&&setTimeout(()=>v.value=!0,50)}),G(c,E=>{E?setTimeout(()=>v.value=!0,50):v.value=!1}),gt(g,R),ye(()=>setTimeout(()=>d(),0)),Gn(()=>R()),n({scrollToActiveTab:d,removeFocus:U}),()=>{const E=b.value?[o("span",{class:[s.e("nav-prev"),s.is("disabled",!b.value.prev)],onClick:T},[o(ve,null,{default:()=>[o(Qn,null,null)]})]),o("span",{class:[s.e("nav-next"),s.is("disabled",!b.value.next)],onClick:x},[o(ve,null,{default:()=>[o(nn,null,null)]})])]:null,N=e.panes.map((V,X)=>{var j,K,ne,ee;const te=V.uid,M=V.props.disabled,H=(K=(j=V.props.name)!=null?j:V.index)!=null?K:`${X}`,A=!M&&(V.isClosable||e.editable);V.index=`${X}`;const Le=A?o(ve,{class:"is-icon-close",onClick:Y=>i("tabRemove",V,Y)},{default:()=>[o(kt,null,null)]}):null,O=((ee=(ne=V.slots).label)==null?void 0:ee.call(ne))||V.props.label,Z=!M&&V.active?0:-1;return o("div",{ref:`tab-${te}`,class:[s.e("item"),s.is(l.props.tabPosition),s.is("active",V.active),s.is("disabled",M),s.is("closable",A),s.is("focus",u.value)],id:`tab-${H}`,key:`tab-${te}`,"aria-controls":`pane-${H}`,role:"tab","aria-selected":V.active,tabindex:Z,onFocus:()=>f(),onBlur:()=>U(),onClick:Y=>{U(),i("tabClick",V,H,Y)},onKeydown:Y=>{A&&(Y.code===we.delete||Y.code===we.backspace)&&i("tabRemove",V,Y)}},[O,Le])});return o("div",{ref:g,class:[s.e("nav-wrap"),s.is("scrollable",!!b.value),s.is(l.props.tabPosition)]},[E,o("div",{class:s.e("nav-scroll"),ref:r},[o("div",{class:[s.e("nav"),s.is(l.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:_,style:C.value,role:"tablist",onKeydown:h},[e.type?null:o(_l,{ref:m,tabs:[...e.panes]},null),N])])])}}}),wl=_e({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ee(Function),default:()=>!0},stretch:Boolean}),vt=e=>bt(e)||$t(e),Cl={[on]:e=>vt(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>vt(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>vt(e),tabAdd:()=>!0},Sl=z({name:"ElTabs",props:wl,emits:Cl,setup(e,{emit:n,slots:i,expose:l}){var s;const t=ce("tabs"),c=S(()=>["left","right"].includes(e.tabPosition)),{children:r,addChild:_,removeChild:g}=Cn(Ie(),"ElTabPane"),m=B(),b=B((s=e.modelValue)!=null?s:"0"),p=async(T,x=!1)=>{var d,R;if(!(b.value===T||Nt(T)))try{let h;if(e.beforeLeave){const f=e.beforeLeave(T,b.value);h=f instanceof Promise?await f:f}else h=!0;h!==!1&&(b.value=T,x&&(n(on,T),n("tabChange",T)),(R=(d=m.value)==null?void 0:d.removeFocus)==null||R.call(d))}catch{}},u=(T,x,d)=>{T.props.disabled||(p(x,!0),n("tabClick",T,d))},v=(T,x)=>{T.props.disabled||Nt(T.props.name)||(x.stopPropagation(),n("edit",T.props.name,"remove"),n("tabRemove",T.props.name))},w=()=>{n("edit",void 0,"add"),n("tabAdd")};G(()=>e.modelValue,T=>p(T)),G(b,async()=>{var T;await re(),(T=m.value)==null||T.scrollToActiveTab()}),lt(rt,{props:e,currentName:b,registerPane:T=>{r.value.push(T)},sortPane:_,unregisterPane:g}),l({currentName:b});const C=({render:T})=>T();return()=>{const T=i["add-icon"],x=e.editable||e.addable?o("div",{class:[t.e("new-tab"),c.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:w,onKeydown:h=>{[we.enter,we.numpadEnter].includes(h.code)&&w()}},[T?oe(i,"add-icon"):o(ve,{class:t.is("icon-plus")},{default:()=>[o(Jn,null,null)]})]):null,d=o("div",{class:[t.e("header"),c.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[o(C,{render:()=>{const h=r.value.some(f=>f.slots.label);return o($l,{ref:m,currentName:b.value,editable:e.editable,type:e.type,panes:r.value,stretch:e.stretch,onTabClick:u,onTabRemove:v},{$stable:!h})}},null),x]),R=o("div",{class:t.e("content")},[oe(i,"default")]);return o("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[R,d])}}});var Tl=Sl;const xl=_e({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Bn="ElTabPane",Pl=z({name:Bn}),El=z({...Pl,props:xl,setup(e){const n=e,i=Ie(),l=Qt(),s=qe(rt);s||wt(Bn,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=ce("tab-pane"),c=B(),r=S(()=>n.closable||s.props.closable),_=Ot(()=>{var u;return s.currentName.value===((u=n.name)!=null?u:c.value)}),g=B(_.value),m=S(()=>{var u;return(u=n.name)!=null?u:c.value}),b=Ot(()=>!n.lazy||g.value||_.value);G(_,u=>{u&&(g.value=!0)});const p=De({uid:i.uid,slots:l,props:n,paneName:m,active:_,index:c,isClosable:r});return s.registerPane(p),ye(()=>{s.sortPane(p)}),eo(()=>{s.unregisterPane(p.uid)}),(u,v)=>a(b)?Ne((y(),I("div",{key:0,id:`pane-${a(m)}`,class:L(a(t).b()),role:"tabpanel","aria-hidden":!a(_),"aria-labelledby":`tab-${a(m)}`},[oe(u.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Oe,a(_)]]):Q("v-if",!0)}});var Vn=fe(El,[["__file","tab-pane.vue"]]);const Il=Ke(Tl,{TabPane:Vn}),Bl=Be(Vn);function Lt(e,n){return e.reduce((i,l)=>Math.abs(i-n)<Math.abs(l-n)?i:l)}function Vl(e,n,i){let l,s=0;const t=e.scrollLeft,c=i===0?1:Math.round(i*1e3/16);let r=t;function _(){ln(l)}function g(){r+=(n-t)/c,e.scrollLeft=r,++s<c&&(l=mt(g))}return g(),_}function Rl(e,n,i,l){let s,t=an(e);const c=t<n,r=i===0?1:Math.round(i*1e3/16),_=(n-t)/r;function g(){ln(s)}function m(){t+=_,(c&&t>n||!c&&t<n)&&(t=n),to(e,t),c&&t<n||!c&&t>n?s=mt(m):l&&(s=mt(l))}return m(),g}function Ml(){const e=B([]),n=[];return no(()=>{e.value=[]}),[e,l=>(n[l]||(n[l]=s=>{e.value[l]=s}),n[l])]}function Rn(e,n){if(!oo||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{n(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&i.observe(e.value)},s=()=>{e.value&&i.unobserve(e.value)};Ct(s),at(s),sn(l)}const[Nl,Ol]=ge("sticky"),Al={zIndex:be,position:We("top"),container:Object,offsetTop:me(0),offsetBottom:me(0)};var Ul=z({name:Nl,props:Al,emits:["scroll","change"],setup(e,{emit:n,slots:i}){const l=B(),s=rn(l),t=De({fixed:!1,width:0,height:0,transform:0}),c=B(!1),r=S(()=>cn(e.position==="top"?e.offsetTop:e.offsetBottom)),_=S(()=>{if(c.value)return;const{fixed:p,height:u,width:v}=t;if(p)return{width:`${v}px`,height:`${u}px`}}),g=S(()=>{if(!t.fixed||c.value)return;const p=un(lo(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(p.transform=`translate3d(0, ${t.transform}px, 0)`),p}),m=p=>n("scroll",{scrollTop:p,isFixed:t.fixed}),b=()=>{if(!l.value||He(l))return;const{container:p,position:u}=e,v=Pe(l),w=an(window);if(t.width=v.width,t.height=v.height,u==="top")if(p){const C=Pe(p),T=C.bottom-r.value-t.height;t.fixed=r.value>v.top&&C.bottom>0,t.transform=T<0?T:0}else t.fixed=r.value>v.top;else{const{clientHeight:C}=document.documentElement;if(p){const T=Pe(p),x=C-T.top-r.value-t.height;t.fixed=C-r.value<v.bottom&&C>T.top,t.transform=x<0?-x:0}else t.fixed=C-r.value<v.bottom}m(w)};return G(()=>t.fixed,p=>n("change",p)),st("scroll",b,{target:s,passive:!0}),Rn(l,b),G([Ae,je],()=>{!l.value||He(l)||!t.fixed||(c.value=!0,re(()=>{const p=Pe(l);t.width=p.width,t.height=p.height,c.value=!1}))}),()=>{var p;return o("div",{ref:l,style:_.value},[o("div",{class:Ol({fixed:t.fixed&&!c.value}),style:g.value},[(p=i.default)==null?void 0:p.call(i)])])}}});const Dl=ke(Ul),[Mn,Je]=ge("swipe"),Ll={loop:he,width:be,height:be,vertical:Boolean,autoplay:me(0),duration:me(500),touchable:he,lazyRender:Boolean,initialSwipe:me(0),indicatorColor:String,showIndicators:he,stopPropagation:he},Nn=Symbol(Mn);var zl=z({name:Mn,props:Ll,emits:["change","dragStart","dragEnd"],setup(e,{emit:n,slots:i}){const l=B(),s=B(),t=De({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const r=dn(),{children:_,linkChildren:g}=St(Nn),m=S(()=>_.length),b=S(()=>t[e.vertical?"height":"width"]),p=S(()=>e.vertical?r.deltaY.value:r.deltaX.value),u=S(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-b.value*m.value:0),v=S(()=>b.value?Math.ceil(Math.abs(u.value)/b.value):m.value),w=S(()=>m.value*b.value),C=S(()=>(t.active+m.value)%m.value),T=S(()=>{const O=e.vertical?"vertical":"horizontal";return r.direction.value===O}),x=S(()=>{const O={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(b.value){const Z=e.vertical?"height":"width",Y=e.vertical?"width":"height";O[Z]=`${w.value}px`,O[Y]=e[Y]?`${e[Y]}px`:""}return O}),d=O=>{const{active:Z}=t;return O?e.loop?ct(Z+O,-1,m.value):ct(Z+O,0,v.value):Z},R=(O,Z=0)=>{let Y=O*b.value;e.loop||(Y=Math.min(Y,-u.value));let ae=Z-Y;return e.loop||(ae=ct(ae,u.value,0)),ae},h=({pace:O=0,offset:Z=0,emitChange:Y})=>{if(m.value<=1)return;const{active:ae}=t,P=d(O),D=R(P,Z);if(e.loop){if(_[0]&&D!==u.value){const q=D<u.value;_[0].setOffset(q?w.value:0)}if(_[m.value-1]&&D!==0){const q=D>0;_[m.value-1].setOffset(q?-w.value:0)}}t.active=P,t.offset=D,Y&&P!==ae&&n("change",C.value)},f=()=>{t.swiping=!0,t.active<=-1?h({pace:m.value}):t.active>=m.value&&h({pace:-m.value})},U=()=>{f(),r.reset(),ze(()=>{t.swiping=!1,h({pace:-1,emitChange:!0})})},E=()=>{f(),r.reset(),ze(()=>{t.swiping=!1,h({pace:1,emitChange:!0})})};let N;const V=()=>clearTimeout(N),X=()=>{V(),+e.autoplay>0&&m.value>1&&(N=setTimeout(()=>{E(),X()},+e.autoplay))},j=(O=+e.initialSwipe)=>{if(!l.value)return;const Z=()=>{var Y,ae;if(!He(l)){const P={width:l.value.offsetWidth,height:l.value.offsetHeight};t.rect=P,t.width=+((Y=e.width)!=null?Y:P.width),t.height=+((ae=e.height)!=null?ae:P.height)}m.value&&(O=Math.min(m.value-1,O),O===-1&&(O=m.value-1)),t.active=O,t.swiping=!0,t.offset=R(O),_.forEach(P=>{P.setOffset(0)}),X()};He(l)?re().then(Z):Z()},K=()=>j(t.active);let ne;const ee=O=>{!e.touchable||O.touches.length>1||(r.start(O),c=!1,ne=Date.now(),V(),f())},te=O=>{e.touchable&&t.swiping&&(r.move(O),T.value&&(!e.loop&&(t.active===0&&p.value>0||t.active===m.value-1&&p.value<0)||(so(O,e.stopPropagation),h({offset:p.value}),c||(n("dragStart",{index:C.value}),c=!0))))},M=()=>{if(!e.touchable||!t.swiping)return;const O=Date.now()-ne,Z=p.value/O;if((Math.abs(Z)>.25||Math.abs(p.value)>b.value/2)&&T.value){const ae=e.vertical?r.offsetY.value:r.offsetX.value;let P=0;e.loop?P=ae>0?p.value>0?-1:1:0:P=-Math[p.value>0?"ceil":"floor"](p.value/b.value),h({pace:P,emitChange:!0})}else p.value&&h({pace:0});c=!1,t.swiping=!1,n("dragEnd",{index:C.value}),X()},H=(O,Z={})=>{f(),r.reset(),ze(()=>{let Y;e.loop&&O===m.value?Y=t.active===0?0:O:Y=O%m.value,Z.immediate?ze(()=>{t.swiping=!1}):t.swiping=!1,h({pace:Y-t.active,emitChange:!0})})},A=(O,Z)=>{const Y=Z===C.value,ae=Y?{backgroundColor:e.indicatorColor}:void 0;return o("i",{style:ae,class:Je("indicator",{active:Y})},null)},Le=()=>{if(i.indicator)return i.indicator({active:C.value,total:m.value});if(e.showIndicators&&m.value>1)return o("div",{class:Je("indicators",{vertical:e.vertical})},[Array(m.value).fill("").map(A)])};return Xe({prev:U,next:E,state:t,resize:K,swipeTo:H}),g({size:b,props:e,count:m,activeIndicator:C}),G(()=>e.initialSwipe,O=>j(+O)),G(m,()=>j(t.active)),G(()=>e.autoplay,X),G([Ae,je,()=>e.width,()=>e.height],K),G(ao(),O=>{O==="visible"?X():V()}),ye(j),Tt(()=>j(t.active)),vn(()=>j(t.active)),Ct(V),at(V),st("touchmove",te,{target:s}),()=>{var O;return o("div",{ref:l,class:Je()},[o("div",{ref:s,style:x.value,class:Je("track",{vertical:e.vertical}),onTouchstartPassive:ee,onTouchend:M,onTouchcancel:M},[(O=i.default)==null?void 0:O.call(i)]),Le()])}}});const Rt=ke(zl),[Fl,zt]=ge("tabs");var jl=z({name:Fl,props:{count:ut(Number),inited:Boolean,animated:Boolean,duration:ut(be),swipeable:Boolean,lazyRender:Boolean,currentIndex:ut(Number)},emits:["change"],setup(e,{emit:n,slots:i}){const l=B(),s=r=>n("change",r),t=()=>{var r;const _=(r=i.default)==null?void 0:r.call(i);return e.animated||e.swipeable?o(Rt,{ref:l,loop:!1,class:zt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[_]}):_},c=r=>{const _=l.value;_&&_.state.active!==r&&_.swipeTo(r,{immediate:!e.inited})};return G(()=>e.currentIndex,c),ye(()=>{c(e.currentIndex)}),Xe({swipeRef:l}),()=>o("div",{class:zt("content",{animated:e.animated||e.swipeable})},[t()])}});const[On,et]=ge("tabs"),Wl={type:We("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:me(0),duration:me(.3),animated:Boolean,ellipsis:he,swipeable:Boolean,scrollspy:Boolean,offsetTop:me(0),background:String,lazyRender:he,showHeader:he,lineWidth:be,lineHeight:be,beforeChange:Function,swipeThreshold:me(5),titleActiveColor:String,titleInactiveColor:String},An=Symbol(On);var Hl=z({name:On,props:Wl,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:i}){let l,s,t,c,r;const _=B(),g=B(),m=B(),b=B(),p=kn(),u=rn(_),[v,w]=Ml(),{children:C,linkChildren:T}=St(An),x=De({inited:!1,position:"",lineStyle:{},currentIndex:-1}),d=S(()=>C.length>+e.swipeThreshold||!e.ellipsis||e.shrink),R=S(()=>({borderColor:e.color,background:e.background})),h=(P,D)=>{var q;return(q=P.name)!=null?q:D},f=S(()=>{const P=C[x.currentIndex];if(P)return h(P,x.currentIndex)}),U=S(()=>cn(e.offsetTop)),E=S(()=>e.sticky?U.value+l:0),N=P=>{const D=g.value,q=v.value;if(!d.value||!D||!q||!q[x.currentIndex])return;const se=q[x.currentIndex].$el,le=se.offsetLeft-(D.offsetWidth-se.offsetWidth)/2;c&&c(),c=Vl(D,le,P?0:+e.duration)},V=()=>{const P=x.inited;re(()=>{const D=v.value;if(!D||!D[x.currentIndex]||e.type!=="line"||He(_.value))return;const q=D[x.currentIndex].$el,{lineWidth:se,lineHeight:le}=e,pe=q.offsetLeft+q.offsetWidth/2,xe={width:Ye(se),backgroundColor:e.color,transform:`translateX(${pe}px) translateX(-50%)`};if(P&&(xe.transitionDuration=`${e.duration}s`),ht(le)){const Qe=Ye(le);xe.height=Qe,xe.borderRadius=Qe}x.lineStyle=xe})},X=P=>{const D=P<x.currentIndex?-1:1;for(;P>=0&&P<C.length;){if(!C[P].disabled)return P;P+=D}},j=(P,D)=>{const q=X(P);if(!ht(q))return;const se=C[q],le=h(se,q),pe=x.currentIndex!==null;x.currentIndex!==q&&(x.currentIndex=q,D||N(),V()),le!==e.active&&(n("update:active",le),pe&&n("change",le,se.title)),t&&!e.scrollspy&&ro(Math.ceil(At(_.value)-U.value))},K=(P,D)=>{const q=C.find((le,pe)=>h(le,pe)===P),se=q?C.indexOf(q):0;j(se,D)},ne=(P=!1)=>{if(e.scrollspy){const D=C[x.currentIndex].$el;if(D&&u.value){const q=At(D,u.value)-E.value;s=!0,r&&r(),r=Rl(u.value,q,P?0:+e.duration,()=>{s=!1})}}},ee=(P,D,q)=>{const{title:se,disabled:le}=C[D],pe=h(C[D],D);le||(co(e.beforeChange,{args:[pe],done:()=>{j(D),ne()}}),uo(P)),n("clickTab",{name:pe,title:se,event:q,disabled:le})},te=P=>{t=P.isFixed,n("scroll",P)},M=P=>{re(()=>{K(P),ne(!0)})},H=()=>{for(let P=0;P<C.length;P++){const{top:D}=Pe(C[P].$el);if(D>E.value)return P===0?0:P-1}return C.length-1},A=()=>{if(e.scrollspy&&!s){const P=H();j(P)}},Le=()=>{if(e.type==="line"&&C.length)return o("div",{class:et("line"),style:x.lineStyle},null)},O=()=>{var P,D,q;const{type:se,border:le,sticky:pe}=e,xe=[o("div",{ref:pe?void 0:m,class:[et("wrap"),{[io]:se==="line"&&le}]},[o("div",{ref:g,role:"tablist",class:et("nav",[se,{shrink:e.shrink,complete:d.value}]),style:R.value,"aria-orientation":"horizontal"},[(P=i["nav-left"])==null?void 0:P.call(i),C.map(Qe=>Qe.renderTitle(ee)),Le(),(D=i["nav-right"])==null?void 0:D.call(i)])]),(q=i["nav-bottom"])==null?void 0:q.call(i)];return pe?o("div",{ref:m},[xe]):xe},Z=()=>{V(),re(()=>{var P,D;N(!0),(D=(P=b.value)==null?void 0:P.swipeRef.value)==null||D.resize()})};G(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],V),G(Ae,Z),G(()=>e.active,P=>{P!==f.value&&K(P)}),G(()=>C.length,()=>{x.inited&&(K(e.active),V(),re(()=>{N(!0)}))});const Y=()=>{K(e.active,!0),re(()=>{x.inited=!0,m.value&&(l=Pe(m.value).height),N(!0)})},ae=(P,D)=>n("rendered",P,D);return Xe({resize:Z,scrollTo:M}),Tt(V),vn(V),sn(Y),Rn(_,V),st("scroll",A,{target:u,passive:!0}),T({id:p,props:e,setLine:V,scrollable:d,onRendered:ae,currentName:f,setTitleRefs:w,scrollIntoView:N}),()=>o("div",{ref:_,class:et([e.type])},[e.showHeader?e.sticky?o(Dl,{container:_.value,offsetTop:U.value,onScroll:te},{default:()=>[O()]}):O():null,o(jl,{ref:b,count:C.length,inited:x.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:x.currentIndex,onChange:j},{default:()=>{var P;return[(P=i.default)==null?void 0:P.call(i)]}})])}});const[Yl,Ft]=ge("tab"),ql=z({name:Yl,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:be,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:he},setup(e,{slots:n}){const i=S(()=>{const s={},{type:t,color:c,disabled:r,isActive:_,activeColor:g,inactiveColor:m}=e;c&&t==="card"&&(s.borderColor=c,r||(_?s.backgroundColor=c:s.color=c));const p=_?g:m;return p&&(s.color=p),s}),l=()=>{const s=o("span",{class:Ft("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||ht(e.badge)&&e.badge!==""?o(vo,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[s]}):s};return()=>o("div",{id:e.id,role:"tab",class:[Ft([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[Kl,Xl]=ge("swipe-item");var Zl=z({name:Kl,setup(e,{slots:n}){let i;const l=De({offset:0,inited:!1,mounted:!1}),{parent:s,index:t}=xt(Nn);if(!s)return;const c=S(()=>{const g={},{vertical:m}=s.props;return s.size.value&&(g[m?"height":"width"]=`${s.size.value}px`),l.offset&&(g.transform=`translate${m?"Y":"X"}(${l.offset}px)`),g}),r=S(()=>{const{loop:g,lazyRender:m}=s.props;if(!m||i)return!0;if(!l.mounted)return!1;const b=s.activeIndicator.value,p=s.count.value-1,u=b===0&&g?p:b-1,v=b===p&&g?0:b+1;return i=t.value===b||t.value===u||t.value===v,i}),_=g=>{l.offset=g};return ye(()=>{re(()=>{l.mounted=!0})}),Xe({setOffset:_}),()=>{var g;return o("div",{class:Xl(),style:c.value},[r.value?(g=n.default)==null?void 0:g.call(n):null])}}});const Mt=ke(Zl),[Gl,ft]=ge("tab"),Ql=un({},po,{dot:Boolean,name:be,badge:be,title:String,disabled:Boolean,titleClass:bo,titleStyle:[String,Object],showZeroBadge:he});var Jl=z({name:Gl,props:Ql,setup(e,{slots:n}){const i=kn(),l=B(!1),s=Ie(),{parent:t,index:c}=xt(An);if(!t)return;const r=()=>{var v;return(v=e.name)!=null?v:c.value},_=()=>{l.value=!0,t.props.lazyRender&&re(()=>{t.onRendered(r(),e.title)})},g=S(()=>{const v=r()===t.currentName.value;return v&&!l.value&&_(),v}),m=B(""),b=B("");fn(()=>{const{titleClass:v,titleStyle:w}=e;m.value=v?L(v):"",b.value=w&&typeof w!="string"?fo(ue(w)):w});const p=v=>o(ql,pn({key:i,id:`${t.id}-${c.value}`,ref:t.setTitleRefs(c.value),style:b.value,class:m.value,isActive:g.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:w=>v(s.proxy,c.value,w)},tt(t.props,["type","color","shrink"]),tt(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),u=B(!g.value);return G(g,v=>{v?u.value=!1:ze(()=>{u.value=!0})}),G(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),lt(xo,g),Xe({id:i,renderTitle:p}),()=>{var v;const w=`${t.id}-${c.value}`,{animated:C,swipeable:T,scrollspy:x,lazyRender:d}=t.props;if(!n.default&&!C)return;const R=x||g.value;if(C||T)return o(Mt,{id:i,role:"tabpanel",class:ft("panel-wrapper",{inactive:u.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":w,"data-allow-mismatch":"attribute"},{default:()=>{var U;return[o("div",{class:ft("panel")},[(U=n.default)==null?void 0:U.call(n)])]}});const f=l.value||x||!d?(v=n.default)==null?void 0:v.call(n):null;return Ne(o("div",{id:i,role:"tabpanel",class:ft("panel"),tabindex:R?0:-1,"aria-labelledby":w,"data-allow-mismatch":"attribute"},[f]),[[Oe,R]])}}});const ea=ke(Jl),ta=ke(Hl),na={gap:go(24),icon:String,axis:We("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[oa,jt]=ge("floating-bubble");var la=z({name:oa,inheritAttrs:!1,props:na,emits:["click","update:offset","offsetChange"],setup(e,{slots:n,emit:i,attrs:l}){const s=B(),t=B({x:0,y:0,width:0,height:0}),c=S(()=>({top:e.gap,right:Ae.value-t.value.width-e.gap,bottom:je.value-t.value.height-e.gap,left:e.gap})),r=B(!1);let _=!1;const g=S(()=>{const d={},R=Ye(t.value.x),h=Ye(t.value.y);return d.transform=`translate3d(${R}, ${h}, 0)`,(r.value||!_)&&(d.transition="none"),d}),m=()=>{if(!x.value)return;const{width:d,height:R}=Pe(s.value),{offset:h}=e;t.value={x:h.x>-1?h.x:Ae.value-d-e.gap,y:h.y>-1?h.y:je.value-R-e.gap,width:d,height:R}},b=dn();let p=0,u=0;const v=d=>{b.start(d),r.value=!0,p=t.value.x,u=t.value.y};st("touchmove",d=>{if(d.preventDefault(),b.move(d),e.axis!=="lock"&&!b.isTap.value){if(e.axis==="x"||e.axis==="xy"){let h=p+b.deltaX.value;h<c.value.left&&(h=c.value.left),h>c.value.right&&(h=c.value.right),t.value.x=h}if(e.axis==="y"||e.axis==="xy"){let h=u+b.deltaY.value;h<c.value.top&&(h=c.value.top),h>c.value.bottom&&(h=c.value.bottom),t.value.y=h}const R=tt(t.value,["x","y"]);i("update:offset",R)}},{target:s});const C=()=>{r.value=!1,re(()=>{if(e.magnetic==="x"){const d=Lt([c.value.left,c.value.right],t.value.x);t.value.x=d}if(e.magnetic==="y"){const d=Lt([c.value.top,c.value.bottom],t.value.y);t.value.y=d}if(!b.isTap.value){const d=tt(t.value,["x","y"]);i("update:offset",d),(p!==d.x||u!==d.y)&&i("offsetChange",d)}})},T=d=>{b.isTap.value?i("click",d):d.stopPropagation()};ye(()=>{m(),re(()=>{_=!0})}),G([Ae,je,()=>e.gap,()=>e.offset],m,{deep:!0});const x=B(!0);return Tt(()=>{x.value=!0}),Ct(()=>{e.teleport&&(x.value=!1)}),()=>{const d=Ne(o("div",pn({class:jt(),ref:s,onTouchstartPassive:v,onTouchend:C,onTouchcancel:C,onClickCapture:T,style:g.value},l),[n.default?n.default():o(mo,{name:e.icon,class:jt("icon")},null)]),[[Oe,x.value]]);return e.teleport?o(ho,{to:e.teleport},{default:()=>[d]}):d}}});const aa=ke(la),[sa,pt]=ge("progress"),ia={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:he,pivotColor:String,trackColor:String,strokeWidth:be,percentage:{type:be,default:0,validator:e=>+e>=0&&+e<=100}};var ra=z({name:sa,props:ia,setup(e){const n=S(()=>e.inactive?void 0:e.color),i=()=>{const{textColor:l,pivotText:s,pivotColor:t,percentage:c}=e,r=s??`${c}%`;if(e.showPivot&&r){const _={color:l,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:t||n.value};return o("span",{style:_,class:pt("pivot",{inactive:e.inactive})},[r])}};return()=>{const{trackColor:l,percentage:s,strokeWidth:t}=e,c={background:l,height:Ye(t)},r={width:`${s}%`,background:n.value};return o("div",{class:pt(),style:c},[o("span",{class:pt("portion",{inactive:e.inactive}),style:r},null),i()])}}});const ca=ke(ra),[Un,Wt]=ge("steps"),ua={active:me(0),direction:We("horizontal"),activeIcon:We("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Dn=Symbol(Un);var da=z({name:Un,props:ua,emits:["clickStep"],setup(e,{emit:n,slots:i}){const{linkChildren:l}=St(Dn);return l({props:e,onClickStep:t=>n("clickStep",t)}),()=>{var t;return o("div",{class:Wt([e.direction])},[o("div",{class:Wt("items")},[(t=i.default)==null?void 0:t.call(i)])])}}});const[va,$e]=ge("step");var fa=z({name:va,setup(e,{slots:n}){const{parent:i,index:l}=xt(Dn);if(!i)return;const s=i.props,t=()=>{const b=+s.active;return l.value<b?"finish":l.value===b?"process":"waiting"},c=()=>t()==="process",r=S(()=>({background:t()==="finish"?s.activeColor:s.inactiveColor})),_=S(()=>{if(c())return{color:s.activeColor};if(t()==="waiting")return{color:s.inactiveColor}}),g=()=>i.onClickStep(l.value),m=()=>{const{iconPrefix:b,finishIcon:p,activeIcon:u,activeColor:v,inactiveIcon:w}=s;return c()?n["active-icon"]?n["active-icon"]():o(dt,{class:$e("icon","active"),name:u,color:v,classPrefix:b},null):t()==="finish"&&(p||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():o(dt,{class:$e("icon","finish"),name:p,color:v,classPrefix:b},null):n["inactive-icon"]?n["inactive-icon"]():w?o(dt,{class:$e("icon"),name:w,classPrefix:b},null):o("i",{class:$e("circle"),style:r.value},null)};return()=>{var b;const p=t();return o("div",{class:[_o,$e([s.direction,{[p]:p}])]},[o("div",{class:$e("title",{active:c()}),style:_.value,onClick:g},[(b=n.default)==null?void 0:b.call(n)]),o("div",{class:$e("circle-container"),onClick:g},[m()]),o("div",{class:$e("line"),style:r.value},null)])}}});const pa=ke(fa),ba=ke(da),ga={key:0},ma={class:"videoCenter"},ha=["src"],_a={key:1,class:"main"},ya={class:"video-grid"},ka=["onMouseenter","onClick"],$a={class:"thumbnail"},wa={class:"video-id"},Ca={key:0,class:"overlay"},Sa=["onClick"],Ta={style:{height:"440px"}},xa=["src"],Pa={__name:"VideoList",props:{videos:{type:Array,default:()=>[],required:!0}},emits:["delete-video"],setup(e,{emit:n}){const i=e,l=n,s=B(!1),t=B(""),c=S(()=>Re()),r=B(null),_=b=>{const p=i.videos.find(u=>u.id===b);p&&(t.value=URL.createObjectURL(p.file),s.value=!0)},g=()=>{s.value=!1,URL.revokeObjectURL(t.value)},m=b=>{mn(b)};return(b,p)=>{const u=yn,v=Pt,w=bn,C=_n,T=gn,x=Ge,d=Ze,R=nt("CircleCheck"),h=ve,f=Bt,U=Vt;return a(c)?(y(),I("div",ga,[e.videos.length!==0?(y(),W(C,{key:0,"finished-text":"没有更多了",style:{"margin-top":"1vh","border-top":"1px dotted lightgray"}},{default:k(()=>[(y(!0),I(Ce,null,Se(e.videos,E=>(y(),W(w,{key:E.id,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(v,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:N=>l("delete-video",E.id)},null,8,["onClick"])]),default:k(()=>[o(u,{border:!1,icon:"video-o",title:E.id,value:E.isUploaded?"已上传":"",onClick:N=>_(E.id)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})):(y(),W(T,{key:1,description:"暂无视频"})),o(d,{show:a(s),"onUpdate:show":p[0]||(p[0]=E=>de(s)?s.value=E:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1},{default:k(()=>[o(x,null,{default:k(()=>p[3]||(p[3]=[$("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),$("div",ma,[a(t)?(y(),I("video",{key:0,src:a(t),controls:"",style:{height:"100%"},onError:m}," 您的浏览器不支持视频播放 ",40,ha)):Q("",!0)]),p[4]||(p[4]=$("div",{style:{width:"100%",padding:"5px"}},null,-1))]),_:1},8,["show"])])):(y(),I("div",_a,[$("div",ya,[(y(!0),I(Ce,null,Se(e.videos,E=>(y(),I("div",{key:E.id,class:"video-item",onMouseenter:N=>r.value=E.id,onMouseleave:p[1]||(p[1]=N=>r.value=null),onClick:N=>_(E.id)},[$("div",$a,[p[6]||(p[6]=$("i",{class:"iconfont icon-shipin"},null,-1)),$("span",wa,"#"+J(E.id),1),a(r)===E.id?(y(),I("div",Ca,[$("button",{class:"dltBtn",onClick:Fe(N=>l("delete-video",E.id),["stop"])},p[5]||(p[5]=[$("i",{class:"iconfont icon-shanchu1",style:{color:"red","font-size":"1.75rem"}},null,-1)]),8,Sa)])):Q("",!0),E.isUploaded?(y(),W(h,{key:1},{default:k(()=>[o(R)]),_:1})):Q("",!0)])],40,ka))),128)),o(f,{style:{height:"550px"},modelValue:a(s),"onUpdate:modelValue":p[2]||(p[2]=E=>de(s)?s.value=E:null),title:"视频预览","close-on-click-modal":!1,onClose:g},{default:k(()=>[$("div",Ta,[$("video",{style:{height:"100%"},src:a(t),controls:"",class:"video-player",preload:"auto",onError:m}," 您的浏览器不支持视频播放 ",40,xa)])]),_:1},8,["modelValue"])]),e.videos.length===0?(y(),W(U,{key:0,description:"暂无视频",style:{padding:"0"}})):Q("",!0)]))}}},Ht=Ve(Pa,[["__scopeId","data-v-418fcdb1"]]),Ea={key:0},Ia={style:{height:"60vh","overflow-y":"auto"}},Ba={key:1},Va={class:"dataset-container"},Ra={__name:"DataSet",setup(e){const n=B([]),i=yo(),l=it(),s=B(1),t=S(()=>Re()),c=B(!1),r=B(!1),_=u=>{n.value.push({id:`video_${new Date().getTime()}${s.value++}`,file:u,isUploaded:!1,type:"file",timeStamp:new Date})},g=u=>{const v=Date.now(),w=new File([u],`${v}.avi`,{type:"video/x-msvideo"});_(w),r.value=!1},m=async()=>{const u=n.value.filter(w=>!w.isUploaded),v=u.length;if(v===0){ot("无可上传视频");return}try{await Promise.all(u.map(p)),u.every(w=>w.isUploaded)&&(Ue("全部上传成功, 可前往下一步"),i.changeCounter(v))}catch(w){console.error("上传失败:",w),ie("上传失败，请检查网络连接")}},b=u=>{_t("视频").then(()=>{n.value=n.value.filter(v=>v.id!==u),Ue("删除成功")})},p=u=>{const v=new FormData;return v.append("video",u.file),v.append("videoId",u.id),v.append("modelId",l.processedModel.id),Me.video.uploadAllVideos(v).then(w=>(w.code==="200"?u.isUploaded=!0:(console.log(w.msg),ie(`${u.id}上传失败`)),w)).catch(w=>{console.error("上传失败:",u.id,w)})};return(u,v)=>{const w=Mt,C=Rt,T=hn,x=Ge,d=nt("Star"),R=ve,h=Ze,f=Et,U=Bt;return a(t)?(y(),I("div",Ea,[o(T,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:v[0]||(v[0]=E=>c.value=!0)},{default:k(()=>[o(C,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o(w,null,{default:k(()=>v[4]||(v[4]=[F("视频数量限制为100，超出会被忽略")])),_:1}),o(w,null,{default:k(()=>v[5]||(v[5]=[F("视频尽可能覆盖所有使用场景，否则会使实机部署效果欠佳")])),_:1}),o(w,null,{default:k(()=>v[6]||(v[6]=[F("每个标签的视频数量最少10份，否则训练效果可能一般")])),_:1}),o(w,null,{default:k(()=>v[7]||(v[7]=[F("每个标签的视频数量尽量接近")])),_:1})]),_:1})]),_:1}),o(Ut,{onAddVideo:_,onUpload:m}),$("div",Ia,[o(Ht,{videos:a(n),onDeleteVideo:b},null,8,["videos"])]),o(h,{show:a(c),"onUpdate:show":v[1]||(v[1]=E=>de(c)?c.value=E:null),position:"bottom",style:{height:"40%"},closeable:""},{default:k(()=>[o(x,null,{default:k(()=>v[8]||(v[8]=[$("span",{style:{color:"black","font-size":"large"}},"数据采集",-1)])),_:1}),$("div",null,[$("ul",null,[$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[9]||(v[9]=F(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[10]||(v[10]=F(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[11]||(v[11]=F(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[12]||(v[12]=F(" 每个标签的视频数量尽量接近 "))])])])]),_:1},8,["show"])])):(y(),I("div",Ba,[v[17]||(v[17]=$("h2",{style:{"margin-bottom":"10px"}},null,-1)),$("div",null,[$("ul",null,[$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[13]||(v[13]=F(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[14]||(v[14]=F(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[15]||(v[15]=F(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),$("li",null,[o(R,null,{default:k(()=>[o(d)]),_:1}),v[16]||(v[16]=F(" 每个标签的视频数量尽量接近 "))])])]),$("div",Va,[o(Ut,{onAddVideo:_,onStartRecording:v[2]||(v[2]=E=>r.value=!0),onUpload:m}),o(f,{style:{margin:"2% auto"}}),o(Ht,{videos:a(n),onDeleteVideo:b},null,8,["videos"]),o(U,{modelValue:a(r),"onUpdate:modelValue":v[3]||(v[3]=E=>de(r)?r.value=E:null),title:"摄像头录制","close-on-click-modal":!1},{default:k(()=>[a(r)?(y(),W(To,{key:0,onRecordComplete:g})):Q("",!0)]),_:1},8,["modelValue"])])]))}}},Yt=Ve(Ra,[["__scopeId","data-v-4b972241"]]),Ma={key:0},Na={style:{color:"black","font-size":"large"}},Oa={class:"videoCenter"},Aa=["src"],Ua={class:"videoTag"},Da={key:1},La={class:"Show-head"},za={key:0,style:{"font-size":"20px"}},Fa={class:"video-show"},ja=["src"],Wa={key:1,class:"video-placeholder"},Ha={__name:"VideoShow",props:{videoUrl:{type:String,default:""},showObject:{type:Object,default:()=>{}}},emits:["update:videoUrl","addTag"],setup(e,{emit:n}){const i=e,l=n,s=S(()=>Re()),t=B(!1);fn(()=>{t.value=i.videoUrl!==""});const c=()=>{i.videoUrl&&(URL.revokeObjectURL(i.videoUrl),s.value&&l("update:videoUrl",""))},r=g=>{mn(g),l("update:videoUrl","")},_=()=>{if(!i.videoUrl){ot("请先选择视频");return}l("addTag")};return(g,m)=>{var C;const b=Ge,p=Ze,u=It,v=Et,w=Vt;return a(s)?(y(),I("div",Ma,[o(p,{show:a(t),"onUpdate:show":m[0]||(m[0]=T=>de(t)?t.value=T:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1,onClose:c},{default:k(()=>{var T;return[o(b,null,{default:k(()=>{var x;return[$("span",Na,J((x=e.showObject)==null?void 0:x.title),1)]}),_:1}),$("div",Oa,[e.videoUrl?(y(),I("video",{key:0,src:e.videoUrl,controls:"",style:{height:"100%"},onError:r}," 您的浏览器不支持视频播放 ",40,Aa)):Q("",!0)]),$("div",Ua,"标注："+J(((T=e.showObject)==null?void 0:T.tag)===!0?e.showObject.number:"暂无"),1)]}),_:1},8,["show"])])):(y(),I("div",Da,[$("div",La,[e.showObject?(y(),I("span",za,J((C=e.showObject)==null?void 0:C.title),1)):Q("",!0),o(u,{type:"primary",onClick:_},{default:k(()=>{var T;return[F(J((T=e.showObject)!=null&&T.tag?"更改":"新增")+"注解",1)]}),_:1})]),o(v,{style:{margin:"5% auto"}}),$("div",Fa,[e.videoUrl?(y(),I("video",{key:0,style:{height:"75%"},src:e.videoUrl,controls:"",class:"video-player",onError:r}," 您的浏览器不支持视频播放 ",40,ja)):(y(),I("div",Wa,[o(w,{description:"没有选择视频"})]))])]))}}},qt=Ve(Ha,[["__scopeId","data-v-e8ab88a5"]]),Ya={key:0},qa={key:0,class:"videoList"},Ka={key:0,class:"videoList"},Xa={key:0,class:"videoList"},Za={class:"tips-content"},Ga={key:1},Qa={style:{"margin-bottom":"10px"}},Ja={style:{color:"red"}},es={class:"tag-body"},ts=["onClick","onMouseenter","onMouseleave"],ns=["onClick"],os=["onClick"],ls={class:"tag-body"},as=["onClick","onMouseenter","onMouseleave"],ss=["onClick"],is=["onClick"],rs={class:"tag-body"},cs=["onClick","onMouseenter","onMouseleave"],us=["onClick"],ds={__name:"VideoTag",props:{videoList:{type:Array,default:()=>[]},isTagged:{type:Array,default:()=>[]},noTagged:{type:Array,default:()=>[]}},emits:["video-selected","openTagDlg","deleteVideo"],setup(e,{emit:n}){const i=e,l=n,s=B(null),t=S(()=>Re()),c=B(!1),r=B([]),_=B("all"),g=B("a"),m=S(()=>{switch(_.value){case"tagged":return i.isTagged;case"noTagged":return i.noTagged;default:return i.videoList}}),b=p=>{s.value=p,l("video-selected",p)};return(p,u)=>{const v=Mt,w=Rt,C=hn,T=yn,x=Pt,d=bn,R=_n,h=gn,f=ea,U=ta,E=Ge,N=nt("Star"),V=ve,X=Ze,j=nt("Promotion"),K=ko,ne=Vt,ee=Bl,te=Il;return a(t)?(y(),I("div",Ya,[o(C,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:u[0]||(u[0]=M=>c.value=!0)},{default:k(()=>[o(w,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o(v,null,{default:k(()=>u[4]||(u[4]=[F("请选择对应的视频进行相应意思标注方便模型训练")])),_:1}),o(v,null,{default:k(()=>u[5]||(u[5]=[F("标注字数请勿超过15字")])),_:1}),o(v,null,{default:k(()=>u[6]||(u[6]=[F("如果想要更改标注可以左滑点击标记进行更改")])),_:1})]),_:1})]),_:1}),o(U,{active:a(g),"onUpdate:active":u[1]||(u[1]=M=>de(g)?g.value=M:null)},{default:k(()=>[o(f,{title:"全部 "+e.videoList.length.toString(),name:"a"},{default:k(()=>[e.videoList.length?(y(),I("div",qa,[o(R,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.videoList,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,value:M.tag===!0?"已标记":"",onClick:A=>b(M)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(h,{key:1,description:"暂无视频"}))]),_:1},8,["title"]),o(f,{title:"已标记 "+e.isTagged.length.toString(),name:"b"},{default:k(()=>[e.isTagged.length?(y(),I("div",Ka,[o(R,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.isTagged,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{square:"",style:{height:"100%"},type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,value:"已标记",onClick:A=>b(M)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(h,{key:1,description:"暂无已标记视频"}))]),_:1},8,["title"]),o(f,{title:"未标记 "+e.noTagged.length.toString(),name:"c"},{default:k(()=>[e.noTagged.length?(y(),I("div",Xa,[o(R,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.noTagged,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,onClick:A=>b(M)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(h,{key:1,description:"暂无未标记视频"}))]),_:1},8,["title"])]),_:1},8,["active"]),o(X,{show:a(c),"onUpdate:show":u[2]||(u[2]=M=>de(c)?c.value=M:null),position:"bottom",style:{height:"30%"},closeable:""},{default:k(()=>[o(E,null,{default:k(()=>u[7]||(u[7]=[$("span",{style:{color:"black","font-size":"large"}},"标注事宜",-1)])),_:1}),$("div",Za,[$("ul",null,[$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[8]||(u[8]=F(" 选择对应视频进行相应意思标注方便模型训练 "))]),$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[9]||(u[9]=F(" 标注字数请勿超过15字 "))]),$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[10]||(u[10]=F(" 如果想要更改标注可以右滑点击标记进行更改 "))])])])]),_:1},8,["show"])])):(y(),I("div",Ga,[$("h3",Qa,[o(V,null,{default:k(()=>[o(j)]),_:1}),u[11]||(u[11]=F(" 标注事宜 "))]),$("div",Ja,[$("ul",null,[$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[12]||(u[12]=F(" 请选择对应的视频进行相应的意思标注方便模型训练 "))]),$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[13]||(u[13]=F(" 标注字数请勿超过15字 "))]),$("li",null,[o(V,null,{default:k(()=>[o(N)]),_:1}),u[14]||(u[14]=F(" 如果想要更改标注可以点击视频标签上的标识图案 "))])])]),o(te,{modelValue:a(_),"onUpdate:modelValue":u[3]||(u[3]=M=>de(_)?_.value=M:null)},{default:k(()=>[o(ee,{label:"全部 "+e.videoList.length,name:"all"},{default:k(()=>[$("div",es,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>b(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,J(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[15]||(u[15]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,ns),[[Oe,a(r)[H]]]),M.tag===!0?(y(),W(K,{key:0,class:"box-item",effect:"dark",content:M.number,placement:"top"},{default:k(()=>[M.tag===!0?(y(),I("span",{key:0,onClick:A=>l("openTagDlg",M),class:"right"},u[16]||(u[16]=[$("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,os)):Q("",!0)]),_:2},1032,["content"])):Q("",!0)],42,ts))),128)),e.videoList.length===0?(y(),W(ne,{key:0,description:"暂无视频"})):Q("",!0)])]),_:1},8,["label"]),o(ee,{label:"已标记 "+e.isTagged.length,name:"tagged"},{default:k(()=>[$("div",ls,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>b(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,J(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[17]||(u[17]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,ss),[[Oe,a(r)[H]]]),o(K,{class:"box-item",effect:"dark",content:M.number,placement:"top"},{default:k(()=>[$("span",{onClick:Fe(A=>l("openTagDlg",M),["stop"]),class:"right"},u[18]||(u[18]=[$("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,is)]),_:2},1032,["content"])],42,as))),128)),e.isTagged.length===0?(y(),W(ne,{key:0,description:"暂无已标记视频"})):Q("",!0)])]),_:1},8,["label"]),o(ee,{label:"未标记 "+e.noTagged.length,name:"noTagged"},{default:k(()=>[$("div",rs,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>b(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,J(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[19]||(u[19]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,us),[[Oe,a(r)[H]]])],42,cs))),128)),e.noTagged.length===0?(y(),W(ne,{key:0,description:"暂无未标记视频"})):Q("",!0)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]))}}},Kt=Ve(ds,[["__scopeId","data-v-65df13a5"]]),vs={key:0},fs={style:{color:"black"}},ps={style:{display:"flex","justify-content":"center",gap:"30px","margin-top":"8vh"}},bs={key:1},gs={class:"tagBody"},ms={key:0},hs={key:1},_s={style:{margin:"10px 0"}},ys={class:"dialog-footer"},ks="/api",$s={__name:"Tag",setup(e){const n=B(null),i=B([]),l=B(""),s=B(""),t=S(()=>i.value.filter(h=>h.tag===!0)),c=S(()=>i.value.filter(h=>h.tag===!1)),r=B(!1),_=it(),g=new Map,m=S(()=>Re()),b=B(1),p=h=>{l.value=h},u=()=>{Me.video.getAllVideos({params:{modelId:_.processedModel.id}}).then(h=>{h.code==="200"&&Array.isArray(h.data)?i.value=h.data:(console.error("视频列表加载失败:",h.msg),ie(h.msg))}).catch(h=>{console.log(h.message),ie("加载视频列表失败")})},v=h=>{if(n.value=h,g.has(h.title)){l.value=g.get(h.title);return}Me.video.getSelectVideo({params:{videoTitle:h.title}}).then(f=>{f.code==="200"?(l.value=ks+f.url,g.set(h.title,l.value)):(console.log(f.msg),ie(f.msg))}).catch(f=>{console.log(f.message),ie("视频展示出错")})},w=h=>{n.value=h,b.value=0,n.value.tag?s.value=n.value.number:s.value="",r.value=!0},C=()=>{n.value?n.value.tag===!0?w(n.value):(s.value="",r.value=!0,b.value=1):ot("请先选择要操作的视频")},T=()=>c.value.length===0,x=()=>{if(s.value===""||s.value.length>15){ot("输入的标识字数需要大于0且小于15");return}let h={...n.value};h.tag=!0,h.number=s.value,Me.video.updateVideoTag(h).then(f=>{if(f.code==="200"){n.value.tag=!0,n.value.number=s.value;let U="";T()&&(U="，可以前往下一步"),Ue(`标注成功${U}`),r.value=!1}else ie("标注失败")}).catch(f=>{console.log(f),ie("标注失败")})},d=h=>{_t("视频").then(()=>{Me.video.deleteVideo({params:{videoTitle:h}}).then(f=>{f.code==="200"?(Ue("删除成功"),n.value=null,i.value=i.value.filter(U=>U.title!==h)):(console.log(f.msg),ie("删除失败"))}).catch(f=>{console.log(f),ie("删除失败")})})},R=()=>{if(!n.value||n.value.tag===null)return;let h=n.value.title;_t("标识").then(()=>{Me.video.deleteVideoTag({params:{videoTitle:h}}).then(f=>{f.code==="200"?(r.value=!1,Ue("删除标识成功"),n.value.number="",n.value.tag=!1,u()):(console.log(f.msg),ie("删除标识失败"))}).catch(f=>{console.log(f.message),ie("删除标识失败")})})};return ye(()=>u()),(h,f)=>{const U=Ge,E=Io,N=Eo,V=Pt,X=Ze,j=Jo,K=Et,ne=el,ee=Qo,te=$o,M=It,H=Bt;return a(m)?(y(),I("div",vs,[o(Kt,{videoList:a(i),isTagged:a(t),noTagged:a(c),onVideoSelected:v,onDeleteVideo:d,onAddTag:C,onOpenTagDlg:w},null,8,["videoList","isTagged","noTagged"]),o(X,{show:a(r),"onUpdate:show":f[2]||(f[2]=A=>de(r)?r.value=A:null),position:"bottom",style:{height:"50%"},closeable:""},{default:k(()=>[o(U,null,{default:k(()=>[$("span",fs,J(a(n).title),1)]),_:1}),o(N,{inset:"",style:{"margin-top":"10%"}},{default:k(()=>[o(E,{modelValue:a(s),"onUpdate:modelValue":f[0]||(f[0]=A=>de(s)?s.value=A:null),rows:"2",autosize:"",label:"标注",type:"textarea",maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),$("div",ps,[o(V,{type:"warning",style:{width:"100px"},onClick:f[1]||(f[1]=A=>r.value=!1)},{default:k(()=>f[6]||(f[6]=[F("取消")])),_:1}),o(V,{type:"success",style:{width:"100px"},onClick:x},{default:k(()=>f[7]||(f[7]=[F("确认")])),_:1})])]),_:1},8,["show"]),o(qt,{videoUrl:a(l),showObject:a(n),"onUpdate:videoUrl":p},null,8,["videoUrl","showObject"])])):(y(),I("div",bs,[$("div",gs,[o(ee,null,{default:k(()=>[o(j,{width:"590px"},{default:k(()=>[o(qt,{videoUrl:a(l),showObject:a(n),onAddTag:C},null,8,["videoUrl","showObject"])]),_:1}),o(K,{style:{margin:"15px",height:"60vh"},direction:"vertical"}),o(ne,{style:{padding:"0"}},{default:k(()=>[o(Kt,{videoList:a(i),isTagged:a(t),noTagged:a(c),onVideoSelected:v,onDeleteVideo:d,onOpenTagDlg:w},null,8,["videoList","isTagged","noTagged"])]),_:1})]),_:1})]),o(H,{modelValue:a(r),"onUpdate:modelValue":f[5]||(f[5]=A=>de(r)?r.value=A:null),top:"30vh",width:"500",class:"diaglog",draggable:!0,"align-center":!0},{footer:k(()=>[$("div",ys,[a(n).tag===!0?(y(),W(M,{key:0,type:"danger",onClick:R},{default:k(()=>f[8]||(f[8]=[F("删除标签")])),_:1})):Q("",!0),o(M,{onClick:f[4]||(f[4]=A=>r.value=!1)},{default:k(()=>f[9]||(f[9]=[F("取消")])),_:1}),o(M,{type:"primary",onClick:x},{default:k(()=>f[10]||(f[10]=[F("确认")])),_:1})])]),default:k(()=>[a(b)===1?(y(),I("h2",ms,"新增注解")):Q("",!0),a(b)===0?(y(),I("h2",hs,"更改注解")):Q("",!0),$("h3",_s,J(a(n).title),1),$("div",null,[o(te,{type:"text",modelValue:a(s),"onUpdate:modelValue":f[3]||(f[3]=A=>de(s)?s.value=A:null),placeholder:"请输入标注（字数小于15）"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]))}}},Xt=Ve($s,[["__scopeId","data-v-674fb329"]]),ws={key:0},Cs={class:"header",style:{"margin-top":"10vh"}},Ss={key:1},Ts={class:"header"},xs={key:0,class:"progress-icon-container"},Ps={__name:"Infer",setup(e){const n=B(!1),i=B(!1),l=B(0),s=B(!1),t=it(),c=S(()=>Re()),r=()=>{s.value=!0,n.value=!0,i.value=!0,_()},_=()=>{Po.trainModel({params:{modelid:t.processedModel.id}}).then(b=>{if(b.code==="200")l.value+=4,t.processedModel.isTrained=!0;else{ie("训练失败");return}}).catch(b=>{console.log(b),ie("训练失败")});let g=0;const m=setInterval(()=>{g>=24?(l.value===100&&(s.value=!1,Ue("训练成功")),clearInterval(m)):(l.value+=4,g++)},100)};return(g,m)=>{const b=It,p=ca,u=al;return a(c)?(y(),I("div",ws,[$("div",Cs,[$("span",null,"模型训练 "+J(a(l))+"%",1),o(b,{type:"success",onClick:r,disabled:a(s)},{default:k(()=>m[0]||(m[0]=[F("开始训练")])),_:1},8,["disabled"])]),o(p,{percentage:a(l),"stroke-width":"8",color:"lightgreen",class:"mobile-progress"},null,8,["percentage"])])):(y(),I("div",Ss,[$("div",Ts,[$("span",null,"模型训练 "+J(a(l))+"%",1),o(b,{type:"success",onClick:r,disabled:a(s)},{default:k(()=>m[1]||(m[1]=[F("开始训练")])),_:1},8,["disabled"])]),a(i)?(y(),I("div",xs,[o(u,{percentage:a(l),"stroke-width":15,status:"success",striped:"","striped-flow":a(l)<100,duration:10,class:"progress"},null,8,["percentage","striped-flow"])])):Q("",!0)]))}}},Zt=Ve(Ps,[["__scopeId","data-v-00c9337c"]]),Es={key:0},Is={class:"newModel"},Bs={key:1},Vs={style:{"font-size":"1.2rem"}},Rs={class:"step"},Ms={__name:"NewModels",setup(e){const n=wo(),i=it(),l=S(()=>i.processedModel.name),s=S(()=>Re()),t=B({x:300,y:400}),c=()=>{r.value=(r.value+1)%3},r=B(0);return(_,g)=>{const m=So,b=pa,p=ba,u=aa,v=Do,w=Uo,C=bl,T=pl,x=Co;return a(s)?(y(),I("div",Es,[o(m,{title:a(l),"left-arrow":"",onClickLeft:g[0]||(g[0]=d=>a(n).go(-1))},null,8,["title"]),o(p,{active:a(r)},{default:k(()=>[o(b,{onClick:g[1]||(g[1]=d=>r.value=0)},{default:k(()=>g[8]||(g[8]=[F("数据采集")])),_:1}),o(b,{onClick:g[2]||(g[2]=d=>r.value=1)},{default:k(()=>g[9]||(g[9]=[F("语料定义")])),_:1}),o(b,{onClick:g[3]||(g[3]=d=>r.value=2)},{default:k(()=>g[10]||(g[10]=[F("模型训练")])),_:1})]),_:1},8,["active"]),o(u,{axis:"xy",icon:"arrow",magnetic:"x",onClick:c,offset:a(t),"onUpdate:offset":g[4]||(g[4]=d=>de(t)?t.value=d:null)},null,8,["offset"]),$("div",Is,[a(r)===0?(y(),W(Yt,{key:0})):a(r)===1?(y(),W(Xt,{key:1})):(y(),W(Zt,{key:2}))])])):(y(),I("div",Bs,[o(w,{"separator-icon":a(nn)},{default:k(()=>[o(v,{to:{path:"/implents/models/myModels"}},{default:k(()=>g[11]||(g[11]=[F("我的模型")])),_:1}),o(v,null,{default:k(()=>[$("span",Vs,J(a(l)),1)]),_:1})]),_:1},8,["separator-icon"]),o(x,{class:"models-body"},{header:k(()=>[$("div",Rs,[o(T,{active:a(r),"align-center":""},{default:k(()=>[o(C,{title:"数据采集",class:"step-item",onClick:g[5]||(g[5]=d=>r.value=0)}),o(C,{title:"语料定义",class:"step-item",onClick:g[6]||(g[6]=d=>r.value=1)}),o(C,{title:"模型训练",class:"step-item",onClick:g[7]||(g[7]=d=>r.value=2)})]),_:1},8,["active"])])]),default:k(()=>[a(r)===0?(y(),W(Yt,{key:0})):a(r)===1?(y(),W(Xt,{key:1})):(y(),W(Zt,{key:2}))]),_:1})]))}}},qs=Ve(Ms,[["__scopeId","data-v-0e6ee1a2"]]);export{qs as default};
