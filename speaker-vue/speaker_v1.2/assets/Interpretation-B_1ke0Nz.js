import{cB as Cn,t as dt,s as xn,a7 as It,b3 as J,a_ as $e,T as We,b5 as le,cC as de,b4 as Ve,bd as mt,b6 as vt,X as ot,Y as ie,by as Ht,$ as Ue,l as N,a2 as Ke,be as ft,b as P,bL as Xe,Z as pt,b8 as jt,a0 as oe,ab as Se,ad as In,c as T,o as h,aT as he,an as D,e as w,u as n,cD as Me,a6 as Z,a5 as Ie,w as C,am as U,aO as Tn,cE as En,j as ce,cF as Nn,bK as Pn,cG as Mn,bb as ze,m as Dt,a8 as Oe,aa as gt,Q as ye,cH as Bn,as as ht,P as Le,U as Te,cI as Gt,a9 as qt,cJ as tt,af as fe,aI as ge,a3 as nt,a as E,aq as re,aS as Qt,ap as ke,aR as xe,bz as te,bf as Zt,a1 as $n,F as Be,bs as qe,R as Qe,aW as He,cK as zn,ak as Ln,ao as Ne,cL as An,cM as Tt,cN as Rn,cO as On,aU as Ae,aH as Fn,aM as lt,aE as Wn,cP as Pe,aK as Et,aX as Jt,bc as se,cQ as Un,av as Nt,au as Ze,bW as Kn,bV as Yn,aw as en,ax as Xn,bX as Hn,c9 as jn,ay as tn,cR as Dn,b_ as Gn,c0 as nn,c2 as qn,co as Qn,bg as Pt,cS as Zn,bm as Jn,ck as el,bZ as tl,cT as nl,br as ln,aF as ll,bk as on,aB as an,_ as at,g as ol,bp as al,d as st,B as sn,i as ne,h as bt,bw as sl,bx as Mt,S as rn,n as be,cU as il,cV as rl,aQ as yt,cW as un,cX as we,aY as wt,ac as ul,r as Re,cY as cl,cZ as cn,bq as dl,cq as vl,b2 as ml}from"./index-Blj6vUit.js";import{C as _t}from"./index-B5iQMvdu.js";import{b as dn,S as vn,E as mn,c as fl,a as fn}from"./index-C-_Gr6dn.js";import{D as pn}from"./index-C7plpCkv.js";import{N as pl,C as Bt,a as $t,h as gl,f as gn}from"./CameraRecorder-DKXojDS5.js";import"./el-tooltip-l0sNRNKZ.js";import{u as hl}from"./use-id-BIVEMSa8.js";import"https://avatar.gbqr.net/yiyu.js";var bl=/\s/;function yl(e){for(var t=e.length;t--&&bl.test(e.charAt(t)););return t}var wl=/^\s+/;function _l(e){return e&&e.slice(0,yl(e)+1).replace(wl,"")}var zt=NaN,kl=/^[-+]0x[0-9a-f]+$/i,Vl=/^0b[01]+$/i,Sl=/^0o[0-7]+$/i,Cl=parseInt;function Lt(e){if(typeof e=="number")return e;if(Cn(e))return zt;if(dt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_l(e);var o=Vl.test(e);return o||Sl.test(e)?Cl(e.slice(2),o?2:8):kl.test(e)?zt:+e}var it=function(){return xn.Date.now()},xl="Expected a function",Il=Math.max,Tl=Math.min;function At(e,t,o){var l,r,s,a,i,d,u=0,b=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(xl);t=Lt(t)||0,dt(o)&&(b=!!o.leading,m="maxWait"in o,s=m?Il(Lt(o.maxWait)||0,t):s,p="trailing"in o?!!o.trailing:p);function k(v){var B=l,W=r;return l=r=void 0,u=v,a=e.apply(W,B),a}function _(v){return u=v,i=setTimeout(V,t),b?k(v):a}function O(v){var B=v-d,W=v-u,X=t-B;return m?Tl(X,s-W):X}function M(v){var B=v-d,W=v-u;return d===void 0||B>=t||B<0||m&&W>=s}function V(){var v=it();if(M(v))return g(v);i=setTimeout(V,O(v))}function g(v){return i=void 0,p&&l?k(v):(l=r=void 0,a)}function $(){i!==void 0&&clearTimeout(i),u=0,l=d=r=i=void 0}function R(){return i===void 0?a:g(it())}function c(){var v=it(),B=M(v);if(l=arguments,r=this,d=v,B){if(i===void 0)return _(d);if(m)return clearTimeout(i),i=setTimeout(V,t),k(d)}return i===void 0&&(i=setTimeout(V,t)),a}return c.cancel=$,c.flush=R,c}const El=100,Nl=600,Rt={beforeMount(e,t){const o=t.value,{interval:l=El,delay:r=Nl}=It(o)?{}:o;let s,a;const i=()=>It(o)?o():o.handler(),d=()=>{a&&(clearTimeout(a),a=void 0),s&&(clearInterval(s),s=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(d(),i(),document.addEventListener("mouseup",()=>d(),{once:!0}),a=setTimeout(()=>{s=setInterval(()=>{i()},l)},r))})}},Pl=We({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:vt,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||J(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...mt(["ariaLabel"])}),Ml={[Ve]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[de]:e=>J(e)||$e(e),[le]:e=>J(e)||$e(e)},Bl=ie({name:"ElInputNumber"}),$l=ie({...Bl,props:Pl,emits:Ml,setup(e,{expose:t,emit:o}){const l=e,{t:r}=Ht(),s=Ue("input-number"),a=N(),i=Ke({currentValue:l.modelValue,userInput:null}),{formItem:d}=ft(),u=P(()=>J(l.modelValue)&&l.modelValue<=l.min),b=P(()=>J(l.modelValue)&&l.modelValue>=l.max),m=P(()=>{const f=V(l.step);return Xe(l.precision)?Math.max(V(l.modelValue),f):(f>l.precision,l.precision)}),p=P(()=>l.controls&&l.controlsPosition==="right"),k=pt(),_=jt(),O=P(()=>{if(i.userInput!==null)return i.userInput;let f=i.currentValue;if($e(f))return"";if(J(f)){if(Number.isNaN(f))return"";Xe(l.precision)||(f=f.toFixed(l.precision))}return f}),M=(f,S)=>{if(Xe(S)&&(S=m.value),S===0)return Math.round(f);let L=String(f);const A=L.indexOf(".");if(A===-1||!L.replace(".","").split("")[A+S])return f;const Y=L.length;return L.charAt(Y-1)==="5"&&(L=`${L.slice(0,Math.max(0,Y-1))}6`),Number.parseFloat(Number(L).toFixed(S))},V=f=>{if($e(f))return 0;const S=f.toString(),L=S.indexOf(".");let A=0;return L!==-1&&(A=S.length-L-1),A},g=(f,S=1)=>J(f)?M(f+l.step*S):i.currentValue,$=()=>{if(l.readonly||_.value||b.value)return;const f=Number(O.value)||0,S=g(f);v(S),o(de,i.currentValue),K()},R=()=>{if(l.readonly||_.value||u.value)return;const f=Number(O.value)||0,S=g(f,-1);v(S),o(de,i.currentValue),K()},c=(f,S)=>{const{max:L,min:A,step:I,precision:y,stepStrictly:Y,valueOnClear:H}=l;L<A&&gt("InputNumber","min should not be greater than max.");let x=Number(f);if($e(f)||Number.isNaN(x))return null;if(f===""){if(H===null)return null;x=ye(H)?{min:A,max:L}[H]:H}return Y&&(x=M(Math.round(x/I)*I,y),x!==f&&S&&o(le,x)),Xe(y)||(x=M(x,y)),(x>L||x<A)&&(x=x>L?L:A,S&&o(le,x)),x},v=(f,S=!0)=>{var L;const A=i.currentValue,I=c(f);if(!S){o(le,I);return}A===I&&f||(i.userInput=null,o(le,I),A!==I&&o(Ve,I,A),l.validateEvent&&((L=d==null?void 0:d.validate)==null||L.call(d,"change").catch(y=>Oe())),i.currentValue=I)},B=f=>{i.userInput=f;const S=f===""?null:Number(f);o(de,S),v(S,!1)},W=f=>{const S=f!==""?Number(f):"";(J(S)&&!Number.isNaN(S)||f==="")&&v(S),K(),i.userInput=null},X=()=>{var f,S;(S=(f=a.value)==null?void 0:f.focus)==null||S.call(f)},G=()=>{var f,S;(S=(f=a.value)==null?void 0:f.blur)==null||S.call(f)},q=f=>{o("focus",f)},z=f=>{var S,L;i.userInput=null,Bn()&&i.currentValue===null&&((S=a.value)!=null&&S.input)&&(a.value.input.value=""),o("blur",f),l.validateEvent&&((L=d==null?void 0:d.validate)==null||L.call(d,"blur").catch(A=>Oe()))},K=()=>{i.currentValue!==l.modelValue&&(i.currentValue=l.modelValue)},Q=f=>{document.activeElement===f.target&&f.preventDefault()};return oe(()=>l.modelValue,(f,S)=>{const L=c(f,!0);i.userInput===null&&L!==S&&(i.currentValue=L)},{immediate:!0}),Se(()=>{var f;const{min:S,max:L,modelValue:A}=l,I=(f=a.value)==null?void 0:f.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(L)?I.setAttribute("aria-valuemax",String(L)):I.removeAttribute("aria-valuemax"),Number.isFinite(S)?I.setAttribute("aria-valuemin",String(S)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),I.setAttribute("aria-disabled",String(_.value)),!J(A)&&A!=null){let y=Number(A);Number.isNaN(y)&&(y=null),o(le,y)}I.addEventListener("wheel",Q,{passive:!1})}),In(()=>{var f,S;const L=(f=a.value)==null?void 0:f.input;L==null||L.setAttribute("aria-valuenow",`${(S=i.currentValue)!=null?S:""}`)}),t({focus:X,blur:G}),(f,S)=>(h(),T("div",{class:Z([n(s).b(),n(s).m(n(k)),n(s).is("disabled",n(_)),n(s).is("without-controls",!f.controls),n(s).is("controls-right",n(p))]),onDragstart:ze(()=>{},["prevent"])},[f.controls?he((h(),T("span",{key:0,role:"button","aria-label":n(r)("el.inputNumber.decrease"),class:Z([n(s).e("decrease"),n(s).is("disabled",n(u))]),onKeydown:Me(R,["enter"])},[Ie(f.$slots,"decrease-icon",{},()=>[w(n(ce),null,{default:C(()=>[n(p)?(h(),U(n(Tn),{key:0})):(h(),U(n(En),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[n(Rt),R]]):D("v-if",!0),f.controls?he((h(),T("span",{key:1,role:"button","aria-label":n(r)("el.inputNumber.increase"),class:Z([n(s).e("increase"),n(s).is("disabled",n(b))]),onKeydown:Me($,["enter"])},[Ie(f.$slots,"increase-icon",{},()=>[w(n(ce),null,{default:C(()=>[n(p)?(h(),U(n(Nn),{key:0})):(h(),U(n(Pn),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[n(Rt),$]]):D("v-if",!0),w(n(Dt),{id:f.id,ref_key:"input",ref:a,type:"number",step:f.step,"model-value":n(O),placeholder:f.placeholder,readonly:f.readonly,disabled:n(_),size:n(k),max:f.max,min:f.min,name:f.name,"aria-label":f.ariaLabel,"validate-event":!1,onKeydown:[Me(ze($,["prevent"]),["up"]),Me(ze(R,["prevent"]),["down"])],onBlur:z,onFocus:q,onInput:B,onChange:W},Mn({_:2},[f.$slots.prefix?{name:"prefix",fn:C(()=>[Ie(f.$slots,"prefix")])}:void 0,f.$slots.suffix?{name:"suffix",fn:C(()=>[Ie(f.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var zl=ot($l,[["__file","input-number.vue"]]);const Ll=ht(zl),hn=Symbol("sliderContextKey"),Al=We({modelValue:{type:Te([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:vt,inputSize:vt,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Te(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Te(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Gt,default:"top"},marks:{type:Te(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...mt(["ariaLabel"])}),rt=e=>J(e)||Le(e)&&e.every(J),Rl={[le]:rt,[de]:rt,[Ve]:rt},Ol=We({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Gt,default:"top"}}),Fl={[le]:e=>J(e)},Wl=(e,t,o)=>{const l=N(),r=N(!1),s=P(()=>t.value instanceof Function),a=P(()=>s.value&&t.value(e.modelValue)||e.modelValue),i=At(()=>{o.value&&(r.value=!0)},50),d=At(()=>{o.value&&(r.value=!1)},50);return{tooltip:l,tooltipVisible:r,formatValue:a,displayTooltip:i,hideTooltip:d}},Ul=(e,t,o)=>{const{disabled:l,min:r,max:s,step:a,showTooltip:i,persistent:d,precision:u,sliderSize:b,formatTooltip:m,emitChange:p,resetSize:k,updateDragging:_}=qt(hn),{tooltip:O,tooltipVisible:M,formatValue:V,displayTooltip:g,hideTooltip:$}=Wl(e,m,i),R=N(),c=P(()=>`${(e.modelValue-r.value)/(s.value-r.value)*100}%`),v=P(()=>e.vertical?{bottom:c.value}:{left:c.value}),B=()=>{t.hovering=!0,g()},W=()=>{t.hovering=!1,t.dragging||$()},X=x=>{l.value||(x.preventDefault(),I(x),window.addEventListener("mousemove",y),window.addEventListener("touchmove",y),window.addEventListener("mouseup",Y),window.addEventListener("touchend",Y),window.addEventListener("contextmenu",Y),R.value.focus())},G=x=>{l.value||(t.newPosition=Number.parseFloat(c.value)+x/(s.value-r.value)*100,H(t.newPosition),p())},q=()=>{G(-a.value)},z=()=>{G(a.value)},K=()=>{G(-a.value*4)},Q=()=>{G(a.value*4)},f=()=>{l.value||(H(0),p())},S=()=>{l.value||(H(100),p())},L=x=>{let j=!0;switch(x.code){case ge.left:case ge.down:q();break;case ge.right:case ge.up:z();break;case ge.home:f();break;case ge.end:S();break;case ge.pageDown:K();break;case ge.pageUp:Q();break;default:j=!1;break}j&&x.preventDefault()},A=x=>{let j,ae;return x.type.startsWith("touch")?(ae=x.touches[0].clientY,j=x.touches[0].clientX):(ae=x.clientY,j=x.clientX),{clientX:j,clientY:ae}},I=x=>{t.dragging=!0,t.isClick=!0;const{clientX:j,clientY:ae}=A(x);e.vertical?t.startY=ae:t.startX=j,t.startPosition=Number.parseFloat(c.value),t.newPosition=t.startPosition},y=x=>{if(t.dragging){t.isClick=!1,g(),k();let j;const{clientX:ae,clientY:ue}=A(x);e.vertical?(t.currentY=ue,j=(t.startY-t.currentY)/b.value*100):(t.currentX=ae,j=(t.currentX-t.startX)/b.value*100),t.newPosition=t.startPosition+j,H(t.newPosition)}},Y=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||$(),t.isClick||H(t.newPosition),p()},0),window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",y),window.removeEventListener("mouseup",Y),window.removeEventListener("touchend",Y),window.removeEventListener("contextmenu",Y))},H=async x=>{if(x===null||Number.isNaN(+x))return;x<0?x=0:x>100&&(x=100);const j=100/((s.value-r.value)/a.value);let ue=Math.round(x/j)*j*(s.value-r.value)*.01+r.value;ue=Number.parseFloat(ue.toFixed(u.value)),ue!==e.modelValue&&o(le,ue),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await fe(),t.dragging&&g(),O.value.updatePopper()};return oe(()=>t.dragging,x=>{_(x)}),tt(R,"touchstart",X,{passive:!1}),{disabled:l,button:R,tooltip:O,tooltipVisible:M,showTooltip:i,persistent:d,wrapperStyle:v,formatValue:V,handleMouseEnter:B,handleMouseLeave:W,onButtonDown:X,onKeyDown:L,setPosition:H}},Kl=ie({name:"ElSliderButton"}),Yl=ie({...Kl,props:Ol,emits:Fl,setup(e,{expose:t,emit:o}){const l=e,r=Ue("slider"),s=Ke({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:l.modelValue}),a=P(()=>b.value?m.value:!1),{disabled:i,button:d,tooltip:u,showTooltip:b,persistent:m,tooltipVisible:p,wrapperStyle:k,formatValue:_,handleMouseEnter:O,handleMouseLeave:M,onButtonDown:V,onKeyDown:g,setPosition:$}=Ul(l,s,o),{hovering:R,dragging:c}=nt(s);return t({onButtonDown:V,onKeyDown:g,setPosition:$,hovering:R,dragging:c}),(v,B)=>(h(),T("div",{ref_key:"button",ref:d,class:Z([n(r).e("button-wrapper"),{hover:n(R),dragging:n(c)}]),style:ke(n(k)),tabindex:n(i)?-1:0,onMouseenter:n(O),onMouseleave:n(M),onMousedown:n(V),onFocus:n(O),onBlur:n(M),onKeydown:n(g)},[w(n(Qt),{ref_key:"tooltip",ref:u,visible:n(p),placement:v.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":v.tooltipClass,disabled:!n(b),persistent:n(a)},{content:C(()=>[E("span",null,re(n(_)),1)]),default:C(()=>[E("div",{class:Z([n(r).e("button"),{hover:n(R),dragging:n(c)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Ot=ot(Yl,[["__file","button.vue"]]);const Xl=We({mark:{type:Te([String,Object]),default:void 0}});var Hl=ie({name:"ElSliderMarker",props:Xl,setup(e){const t=Ue("slider"),o=P(()=>ye(e.mark)?e.mark:e.mark.label),l=P(()=>ye(e.mark)?void 0:e.mark.style);return()=>xe("div",{class:t.e("marks-text"),style:l.value},o.value)}});const jl=(e,t,o)=>{const{form:l,formItem:r}=ft(),s=te(),a=N(),i=N(),d={firstButton:a,secondButton:i},u=P(()=>e.disabled||(l==null?void 0:l.disabled)||!1),b=P(()=>Math.min(t.firstValue,t.secondValue)),m=P(()=>Math.max(t.firstValue,t.secondValue)),p=P(()=>e.range?`${100*(m.value-b.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),k=P(()=>e.range?`${100*(b.value-e.min)/(e.max-e.min)}%`:"0%"),_=P(()=>e.vertical?{height:e.height}:{}),O=P(()=>e.vertical?{height:p.value,bottom:k.value}:{width:p.value,left:k.value}),M=()=>{s.value&&(t.sliderSize=s.value[`client${e.vertical?"Height":"Width"}`])},V=z=>{const K=e.min+z*(e.max-e.min)/100;if(!e.range)return a;let Q;return Math.abs(b.value-K)<Math.abs(m.value-K)?Q=t.firstValue<t.secondValue?"firstButton":"secondButton":Q=t.firstValue>t.secondValue?"firstButton":"secondButton",d[Q]},g=z=>{const K=V(z);return K.value.setPosition(z),K},$=z=>{t.firstValue=z??e.min,c(e.range?[b.value,m.value]:z??e.min)},R=z=>{t.secondValue=z,e.range&&c([b.value,m.value])},c=z=>{o(le,z),o(de,z)},v=async()=>{await fe(),o(Ve,e.range?[b.value,m.value]:e.modelValue)},B=z=>{var K,Q,f,S,L,A;if(u.value||t.dragging)return;M();let I=0;if(e.vertical){const y=(f=(Q=(K=z.touches)==null?void 0:K.item(0))==null?void 0:Q.clientY)!=null?f:z.clientY;I=(s.value.getBoundingClientRect().bottom-y)/t.sliderSize*100}else{const y=(A=(L=(S=z.touches)==null?void 0:S.item(0))==null?void 0:L.clientX)!=null?A:z.clientX,Y=s.value.getBoundingClientRect().left;I=(y-Y)/t.sliderSize*100}if(!(I<0||I>100))return g(I)};return{elFormItem:r,slider:s,firstButton:a,secondButton:i,sliderDisabled:u,minValue:b,maxValue:m,runwayStyle:_,barStyle:O,resetSize:M,setPosition:g,emitChange:v,onSliderWrapperPrevent:z=>{var K,Q;((K=d.firstButton.value)!=null&&K.dragging||(Q=d.secondButton.value)!=null&&Q.dragging)&&z.preventDefault()},onSliderClick:z=>{B(z)&&v()},onSliderDown:async z=>{const K=B(z);K&&(await fe(),K.value.onButtonDown(z))},onSliderMarkerDown:z=>{u.value||t.dragging||g(z)},setFirstValue:$,setSecondValue:R}},Dl=(e,t,o,l)=>({stops:P(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const a=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),d=Array.from({length:a-1}).map((u,b)=>(b+1)*i);return e.range?d.filter(u=>u<100*(o.value-e.min)/(e.max-e.min)||u>100*(l.value-e.min)/(e.max-e.min)):d.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),Gl=e=>P(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((o,l)=>o-l).filter(o=>o<=e.max&&o>=e.min).map(o=>({point:o,position:(o-e.min)*100/(e.max-e.min),mark:e.marks[o]})):[]),ql=(e,t,o,l,r,s)=>{const a=u=>{r(le,u),r(de,u)},i=()=>e.range?![o.value,l.value].every((u,b)=>u===t.oldValue[b]):e.modelValue!==t.oldValue,d=()=>{var u,b;e.min>e.max&&gt("Slider","min should not be greater than max.");const m=e.modelValue;e.range&&Le(m)?m[1]<e.min?a([e.min,e.min]):m[0]>e.max?a([e.max,e.max]):m[0]<e.min?a([e.min,m[1]]):m[1]>e.max?a([m[0],e.max]):(t.firstValue=m[0],t.secondValue=m[1],i()&&(e.validateEvent&&((u=s==null?void 0:s.validate)==null||u.call(s,"change").catch(p=>Oe())),t.oldValue=m.slice())):!e.range&&J(m)&&!Number.isNaN(m)&&(m<e.min?a(e.min):m>e.max?a(e.max):(t.firstValue=m,i()&&(e.validateEvent&&((b=s==null?void 0:s.validate)==null||b.call(s,"change").catch(p=>Oe())),t.oldValue=m)))};d(),oe(()=>t.dragging,u=>{u||d()}),oe(()=>e.modelValue,(u,b)=>{t.dragging||Le(u)&&Le(b)&&u.every((m,p)=>m===b[p])&&t.firstValue===u[0]&&t.secondValue===u[1]||d()},{deep:!0}),oe(()=>[e.min,e.max],()=>{d()})},Ql=(e,t,o)=>{const l=N();return Se(async()=>{e.range?(Le(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!J(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),tt(window,"resize",o),await fe(),o()}),{sliderWrapper:l}},Zl=ie({name:"ElSlider"}),Jl=ie({...Zl,props:Al,emits:Rl,setup(e,{expose:t,emit:o}){const l=e,r=Ue("slider"),{t:s}=Ht(),a=Ke({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:d,firstButton:u,secondButton:b,sliderDisabled:m,minValue:p,maxValue:k,runwayStyle:_,barStyle:O,resetSize:M,emitChange:V,onSliderWrapperPrevent:g,onSliderClick:$,onSliderDown:R,onSliderMarkerDown:c,setFirstValue:v,setSecondValue:B}=jl(l,a,o),{stops:W,getStopStyle:X}=Dl(l,a,p,k),{inputId:G,isLabeledByFormItem:q}=Zt(l,{formItemContext:i}),z=pt(),K=P(()=>l.inputSize||z.value),Q=P(()=>l.ariaLabel||s("el.slider.defaultLabel",{min:l.min,max:l.max})),f=P(()=>l.range?l.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):Q.value),S=P(()=>l.formatValueText?l.formatValueText(x.value):`${x.value}`),L=P(()=>l.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),A=P(()=>l.formatValueText?l.formatValueText(j.value):`${j.value}`),I=P(()=>[r.b(),r.m(z.value),r.is("vertical",l.vertical),{[r.m("with-input")]:l.showInput}]),y=Gl(l);ql(l,a,p,k,o,i);const Y=P(()=>{const F=[l.min,l.max,l.step].map(ve=>{const _e=`${ve}`.split(".")[1];return _e?_e.length:0});return Math.max.apply(null,F)}),{sliderWrapper:H}=Ql(l,a,M),{firstValue:x,secondValue:j,sliderSize:ae}=nt(a),ue=F=>{a.dragging=F};return tt(H,"touchstart",g,{passive:!1}),tt(H,"touchmove",g,{passive:!1}),$n(hn,{...nt(l),sliderSize:ae,disabled:m,precision:Y,emitChange:V,resetSize:M,updateDragging:ue}),t({onSliderClick:$}),(F,ve)=>{var _e,Ce;return h(),T("div",{id:F.range?n(G):void 0,ref_key:"sliderWrapper",ref:H,class:Z(n(I)),role:F.range?"group":void 0,"aria-label":F.range&&!n(q)?n(Q):void 0,"aria-labelledby":F.range&&n(q)?(_e=n(i))==null?void 0:_e.labelId:void 0},[E("div",{ref_key:"slider",ref:d,class:Z([n(r).e("runway"),{"show-input":F.showInput&&!F.range},n(r).is("disabled",n(m))]),style:ke(n(_)),onMousedown:n(R),onTouchstartPassive:n(R)},[E("div",{class:Z(n(r).e("bar")),style:ke(n(O))},null,6),w(Ot,{id:F.range?void 0:n(G),ref_key:"firstButton",ref:u,"model-value":n(x),vertical:F.vertical,"tooltip-class":F.tooltipClass,placement:F.placement,role:"slider","aria-label":F.range||!n(q)?n(f):void 0,"aria-labelledby":!F.range&&n(q)?(Ce=n(i))==null?void 0:Ce.labelId:void 0,"aria-valuemin":F.min,"aria-valuemax":F.range?n(j):F.max,"aria-valuenow":n(x),"aria-valuetext":n(S),"aria-orientation":F.vertical?"vertical":"horizontal","aria-disabled":n(m),"onUpdate:modelValue":n(v)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),F.range?(h(),U(Ot,{key:0,ref_key:"secondButton",ref:b,"model-value":n(j),vertical:F.vertical,"tooltip-class":F.tooltipClass,placement:F.placement,role:"slider","aria-label":n(L),"aria-valuemin":n(x),"aria-valuemax":F.max,"aria-valuenow":n(j),"aria-valuetext":n(A),"aria-orientation":F.vertical?"vertical":"horizontal","aria-disabled":n(m),"onUpdate:modelValue":n(B)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):D("v-if",!0),F.showStops?(h(),T("div",{key:1},[(h(!0),T(Be,null,qe(n(W),(me,pe)=>(h(),T("div",{key:pe,class:Z(n(r).e("stop")),style:ke(n(X)(me))},null,6))),128))])):D("v-if",!0),n(y).length>0?(h(),T(Be,{key:2},[E("div",null,[(h(!0),T(Be,null,qe(n(y),(me,pe)=>(h(),T("div",{key:pe,style:ke(n(X)(me.position)),class:Z([n(r).e("stop"),n(r).e("marks-stop")])},null,6))),128))]),E("div",{class:Z(n(r).e("marks"))},[(h(!0),T(Be,null,qe(n(y),(me,pe)=>(h(),U(n(Hl),{key:pe,mark:me.mark,style:ke(n(X)(me.position)),onMousedown:ze(St=>n(c)(me.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):D("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),F.showInput&&!F.range?(h(),U(n(Ll),{key:0,ref:"input","model-value":n(x),class:Z(n(r).e("input")),step:F.step,disabled:n(m),controls:F.showInputControls,min:F.min,max:F.max,precision:n(Y),debounce:F.debounce,size:n(K),"onUpdate:modelValue":n(v),onChange:n(V)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):D("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var eo=ot(Jl,[["__file","slider.vue"]]);const to=ht(eo),no=We({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:zn},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:He},activeActionIcon:{type:He},activeIcon:{type:He},inactiveIcon:{type:He},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Te(Function)},id:String,tabindex:{type:[String,Number]},...mt(["ariaLabel"])}),lo={[le]:e=>Qe(e)||ye(e)||J(e),[Ve]:e=>Qe(e)||ye(e)||J(e),[de]:e=>Qe(e)||ye(e)||J(e)},bn="ElSwitch",oo=ie({name:bn}),ao=ie({...oo,props:no,emits:lo,setup(e,{expose:t,emit:o}){const l=e,{formItem:r}=ft(),s=pt(),a=Ue("switch"),{inputId:i}=Zt(l,{formItemContext:r}),d=jt(P(()=>l.loading)),u=N(l.modelValue!==!1),b=N(),m=N(),p=P(()=>[a.b(),a.m(s.value),a.is("disabled",d.value),a.is("checked",V.value)]),k=P(()=>[a.e("label"),a.em("label","left"),a.is("active",!V.value)]),_=P(()=>[a.e("label"),a.em("label","right"),a.is("active",V.value)]),O=P(()=>({width:Ln(l.width)}));oe(()=>l.modelValue,()=>{u.value=!0});const M=P(()=>u.value?l.modelValue:!1),V=P(()=>M.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(M.value)||(o(le,l.inactiveValue),o(Ve,l.inactiveValue),o(de,l.inactiveValue)),oe(V,c=>{var v;b.value.checked=c,l.validateEvent&&((v=r==null?void 0:r.validate)==null||v.call(r,"change").catch(B=>Oe()))});const g=()=>{const c=V.value?l.inactiveValue:l.activeValue;o(le,c),o(Ve,c),o(de,c),fe(()=>{b.value.checked=V.value})},$=()=>{if(d.value)return;const{beforeChange:c}=l;if(!c){g();return}const v=c();[Tt(v),Qe(v)].includes(!0)||gt(bn,"beforeChange must return type `Promise<boolean>` or `boolean`"),Tt(v)?v.then(W=>{W&&g()}).catch(W=>{}):v&&g()},R=()=>{var c,v;(v=(c=b.value)==null?void 0:c.focus)==null||v.call(c)};return Se(()=>{b.value.checked=V.value}),t({focus:R,checked:V}),(c,v)=>(h(),T("div",{class:Z(n(p)),onClick:ze($,["prevent"])},[E("input",{id:n(i),ref_key:"input",ref:b,class:Z(n(a).e("input")),type:"checkbox",role:"switch","aria-checked":n(V),"aria-disabled":n(d),"aria-label":c.ariaLabel,name:c.name,"true-value":c.activeValue,"false-value":c.inactiveValue,disabled:n(d),tabindex:c.tabindex,onChange:g,onKeydown:Me($,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!c.inlinePrompt&&(c.inactiveIcon||c.inactiveText)?(h(),T("span",{key:0,class:Z(n(k))},[c.inactiveIcon?(h(),U(n(ce),{key:0},{default:C(()=>[(h(),U(Ne(c.inactiveIcon)))]),_:1})):D("v-if",!0),!c.inactiveIcon&&c.inactiveText?(h(),T("span",{key:1,"aria-hidden":n(V)},re(c.inactiveText),9,["aria-hidden"])):D("v-if",!0)],2)):D("v-if",!0),E("span",{ref_key:"core",ref:m,class:Z(n(a).e("core")),style:ke(n(O))},[c.inlinePrompt?(h(),T("div",{key:0,class:Z(n(a).e("inner"))},[c.activeIcon||c.inactiveIcon?(h(),U(n(ce),{key:0,class:Z(n(a).is("icon"))},{default:C(()=>[(h(),U(Ne(n(V)?c.activeIcon:c.inactiveIcon)))]),_:1},8,["class"])):c.activeText||c.inactiveText?(h(),T("span",{key:1,class:Z(n(a).is("text")),"aria-hidden":!n(V)},re(n(V)?c.activeText:c.inactiveText),11,["aria-hidden"])):D("v-if",!0)],2)):D("v-if",!0),E("div",{class:Z(n(a).e("action"))},[c.loading?(h(),U(n(ce),{key:0,class:Z(n(a).is("loading"))},{default:C(()=>[w(n(An))]),_:1},8,["class"])):n(V)?Ie(c.$slots,"active-action",{key:1},()=>[c.activeActionIcon?(h(),U(n(ce),{key:0},{default:C(()=>[(h(),U(Ne(c.activeActionIcon)))]),_:1})):D("v-if",!0)]):n(V)?D("v-if",!0):Ie(c.$slots,"inactive-action",{key:2},()=>[c.inactiveActionIcon?(h(),U(n(ce),{key:0},{default:C(()=>[(h(),U(Ne(c.inactiveActionIcon)))]),_:1})):D("v-if",!0)])],2)],6),!c.inlinePrompt&&(c.activeIcon||c.activeText)?(h(),T("span",{key:1,class:Z(n(_))},[c.activeIcon?(h(),U(n(ce),{key:0},{default:C(()=>[(h(),U(Ne(c.activeIcon)))]),_:1})):D("v-if",!0),!c.activeIcon&&c.activeText?(h(),T("span",{key:1,"aria-hidden":!n(V)},re(c.activeText),9,["aria-hidden"])):D("v-if",!0)],2)):D("v-if",!0)],10,["onClick"]))}});var so=ot(ao,[["__file","switch.vue"]]);const io=ht(so);function ro(e){let t;const o=N(!1),l=Ke({...e,originalPosition:"",originalOverflow:"",visible:!1});function r(p){l.text=p}function s(){const p=l.parent,k=m.ns;if(!p.vLoadingAddClassList){let _=p.getAttribute("loading-number");_=Number.parseInt(_)-1,_?p.setAttribute("loading-number",_.toString()):(lt(p,k.bm("parent","relative")),p.removeAttribute("loading-number")),lt(p,k.bm("parent","hidden"))}a(),b.unmount()}function a(){var p,k;(k=(p=m.$el)==null?void 0:p.parentNode)==null||k.removeChild(m.$el)}function i(){var p;e.beforeClose&&!e.beforeClose()||(o.value=!0,clearTimeout(t),t=setTimeout(d,400),l.visible=!1,(p=e.closed)==null||p.call(e))}function d(){if(!o.value)return;const p=l.parent;o.value=!1,p.vLoadingAddClassList=void 0,s()}const u=ie({name:"ElLoading",setup(p,{expose:k}){const{ns:_,zIndex:O}=On("loading");return k({ns:_,zIndex:O}),()=>{const M=l.spinner||l.svg,V=xe("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...M?{innerHTML:M}:{}},[xe("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),g=l.text?xe("p",{class:_.b("text")},[l.text]):void 0;return xe(Fn,{name:_.b("fade"),onAfterLeave:d},{default:C(()=>[he(w("div",{style:{backgroundColor:l.background||""},class:[_.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[xe("div",{class:_.b("spinner")},[V,g])]),[[Ae,l.visible]])])})}}}),b=Rn(u),m=b.mount(document.createElement("div"));return{...nt(l),setText:r,removeElLoadingChild:a,close:i,handleAfterLeave:d,vm:m,get $el(){return m.$el}}}let je;const uo=function(e={}){if(!Wn)return;const t=co(e);if(t.fullscreen&&je)return je;const o=ro({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(je=void 0)}});vo(t,t.parent,o),Ft(t,t.parent,o),t.parent.vLoadingAddClassList=()=>Ft(t,t.parent,o);let l=t.parent.getAttribute("loading-number");return l?l=`${Number.parseInt(l)+1}`:l="1",t.parent.setAttribute("loading-number",l),t.parent.appendChild(o.$el),fe(()=>o.visible.value=t.visible),t.fullscreen&&(je=o),o},co=e=>{var t,o,l,r;let s;return ye(e.target)?s=(t=document.querySelector(e.target))!=null?t:document.body:s=e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&((o=e.fullscreen)!=null?o:!0),lock:(l=e.lock)!=null?l:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,beforeClose:e.beforeClose,closed:e.closed,target:s}},vo=async(e,t,o)=>{const{nextZIndex:l}=o.vm.zIndex||o.vm._.exposed.zIndex,r={};if(e.fullscreen)o.originalPosition.value=Pe(document.body,"position"),o.originalOverflow.value=Pe(document.body,"overflow"),r.zIndex=l();else if(e.parent===document.body){o.originalPosition.value=Pe(document.body,"position"),await fe();for(const s of["top","left"]){const a=s==="top"?"scrollTop":"scrollLeft";r[s]=`${e.target.getBoundingClientRect()[s]+document.body[a]+document.documentElement[a]-Number.parseInt(Pe(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${e.target.getBoundingClientRect()[s]}px`}else o.originalPosition.value=Pe(t,"position");for(const[s,a]of Object.entries(r))o.$el.style[s]=a},Ft=(e,t,o)=>{const l=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?lt(t,l.bm("parent","relative")):Et(t,l.bm("parent","relative")),e.fullscreen&&e.lock?Et(t,l.bm("parent","hidden")):lt(t,l.bm("parent","hidden"))},Je=Symbol("ElLoading"),Wt=(e,t)=>{var o,l,r,s;const a=t.instance,i=p=>Jt(t.value)?t.value[p]:void 0,d=p=>{const k=ye(p)&&(a==null?void 0:a[p])||p;return k&&N(k)},u=p=>d(i(p)||e.getAttribute(`element-loading-${Un(p)}`)),b=(o=i("fullscreen"))!=null?o:t.modifiers.fullscreen,m={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:b,target:(l=i("target"))!=null?l:b?void 0:e,body:(r=i("body"))!=null?r:t.modifiers.body,lock:(s=i("lock"))!=null?s:t.modifiers.lock};e[Je]={options:m,instance:uo(m)}},mo=(e,t)=>{for(const o of Object.keys(t))se(t[o])&&(t[o].value=e[o])},fo={mounted(e,t){t.value&&Wt(e,t)},updated(e,t){const o=e[Je];t.oldValue!==t.value&&(t.value&&!t.oldValue?Wt(e,t):t.value&&t.oldValue?Jt(t.value)&&mo(t.value,o.options):o==null||o.instance.close())},unmounted(e){var t;(t=e[Je])==null||t.instance.close(),e[Je]=null}},[yn,De]=en("dropdown-menu"),po={overlay:Ze,zIndex:Nt,duration:Yn(.2),direction:Kn("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:Ze,closeOnClickOverlay:Ze,swipeThreshold:Nt},wn=Symbol(yn);var go=ie({name:yn,props:po,setup(e,{slots:t}){const o=hl(),l=N(),r=N(),s=N(0),{children:a,linkChildren:i}=Xn(wn),d=Hn(l),u=P(()=>a.some(g=>g.state.showWrapper)),b=P(()=>e.swipeThreshold&&a.length>+e.swipeThreshold),m=P(()=>{if(u.value&&jn(e.zIndex))return{zIndex:+e.zIndex+1}}),p=()=>{a.forEach(g=>{g.toggle(!1)})},k=()=>{e.closeOnClickOutside&&p()},_=()=>{if(r.value){const g=nn(r);e.direction==="down"?s.value=g.bottom:s.value=qn.value-g.top}},O=()=>{u.value&&_()},M=g=>{a.forEach(($,R)=>{R===g?$.toggle():$.state.showPopup&&$.toggle(!1,{immediate:!0})})},V=(g,$)=>{const{showPopup:R}=g.state,{disabled:c,titleClass:v}=g;return w("div",{id:`${o}-${$}`,role:"button",tabindex:c?void 0:0,"data-allow-mismatch":"attribute",class:[De("item",{disabled:c,grow:b.value}),{[Qn]:!c}],onClick:()=>{c||M($)}},[w("span",{class:[De("title",{down:R===(e.direction==="down"),active:R}),v],style:{color:R?e.activeColor:""}},[w("div",{class:"van-ellipsis"},[g.renderTitle()])])])};return tn({close:p}),i({id:o,props:e,offset:s,updateOffset:_}),Dn(l,k),Gn("scroll",O,{target:d,passive:!0}),()=>{var g;return w("div",{ref:l,class:De()},[w("div",{ref:r,style:m.value,class:De("bar",{opened:u.value,scrollable:b.value})},[a.map(V)]),(g=t.default)==null?void 0:g.call(t)])}}});const[ho,Ge]=en("dropdown-item"),bo={title:String,options:Zn(),disabled:Boolean,teleport:[String,Object],lazyRender:Ze,modelValue:Pt,titleClass:Pt};var yo=ie({name:ho,inheritAttrs:!1,props:bo,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:o,attrs:l}){const r=Ke({showPopup:!1,transition:!0,showWrapper:!1}),s=N(),{parent:a,index:i}=Jn(wn);if(!a)return;const d=g=>()=>t(g),u=d("open"),b=d("close"),m=d("opened"),p=()=>{r.showWrapper=!1,t("closed")},k=g=>{e.teleport&&g.stopPropagation()},_=(g=!r.showPopup,$={})=>{g!==r.showPopup&&(r.showPopup=g,r.transition=!$.immediate,g&&(a.updateOffset(),r.showWrapper=!0))},O=()=>{if(o.title)return o.title();if(e.title)return e.title;const g=e.options.find($=>$.value===e.modelValue);return g?g.text:""},M=g=>{const{activeColor:$}=a.props,{disabled:R}=g,c=g.value===e.modelValue,v=()=>{R||(r.showPopup=!1,g.value!==e.modelValue&&(t("update:modelValue",g.value),t("change",g.value)))},B=()=>{if(c)return w(on,{class:Ge("icon"),color:R?void 0:$,name:"success"},null)};return w(_t,{role:"menuitem",key:String(g.value),icon:g.icon,title:g.text,class:Ge("option",{active:c,disabled:R}),style:{color:c?$:""},tabindex:c?0:-1,clickable:!R,onClick:v},{value:B})},V=()=>{const{offset:g}=a,{autoLocate:$,zIndex:R,overlay:c,duration:v,direction:B,closeOnClickOverlay:W}=a.props,X=tl(R);let G=g.value;if($&&s.value){const q=nl(s.value);q&&(G-=nn(q).top)}return B==="down"?X.top=`${G}px`:X.bottom=`${G}px`,he(w("div",ll({ref:s,style:X,class:Ge([B]),onClick:k},l),[w(ln,{show:r.showPopup,"onUpdate:show":q=>r.showPopup=q,role:"menu",class:Ge("content"),overlay:c,position:B==="down"?"top":"bottom",duration:r.transition?v:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:W,onOpen:u,onClose:b,onOpened:m,onClosed:p},{default:()=>{var q;return[e.options.map(M),(q=o.default)==null?void 0:q.call(o)]}})]),[[Ae,r.showWrapper]])};return tn({state:r,toggle:_,renderTitle:O}),()=>e.teleport?w(el,{to:e.teleport},{default:()=>[V()]}):V()}});const wo=an(yo),_o=an(go),ko={key:0},Vo={key:0},So={key:1},Co={class:"sign"},xo={key:1,class:"noSign"},Io={style:{height:"40vh","margin-top":"5vh"}},To={key:0},Eo={key:1},No={key:0},Po={key:1},Mo=["src"],Bo={class:"videoCenter"},$o=["src"],zo={key:1,class:"body"},Lo={class:"header"},Ao={key:0},Ro={key:1},Oo={class:"video-show"},Fo=["src"],Wo={key:1,class:"video-placeholder"},Uo={class:"btnCenter"},Ko={style:{height:"30px"}},Yo={key:0},Xo={key:1},Ho={class:"video-show"},jo={style:{height:"1.875rem"}},Do=["src"],Go={key:1},qo="/api",Qo={__name:"Sign2Text",setup(e){const t=ol(),o=N(null),l=al(),r=P(()=>l.usedModel&&l.usedModel!=-1),s=N(""),a=N(""),i=N(!1),d=N(""),u=N(1),b=P(()=>st()),m=N(!1),p=N(!1),k=N(!1),_=N(!1),O=c=>{o.value={id:`video_${new Date().getTime()}${u.value++}`,file:c,isUploaded:!1,type:"file",timeStamp:new Date},s.value=URL.createObjectURL(c)},M=c=>{const v=Date.now(),B=new File([c],`${v}.avi`,{type:"video/x-msvideo"});O(B),_.value=!1},V=()=>{sl("视频").then(()=>{URL.revokeObjectURL(s.value),s.value="",o.value=null})},g=()=>{if(!o.value){Mt("请先选择视频");return}if(!r.value){Mt("未选择模型"),k.value=!0,setTimeout(()=>{k.value=!1},2e3);return}i.value=!0;const c=new FormData;c.append("video",o.value.file),c.append("models",l.usedModel),gn.video.uploadVideo(c).then(v=>{v.code==="200"?(rn("上传成功"),a.value=qo+v.data.url,d.value=v.data.result,console.log(a.value)):(console.log(v.msg),be(v.msg))}).catch(v=>{console.error("上传失败:",o.value.id,v),be("上传失败")}).finally(()=>i.value=!1)},$=c=>{gl(c)},R=()=>{a.value&&(p.value=!0)};return(c,v)=>{const B=pl,W=dn,X=_t,G=sn,q=vn,z=mn,K=pn,Q=ln,f=bt,S=fl,L=fn;return n(b)?(h(),T("div",ko,[w(B,{color:n(r)?"#1989fa":"",background:n(r)?"#ecf9ff":"","left-icon":"info-o",mode:"link",onClick:v[0]||(v[0]=A=>n(t).push("/implents/models")),style:{"margin-top":"1vh"}},{default:C(()=>[n(r)?(h(),T("span",Vo,"已选择模型")):(h(),T("span",So,"没有选择模型，点击选择"))]),_:1},8,["color","background"]),w(Bt,{onAddVideo:O,onUpload:g}),w(W,{modelValue:n(_),"onUpdate:modelValue":v[1]||(v[1]=A=>se(_)?_.value=A:null),title:"摄像头录制","close-on-click-modal":!1},{default:C(()=>[n(_)?(h(),U($t,{key:0,onRecordComplete:M})):D("",!0)]),_:1},8,["modelValue"]),E("div",Co,[n(o)?(h(),U(q,{key:0},{right:C(()=>[w(G,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:V})]),default:C(()=>[w(X,{icon:"video-o",border:!1,title:n(o).id,onClick:v[2]||(v[2]=A=>m.value=!0)},null,8,["title"])]),_:1})):(h(),T("div",xo,"! 没有选择视频"))]),E("div",Io,[w(B,{color:n(a)?"#1989fa":"",background:n(a)?"#ecf9ff":"","left-icon":"info-o",mode:n(a)?"link":"",onClick:R,style:{"margin-top":"1vh"}},{default:C(()=>[n(a)?(h(),T("span",To,"查看转换结果")):(h(),T("span",Eo,[n(i)?(h(),T("span",No,"转换中，请稍后...")):(h(),T("span",Po,"无转换"))]))]),_:1},8,["color","background","mode"]),n(a)?(h(),T("video",{key:0,src:n(a),controls:"",style:{width:"100%"},onError:$}," 您的浏览器不支持视频播放 ",40,Mo)):(h(),U(z,{key:1,description:"未转换",style:{height:"33vh"}}))]),w(Q,{show:n(p),"onUpdate:show":v[3]||(v[3]=A=>se(p)?p.value=A:null),position:"bottom",style:{height:"40vh"},closeable:"","close-on-click-overlay":!1},{default:C(()=>[w(K,null,{default:C(()=>v[8]||(v[8]=[E("span",{style:{color:"black","font-size":"large"}},"转化结果",-1)])),_:1}),ne(" "+re(n(d)),1)]),_:1},8,["show"]),w(Q,{show:n(m),"onUpdate:show":v[4]||(v[4]=A=>se(m)?m.value=A:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1},{default:C(()=>[w(K,null,{default:C(()=>v[9]||(v[9]=[E("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),E("div",Bo,[n(s)?(h(),T("video",{key:0,src:n(s),controls:"",style:{height:"100%"},onError:$}," 您的浏览器不支持视频播放 ",40,$o)):D("",!0)]),v[10]||(v[10]=E("div",{style:{width:"100%",padding:"5px"}},null,-1))]),_:1},8,["show"])])):(h(),T("div",zo,[w(L,{class:"lCard"},{header:C(()=>[E("div",Lo,[n(r)?(h(),T("span",Ao,"已选择模型")):(h(),T("span",Ro,"没有选择模型")),w(f,{type:"primary",class:Z(n(k)&&!n(r)?"blink-btn":""),onClick:v[5]||(v[5]=A=>n(t).push("/implents/models/myModels"))},{default:C(()=>[ne(re(n(r)?"重新选择":"前往选择"),1)]),_:1},8,["class"])])]),default:C(()=>[w(Bt,{onAddVideo:O,onStartRecording:v[6]||(v[6]=A=>_.value=!0),onUpload:g}),w(W,{modelValue:n(_),"onUpdate:modelValue":v[7]||(v[7]=A=>se(_)?_.value=A:null),title:"摄像头录制","close-on-click-modal":!1},{default:C(()=>[n(_)?(h(),U($t,{key:0,onRecordComplete:M})):D("",!0)]),_:1},8,["modelValue"]),E("div",Oo,[n(s)?(h(),T("video",{key:0,src:n(s),style:{height:"100%"},controls:"",class:"video-player",onError:$}," 您的浏览器不支持视频播放 ",40,Fo)):(h(),T("div",Wo,[w(S,{description:"没有选择视频"})]))]),E("div",Uo,[n(s)?(h(),U(f,{key:0,type:"danger",onClick:V,style:{margin:"20px auto"}},{default:C(()=>v[11]||(v[11]=[ne("删除")])),_:1})):D("",!0)])]),_:1}),w(L,{class:"rCard"},{header:C(()=>[E("div",Ko,[n(i)?(h(),T("span",Yo,"转换中...")):(h(),T("span",Xo,"转换结果"))])]),default:C(()=>[E("div",Ho,[E("div",jo,re(n(d)),1),n(a)?(h(),T("video",{key:0,src:n(a),controls:"",class:"video-player",onError:$}," 您的浏览器不支持视频播放 ",40,Do)):(h(),T("div",Go,[w(S,{description:"暂无结果"})]))])]),_:1})]))}}},Ut=at(Qo,[["__scopeId","data-v-0461c9d9"]]),Zo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1743386914161'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16572'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M881%20660H212c-22.1%200-40-17.9-40-40V276c0-22.1%2017.9-40%2040-40h669c22.1%200%2040%2017.9%2040%2040v344c0%2022-17.9%2040-40%2040zM212%20276v344h669V276H212z'%20fill='%23858585'%20p-id='16573'%3e%3c/path%3e%3cpath%20d='M319.9%20373.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM447.9%20373.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM575.7%20375.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM703.9%20375.3h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.3zM832.2%20375.1h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM832.3%20536.6h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM322.2%20537.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM381.5%20538.2c-11%200-20-8.9-20-19.9%200-11%208.9-20%2019.9-20.1l326.4-0.9h0.1c11%200%2020%208.9%2020%2019.9%200%2011-8.9%2020-19.9%2020.1l-326.5%200.9z'%20fill='%23858585'%20p-id='16574'%3e%3c/path%3e%3c/svg%3e",Jo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1743386813757'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12559'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M810.666667%20405.333333a21.333333%2021.333333%200%200%201%2020.992%2017.493334l0.341333%203.84v96c0%20164.096-132.053333%20298.069333-298.666667%20308.650666V938.666667h128a21.333333%2021.333333%200%200%201%203.84%2042.325333L661.333333%20981.333333h-298.666666a21.333333%2021.333333%200%200%201-3.84-42.325333L362.666667%20938.666667h128v-107.349334c-163.2-10.410667-293.12-139.093333-298.496-298.410666l-0.170667-10.24V426.666667a21.333333%2021.333333%200%200%201%2042.325333-3.84L234.666667%20426.666667v96c0%20146.986667%20123.776%20266.453333%20276.949333%20266.666666h0.682667l9.898666-0.170666c145.28-5.034667%20261.845333-117.504%20266.965334-256.938667l0.170666-9.557333V426.666667a21.333333%2021.333333%200%200%201%2021.333334-21.333334zM512%2042.666667a170.666667%20170.666667%200%200%201%20170.666667%20170.666666v282.538667a170.666667%20170.666667%200%201%201-341.333334%200V213.333333a170.666667%20170.666667%200%200%201%20170.666667-170.666666z%20m0%2042.666666a128%20128%200%200%200-128%20128v282.538667a128%20128%200%201%200%20256%200V213.333333a128%20128%200%200%200-128-128z'%20fill='%23888888'%20p-id='12560'%3e%3c/path%3e%3c/svg%3e";function kt(e){return il()?(rl(e),!0):!1}const ut=new WeakMap,ea=(...e)=>{var t;const o=e[0],l=(t=yt())==null?void 0:t.proxy;if(l==null&&!un())throw new Error("injectLocal must be called in setup");return l&&ut.has(l)&&o in ut.get(l)?ut.get(l)[o]:qt(...e)},ta=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const na=e=>e!=null,la=Object.prototype.toString,oa=e=>la.call(e)==="[object Object]";function Kt(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function et(e){return Array.isArray(e)?e:[e]}function aa(e){return yt()}function _n(e,t=!0,o){aa()?Se(e,o):t?e():fe(e)}function sa(e,t,o){return oe(e,t,{...o,immediate:!0})}const Ye=ta?window:void 0;function Ee(e){var t;const o=we(e);return(t=o==null?void 0:o.$el)!=null?t:o}function Fe(...e){const t=[],o=()=>{t.forEach(i=>i()),t.length=0},l=(i,d,u,b)=>(i.addEventListener(d,u,b),()=>i.removeEventListener(d,u,b)),r=P(()=>{const i=et(we(e[0])).filter(d=>d!=null);return i.every(d=>typeof d!="string")?i:void 0}),s=sa(()=>{var i,d;return[(d=(i=r.value)==null?void 0:i.map(u=>Ee(u)))!=null?d:[Ye].filter(u=>u!=null),et(we(r.value?e[1]:e[0])),et(n(r.value?e[2]:e[1])),we(r.value?e[3]:e[2])]},([i,d,u,b])=>{if(o(),!(i!=null&&i.length)||!(d!=null&&d.length)||!(u!=null&&u.length))return;const m=oa(b)?{...b}:b;t.push(...i.flatMap(p=>d.flatMap(k=>u.map(_=>l(p,k,_,m)))))},{flush:"post"}),a=()=>{s(),o()};return kt(o),a}function ia(){const e=te(!1),t=yt();return t&&Se(()=>{e.value=!0},t),e}function Vt(e){const t=ia();return P(()=>(t.value,!!e()))}function ra(e,t,o={}){const{window:l=Ye,...r}=o;let s;const a=Vt(()=>l&&"MutationObserver"in l),i=()=>{s&&(s.disconnect(),s=void 0)},d=P(()=>{const p=we(e),k=et(p).map(Ee).filter(na);return new Set(k)}),u=oe(()=>d.value,p=>{i(),a.value&&p.size&&(s=new MutationObserver(t),p.forEach(k=>s.observe(k,r)))},{immediate:!0,flush:"post"}),b=()=>s==null?void 0:s.takeRecords(),m=()=>{u(),i()};return kt(m),{isSupported:a,stop:m,takeRecords:b}}const ua=Symbol("vueuse-ssr-width");function ca(){const e=un()?ea(ua,null):null;return typeof e=="number"?e:void 0}function da(e,t={}){const{window:o=Ye,ssrWidth:l=ca()}=t,r=Vt(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function"),s=te(typeof l=="number"),a=te(),i=te(!1),d=u=>{i.value=u.matches};return wt(()=>{if(s.value){s.value=!r.value;const u=we(e).split(",");i.value=u.some(b=>{const m=b.includes("not all"),p=b.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),k=b.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let _=!!(p||k);return p&&_&&(_=l>=Kt(p[1])),k&&_&&(_=l<=Kt(k[1])),m?!_:_});return}r.value&&(a.value=o.matchMedia(we(e)),i.value=a.value.matches)}),Fe(a,"change",d,{passive:!0}),P(()=>i.value)}function va(e,t,o={}){const{window:l=Ye,...r}=o;let s;const a=Vt(()=>l&&"ResizeObserver"in l),i=()=>{s&&(s.disconnect(),s=void 0)},d=P(()=>{const m=we(e);return Array.isArray(m)?m.map(p=>Ee(p)):[Ee(m)]}),u=oe(d,m=>{if(i(),a.value&&l){s=new ResizeObserver(t);for(const p of m)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),b=()=>{i(),u()};return kt(b),{isSupported:a,stop:b}}function ma(e,t={}){const{reset:o=!0,windowResize:l=!0,windowScroll:r=!0,immediate:s=!0,updateTiming:a="sync"}=t,i=te(0),d=te(0),u=te(0),b=te(0),m=te(0),p=te(0),k=te(0),_=te(0);function O(){const V=Ee(e);if(!V){o&&(i.value=0,d.value=0,u.value=0,b.value=0,m.value=0,p.value=0,k.value=0,_.value=0);return}const g=V.getBoundingClientRect();i.value=g.height,d.value=g.bottom,u.value=g.left,b.value=g.right,m.value=g.top,p.value=g.width,k.value=g.x,_.value=g.y}function M(){a==="sync"?O():a==="next-frame"&&requestAnimationFrame(()=>O())}return va(e,M),oe(()=>Ee(e),V=>!V&&M()),ra(e,M,{attributeFilter:["style","class"]}),r&&Fe("scroll",M,{capture:!0,passive:!0}),l&&Fe("resize",M,{passive:!0}),_n(()=>{s&&M()}),{height:i,bottom:d,left:u,right:b,top:m,width:p,x:k,y:_,update:M}}function fa(e={}){const{window:t=Ye,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:l=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:s=!0,type:a="inner"}=e,i=te(o),d=te(l),u=()=>{if(t)if(a==="outer")i.value=t.outerWidth,d.value=t.outerHeight;else if(a==="visual"&&t.visualViewport){const{width:m,height:p,scale:k}=t.visualViewport;i.value=Math.round(m*k),d.value=Math.round(p*k)}else s?(i.value=t.innerWidth,d.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,d.value=t.document.documentElement.clientHeight)};u(),_n(u);const b={passive:!0};if(Fe("resize",u,b),t&&a==="visual"&&t.visualViewport&&Fe(t.visualViewport,"resize",u,b),r){const m=da("(orientation: portrait)");oe(m,()=>u())}return{width:i,height:d}}const pa={key:0,class:"mobile-audio-recorder"},ga={key:0,class:"recording-overlay"},ha={ref:"crossBtn"},ba={class:"tipText"},ya={style:{"text-align":"center"}},wa={class:"recording-time"},_a={key:1,class:"audioRecorder"},ka={key:2,class:"recording-time"},Va={__name:"AudioRecorder",props:{isAudio2Text:{type:Boolean,default:!1}},emits:["record-complete"],setup(e,{emit:t}){const o=N(!1),l=N(0),r=N(null),s=N(null),a=N([]),i=N(!1),d=N(!1);let u=null;const b=t,m=P(()=>st()),p=e;Se(()=>k()),ul(()=>_());const k=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(B=>{s.value=new MediaRecorder(B),s.value.ondataavailable=W=>a.value.push(W.data),s.value.onstop=()=>{u=new Blob(a.value,{type:"audio/wav"})},d.value=!0}).catch(B=>{B.name==="NotAllowedError"?(console.error("用户拒绝了权限请求"),be("用户拒绝了权限请求")):B.name==="NotFoundError"?(console.error("未找到麦克风"),be("未找到麦克风")):(console.error("无法访问麦克风:",B.message),be("无法访问麦克风:",B.message))})},_=()=>{var B;(B=s.value)!=null&&B.stream&&s.value.stream.getTracks().forEach(W=>W.stop())},O=()=>{d.value||k(),!(m.value&&p.isAudio2Text)&&(s.value.start(),o.value=!0,i.value=!1,l.value=0,r.value=setInterval(()=>l.value++,1e3))},M=()=>{s.value&&(s.value.stop(),clearInterval(r.value),o.value=!1,i.value=!0)},V=()=>{o.value?M():O()},g=()=>{a.value=[],u=null,l.value=0,i.value=!1},$=()=>{l.value<1?be("说话时间太短"):b("record-complete",u),g()},R=()=>{o.value&&(M(),g())},c=()=>{M(),$()},v=B=>{const W=Math.floor(B/60),X=B%60;return`${W}:${X.toString().padStart(2,"0")}`};return(B,W)=>{const X=Re("Microphone"),G=ce,q=on,z=bt,K=Re("Mute"),Q=Qt;return n(m)?(h(),T("div",pa,[E("div",{onClick:O,class:"recorderBtn"},[E("span",null,[n(o)?D("",!0):(h(),U(G,{key:0},{default:C(()=>[w(X)]),_:1})),ne(" "+re(p.isAudio2Text?"识别中...":n(o)?"录音中":"点击说话"),1)])]),n(o)?(h(),T("div",ga,[E("div",ha,[w(z,{type:"danger",size:"large",class:"crossBtn",onClick:R},{default:C(()=>[w(q,{name:"cross"})]),_:1})],512),E("div",{class:"bottomTip",onClick:c},[E("div",ba,[E("div",ya,[w(G,{class:"blinking"},{default:C(()=>[w(X)]),_:1}),E("span",wa,re(v(n(l))),1)]),W[0]||(W[0]=E("div",null,"正在录音，点击此处识别",-1))])])])):D("",!0)])):(h(),T("div",_a,[w(Q,{content:n(o)?"点击停止":"点击开始"},{default:C(()=>[E("span",{onClick:V},[n(o)?(h(),U(G,{key:0,size:30,class:"microphone blinking"},{default:C(()=>[w(X)]),_:1})):(h(),U(G,{key:1,size:30,class:"microphone"},{default:C(()=>[w(K)]),_:1})),n(o)?(h(),T("span",ka,re(v(n(l))),1)):D("",!0)])]),_:1},8,["content"]),E("span",null,[w(z,{type:"primary",onClick:$,disabled:!n(i)},{default:C(()=>W[1]||(W[1]=[ne("识别")])),_:1},8,["disabled"]),w(z,{type:"danger",onClick:g,disabled:!n(i)},{default:C(()=>W[2]||(W[2]=[ne("清除")])),_:1},8,["disabled"])])]))}}},Yt=at(Va,[["__scopeId","data-v-e8597294"]]),Sa={key:0},Ca={key:0,class:"history"},xa={key:1,style:{"overflow-y":"auto",height:"30vh"}},Ia={class:"inputDiv"},Ta={src:Zo,alt:"",style:{width:"10vw","padding-top":"1vw"}},Ea={src:Jo,alt:"",style:{width:"8vw",height:"8vw"}},Na={key:0},Pa={key:1,class:"elInput"},Ma={key:1,class:"body"},Ba={class:"center"},$a={class:"btn"},za={class:"header"},La={class:"dialog-footer"},ct=427.5,Aa=332.5,Ra=5,Oa=50,Fa={__name:"Text2Sign",setup(e){const t=N(""),o=N(1.5),l=cl("rCard"),{width:r,height:s}=fa(),a=N(!0),i=N(!1),d=cn(),u=d.yiyu,b=N(25),m=N(!0),p=N(!0),k=N(25),_=N(!1),O=N(!1),M=P(()=>st()),V=N([]),g=N(!1),$=N(!1),R=N(!1),c=N(!1),v=()=>{g.value=!g.value},B=I=>{setTimeout(()=>{$.value=!1},50)},W=()=>{c.value=!1,u.modifyPlaySpeed(o.value),m.value?u.enableTextSelection():u.disableTextSelection(),rn("设置成功")},X=()=>{b.value=25,m.value=!0,p.value=!0},G=I=>(o.value=(1+I/50).toFixed(1),o.value),q=()=>{t.value=""},z=()=>{R.value&&u.cancelTranslation(),u.startTranslate(t.value)},K=()=>{z(),V.value.push(t.value)},Q=I=>{t.value=V.value[I],z()},f=I=>{V.value.splice(I,1)},S=()=>{const{width:I,height:y,left:Y,top:H}=ma(l),x=Y.value+I.value/2,j=H.value+y.value/2;return{centerX:x,centerY:j}},L=()=>{const{centerX:I,centerY:y}=S();let Y;M.value?Y=y-ct*3/4:Y=y-ct/2,u.setPosition(`${Y}px`,`${I-Aa/2-Ra}px`)},A=I=>{i.value=!0;const y=new File([I],"audio.wav",{type:"audio/wav"}),Y=new FormData;Y.append("audio",y),gn.audio.toText(Y).then(H=>{H.code==="200"&&H.data!=="No speech could be recognized."?(t.value=H.data,V.value.push(t.value)):be("识别失败")}).catch(H=>{console.log(H.message),be("识别失败")}).finally(()=>{i.value=!1})};return wt(async()=>{if(d.isSuccess){a.value=!1,await fe(),L(),u.enableYiyuApp(),M.value&&u.setAvatarSize(5);const I=document.querySelector(".yiyuAppElement");I&&(I.style.pointerEvents="none",I.style.position="absolute",I.style.zIndex=1e3),m.value||u.disableTextSelection()}}),Se(()=>{let I=0;M.value?I=5:I=1,u.setAvatarSize(I)}),dl(()=>{d.isSuccess&&(u.setAvatarSize(3),u.setPosition(parseInt(window.innerHeight-ct-Oa),0))}),oe([r,s],()=>{L()}),(I,y)=>{const Y=vl,H=pn,x=mn,j=_t,ae=sn,ue=vn,F=Dt,ve=bt,_e=Re("Delete"),Ce=ce,me=Re("Switch"),pe=fn,St=Re("Setting"),kn=to,Ct=io,Vn=dn,Sn=fo;return n(M)?(h(),T("div",Sa,[E("div",{style:{height:"260px"},ref_key:"rCard",ref:l,onClick:y[0]||(y[0]=()=>{})},[he(w(Y,{size:"24px",vertical:"",style:{"padding-top":"10vh"}},{default:C(()=>y[9]||(y[9]=[ne("数字人加载中...")])),_:1},512),[[Ae,n(a)]])],512),n($)?D("",!0):(h(),T("div",Ca,[w(H,{style:{margin:"1px"}},{default:C(()=>y[10]||(y[10]=[E("span",{style:{color:"black"}},"历史记录",-1)])),_:1}),n(V).length===0?(h(),U(x,{key:0,style:{padding:"0"}})):(h(),T("div",xa,[(h(!0),T(Be,null,qe(n(V),(ee,xt)=>(h(),U(ue,{key:xt,style:{"border-bottom":"1px solid lightgray"}},{right:C(()=>[w(ae,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:f})]),default:C(()=>[w(j,{border:!1,icon:"comment-o",title:ee,value:"翻译",onClick:Xa=>Q(xt)},null,8,["title","onClick"])]),_:2},1024))),128))]))])),E("div",Ia,[E("div",{class:"inputImg",onClick:v},[he(E("img",Ta,null,512),[[Ae,n(g)]]),he(E("img",Ea,null,512),[[Ae,!n(g)]])]),n(g)?(h(),T("div",Na,[w(Yt,{onRecordComplete:A,isAudio2Text:n(i)},null,8,["isAudio2Text"])])):(h(),T("div",Pa,[w(F,{modelValue:n(t),"onUpdate:modelValue":y[1]||(y[1]=ee=>se(t)?t.value=ee:null),rows:1,type:"textarea",placeholder:"请输入文本",autosize:{minRows:1,maxRows:1},style:{width:"65vw"},onFocus:y[2]||(y[2]=ee=>$.value=!0),onBlur:B},null,8,["modelValue"]),w(ve,{type:"success",style:{width:"11vw",height:"30px",margin:"auto 0"},onClick:K,disabled:n(t)===""},{default:C(()=>y[11]||(y[11]=[ne(" 确定 ")])),_:1},8,["disabled"])]))])])):(h(),T("div",Ma,[w(pe,{class:"lCard"},{header:C(()=>y[12]||(y[12]=[ne(" 目标文本 ")])),default:C(()=>[w(Yt,{onRecordComplete:A}),E("div",Ba,[w(F,{modelValue:n(t),"onUpdate:modelValue":y[3]||(y[3]=ee=>se(t)?t.value=ee:null),placeholder:"输入文本......","show-word-limit":"",type:"textarea",maxlength:"450",resize:"none"},null,8,["modelValue"]),E("div",$a,[w(ve,{type:"danger",onClick:q},{default:C(()=>[w(Ce,null,{default:C(()=>[w(_e)]),_:1}),y[13]||(y[13]=ne(" 清空 "))]),_:1}),w(ve,{type:"primary",disabled:!n(t)||!n(d).isSuccess,onClick:z},{default:C(()=>[w(Ce,null,{default:C(()=>[w(me)]),_:1}),y[14]||(y[14]=ne(" 转化 "))]),_:1},8,["disabled"])])])]),_:1}),he((h(),U(pe,{class:"rCard",ref_key:"rCard",ref:l,"element-loading-text":"正在加载手语数字人..."},{header:C(()=>[E("div",za,[y[16]||(y[16]=E("span",null,"手语数字人",-1)),w(ve,{round:"",onClick:y[4]||(y[4]=ee=>c.value=!0),disabled:!n(d).isSuccess},{default:C(()=>[w(Ce,null,{default:C(()=>[w(St)]),_:1}),y[15]||(y[15]=ne(" 设置"))]),_:1},8,["disabled"])])]),_:1})),[[Sn,n(a)]]),w(Vn,{modelValue:n(c),"onUpdate:modelValue":y[8]||(y[8]=ee=>se(c)?c.value=ee:null),title:"设置",width:"30%",draggable:"","close-on-click-modal":!1},{footer:C(()=>[E("span",La,[w(ve,{onClick:X},{default:C(()=>y[19]||(y[19]=[ne("重置")])),_:1}),w(ve,{type:"primary",onClick:W},{default:C(()=>y[20]||(y[20]=[ne("保存")])),_:1})])]),default:C(()=>[E("ul",null,[E("li",null,[E("span",null,"手语翻译速度 x"+re(n(o)),1),w(kn,{modelValue:n(k),"onUpdate:modelValue":y[5]||(y[5]=ee=>se(k)?k.value=ee:null),"format-tooltip":G,size:"small",class:"slider"},null,8,["modelValue"])]),E("li",null,[y[17]||(y[17]=E("span",null," 划词翻译 ",-1)),w(Ct,{modelValue:n(_),"onUpdate:modelValue":y[6]||(y[6]=ee=>se(_)?_.value=ee:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),E("li",null,[y[18]||(y[18]=E("span",null," 跟随翻译 ",-1)),w(Ct,{modelValue:n(O),"onUpdate:modelValue":y[7]||(y[7]=ee=>se(O)?O.value=ee:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])])])]),_:1},8,["modelValue"])]))}}},Xt=at(Fa,[["__scopeId","data-v-5ccd804b"]]),Wa={key:0},Ua={style:{"margin-top":"2vh"}},Ka={key:1},Ya={__name:"Interpretation",setup(e){const t=ml(),o=P(()=>st()),l=N(0),r=[{text:"手语→文本",value:0},{text:"文本→手语",value:1}],s=cn();oe(l,()=>{o.value&&s.isSuccess&&s.clearYiyu()});const a=N("");return wt(()=>{a.value=t.params.id}),(i,d)=>{const u=wo,b=_o;return n(o)?(h(),T("div",Wa,[w(b,{class:"menu"},{default:C(()=>[w(u,{modelValue:n(l),"onUpdate:modelValue":d[0]||(d[0]=m=>se(l)?l.value=m:null),options:r},null,8,["modelValue"])]),_:1}),E("div",Ua,[n(l)===0?(h(),U(Ut,{key:0})):(h(),U(Xt,{key:1}))])])):(h(),T("div",Ka,[n(a)==="1"?(h(),U(Ut,{key:0})):(h(),U(Xt,{key:1}))]))}}},es=at(Ya,[["__scopeId","data-v-15506ad1"]]);export{es as default};
