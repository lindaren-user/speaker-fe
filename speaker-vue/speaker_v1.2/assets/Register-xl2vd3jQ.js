import{_ as C,l as v,b as N,d as R,c as V,u as o,e as l,a as u,g as I,w as a,o as y,B as M,i as x,m as S,h as $,n as i,p as q,S as z}from"./index-Blj6vUit.js";import{F as G,E as L,a as T}from"./el-form-item-DVSmPaM_.js";import{C as j}from"./index-9ruZjs2n.js";import"./index-B5iQMvdu.js";import{F as A}from"./index-nBRauRcJ.js";import{N as D}from"./index-CTbuoKpO.js";import"https://avatar.gbqr.net/yiyu.js";import"./use-id-BIVEMSa8.js";const H={key:0},J={style:{margin:"16px"}},K={key:1,class:"container"},O={class:"index-box"},Q={__name:"Register",setup(W){const _=I(),c=v(null),s=v({username:"",password:"",secondPwd:""}),n={username:[{required:!0,message:"请输入账户（长度为9 - 11）",trigger:"blur"},{pattern:/^\w{9,11}$/,message:"请输入 9 - 11 位",trigger:"blur"}],password:[{required:!0,message:"请输入密码(长度为11 - 15)",trigger:"blur"},{pattern:/^\w{11,15}$/,message:"请输入 11 - 15 位",trigger:"blur"}],secondPwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\w{11,15}$/,message:"请输入 11 - 15 位",trigger:"blur"}]},f=N(()=>R()),g=()=>{q.register({username:s.value.username,password:s.value.password}).then(r=>{r.code==="200"?(z("注册成功"),_.replace("/login")):i(r.msg)}).catch(r=>{console.error(r),i(r.message)})},w=()=>s.value.password!==s.value.secondPwd?(i("前后两次密码不一致"),!1):!0,b=()=>{var r;f.value?w()&&g():(r=c.value)==null||r.validate(e=>{e&&w()&&g()})};return(r,e)=>{const P=D,d=A,k=j,B=M,E=G,m=S,p=T,F=$,U=L;return o(f)?(y(),V("div",H,[l(P,{title:"注册","left-arrow":"",onClickLeft:e[0]||(e[0]=t=>o(_).push("/"))}),e[8]||(e[8]=u("div",{style:{"margin-top":"20px"}},null,-1)),l(E,{onSubmit:b},{default:a(()=>[l(k,{inset:""},{default:a(()=>[l(d,{modelValue:o(s).username,"onUpdate:modelValue":e[1]||(e[1]=t=>o(s).username=t),name:"账号",label:"账号",placeholder:"账号",rules:n.username},null,8,["modelValue","rules"]),l(d,{modelValue:o(s).password,"onUpdate:modelValue":e[2]||(e[2]=t=>o(s).password=t),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:n.password},null,8,["modelValue","rules"]),l(d,{modelValue:o(s).secondPwd,"onUpdate:modelValue":e[3]||(e[3]=t=>o(s).secondPwd=t),type:"password",name:"再次输入",label:"再次输入",placeholder:"再次输入密码",rules:n.secondPwd},null,8,["modelValue","rules"])]),_:1}),u("div",J,[l(B,{round:"",block:"",type:"success","native-type":"submit"},{default:a(()=>e[7]||(e[7]=[x(" 注册 ")])),_:1})])]),_:1})])):(y(),V("div",K,[u("div",O,[e[10]||(e[10]=u("h2",{class:"title"},"注册",-1)),l(U,{model:o(s),rules:n,ref_key:"formRef",ref:c,size:"large",style:{"margin-top":"30px"}},{default:a(()=>[l(p,{label:"账号",prop:"username"},{default:a(()=>[l(m,{modelValue:o(s).username,"onUpdate:modelValue":e[4]||(e[4]=t=>o(s).username=t),placeholder:"请输入账号",class:"input"},null,8,["modelValue"])]),_:1}),l(p,{label:"密码",prop:"password"},{default:a(()=>[l(m,{modelValue:o(s).password,"onUpdate:modelValue":e[5]||(e[5]=t=>o(s).password=t),placeholder:"请输入密码","show-password":"",class:"input"},null,8,["modelValue"])]),_:1}),l(p,{label:"确认密码",prop:"secondPwd"},{default:a(()=>[l(m,{modelValue:o(s).secondPwd,"onUpdate:modelValue":e[6]||(e[6]=t=>o(s).secondPwd=t),placeholder:"再次输入密码","show-password":"",class:"sInput"},null,8,["modelValue"])]),_:1}),l(F,{onClick:b,type:"primary",class:"submit-button button"},{default:a(()=>e[9]||(e[9]=[x("确定")])),_:1})]),_:1},8,["model"])])]))}}},te=C(Q,[["__scopeId","data-v-563de935"]]);export{te as default};
