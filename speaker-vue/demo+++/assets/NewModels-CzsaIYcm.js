import{H as _e,aL as Gt,L as fe,M as F,bD as Un,O as ce,l as R,a0 as ye,c as I,o as y,V as le,u as a,W as L,Q as lt,I as Pe,Z as Ke,aF as Ie,a as $,ab as W,w as k,ad as kt,j as ve,af as ee,ah as Ye,ai as Re,bE as Ln,aO as zn,bF as Fn,bG as jn,a6 as Jt,b as S,ae as ue,bH as Wn,bI as Hn,bJ as qn,bK as Qt,bL as $t,X as Kn,D as mt,ac as J,bM as en,aW as wt,P as G,a1 as at,R as Ue,e as o,i as z,aR as tn,$ as Ct,a3 as bt,a4 as re,bN as Yn,bO as Xn,a2 as Zn,bP as Gn,aE as nn,ax as we,bQ as Jn,a_ as Nt,aZ as on,bR as Ot,bl as Qn,aI as Ne,aJ as Oe,bS as ht,bT as ln,bU as an,bV as eo,bW as to,bX as no,bY as St,bZ as sn,b_ as be,ba as We,ak as ge,al as me,b$ as rn,c0 as cn,bd as un,c1 as oo,c2 as st,c3 as He,c4 as Ee,c5 as Ae,c6 as je,aq as ke,aj as he,c7 as dn,am as Tt,an as Xe,c8 as lo,c9 as xt,ca as vn,cb as ze,ap as ao,cc as ut,be as dt,bg as qe,cd as _t,ce as so,cf as io,cg as At,ch as ro,ci as co,cj as uo,bh as Et,aN as fn,ck as vo,au as pn,bi as tt,cl as fo,bc as po,cm as go,cn as mo,co as bo,cp as ho,bf as vt,_ as Be,d as Ve,r as nt,F as Ce,bn as Se,B as Pt,b6 as de,bm as Ze,b5 as Fe,h as it,cq as _o,bj as rt,E as It,bs as ot,S as De,n as Q,br as yt,aH as yo,m as ko,g as $o}from"./index-D4QMGDdD.js";import{S as gn,E as mn,b as Rt,c as Bt,a as wo}from"./index-B7sfP-M9.js";import{N as Co}from"./index-BmUAzuvv.js";import{D as Ge}from"./index-Cg8AKpBn.js";import{N as bn,C as Dt,a as So,f as Me}from"./VideoShow.vue_vue_type_style_index_0_scoped_f4213b5b_lang-CnSgN6n6.js";import{T as To,L as hn,m as xo}from"./models_service-CIrtjGs5.js";import{C as _n}from"./index-Qmdp2F1t.js";import{C as Eo}from"./index-BSfBn5KL.js";import{F as Po}from"./index-CcO7DguO.js";import"./el-tooltip-l0sNRNKZ.js";import{u as yn}from"./use-id-BVojlOEE.js";import"https://avatar.gbqr.net/yiyu.js";const kn=Symbol("breadcrumbKey"),Io=_e({separator:{type:String,default:"/"},separatorIcon:{type:Gt}}),Ro=F({name:"ElBreadcrumb"}),Bo=F({...Ro,props:Io,setup(e){const n=e,{t:i}=Un(),l=ce("breadcrumb"),s=R();return lt(kn,n),ye(()=>{const t=s.value.querySelectorAll(`.${l.e("item")}`);t.length&&t[t.length-1].setAttribute("aria-current","page")}),(t,c)=>(y(),I("div",{ref_key:"breadcrumb",ref:s,class:L(a(l).b()),"aria-label":a(i)("el.breadcrumb.label"),role:"navigation"},[le(t.$slots,"default")],10,["aria-label"]))}});var Vo=fe(Bo,[["__file","breadcrumb.vue"]]);const Mo=_e({to:{type:Pe([String,Object]),default:""},replace:Boolean}),No=F({name:"ElBreadcrumbItem"}),Oo=F({...No,props:Mo,setup(e){const n=e,i=Ie(),l=Ke(kn,void 0),s=ce("breadcrumb"),t=i.appContext.config.globalProperties.$router,c=R(),r=()=>{!n.to||!t||(n.replace?t.replace(n.to):t.push(n.to))};return(h,g)=>{var m,v;return y(),I("span",{class:L(a(s).e("item"))},[$("span",{ref_key:"link",ref:c,class:L([a(s).e("inner"),a(s).is("link",!!h.to)]),role:"link",onClick:r},[le(h.$slots,"default")],2),(m=a(l))!=null&&m.separatorIcon?(y(),W(a(ve),{key:0,class:L(a(s).e("separator"))},{default:k(()=>[(y(),W(kt(a(l).separatorIcon)))]),_:1},8,["class"])):(y(),I("span",{key:1,class:L(a(s).e("separator")),role:"presentation"},ee((v=a(l))==null?void 0:v.separator),3))],2)}}});var $n=fe(Oo,[["__file","breadcrumb-item.vue"]]);const Ao=Ye(Vo,{BreadcrumbItem:$n}),Do=Re($n),Uo=(e,n,i)=>zn(e.subTree).filter(t=>{var c;return Fn(t)&&((c=t.type)==null?void 0:c.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>i[t]).filter(t=>!!t),wn=(e,n)=>{const i={},l=Ln([]);return{children:l,addChild:c=>{i[c.uid]=c,l.value=Uo(e,n,i)},removeChild:c=>{delete i[c],l.value=l.value.filter(r=>r.uid!==c)}}},Te=e=>jn(e),Lo=F({name:"ElContainer"}),zo=F({...Lo,props:{direction:{type:String}},setup(e){const n=e,i=Jt(),l=ce("container"),s=S(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:i&&i.default?i.default().some(c=>{const r=c.type.name;return r==="ElHeader"||r==="ElFooter"}):!1);return(t,c)=>(y(),I("section",{class:L([a(l).b(),a(l).is("vertical",a(s))])},[le(t.$slots,"default")],2))}});var Fo=fe(zo,[["__file","container.vue"]]);const jo=F({name:"ElAside"}),Wo=F({...jo,props:{width:{type:String,default:null}},setup(e){const n=e,i=ce("aside"),l=S(()=>n.width?i.cssVarBlock({width:n.width}):{});return(s,t)=>(y(),I("aside",{class:L(a(i).b()),style:ue(a(l))},[le(s.$slots,"default")],6))}});var Cn=fe(Wo,[["__file","aside.vue"]]);const Ho=F({name:"ElFooter"}),qo=F({...Ho,props:{height:{type:String,default:null}},setup(e){const n=e,i=ce("footer"),l=S(()=>n.height?i.cssVarBlock({height:n.height}):{});return(s,t)=>(y(),I("footer",{class:L(a(i).b()),style:ue(a(l))},[le(s.$slots,"default")],6))}});var Sn=fe(qo,[["__file","footer.vue"]]);const Ko=F({name:"ElHeader"}),Yo=F({...Ko,props:{height:{type:String,default:null}},setup(e){const n=e,i=ce("header"),l=S(()=>n.height?i.cssVarBlock({height:n.height}):{});return(s,t)=>(y(),I("header",{class:L(a(i).b()),style:ue(a(l))},[le(s.$slots,"default")],6))}});var Tn=fe(Yo,[["__file","header.vue"]]);const Xo=F({name:"ElMain"}),Zo=F({...Xo,setup(e){const n=ce("main");return(i,l)=>(y(),I("main",{class:L(a(n).b())},[le(i.$slots,"default")],2))}});var xn=fe(Zo,[["__file","main.vue"]]);const Go=Ye(Fo,{Aside:Cn,Footer:Sn,Header:Tn,Main:xn}),Jo=Re(Cn);Re(Sn);Re(Tn);const Qo=Re(xn),el=_e({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Pe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Pe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Pe(Function),default:e=>`${e}%`}}),tl=F({name:"ElProgress"}),nl=F({...tl,props:el,setup(e){const n=e,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=ce("progress"),s=S(()=>{const d={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},V=x(n.percentage);return V.includes("gradient")?d.background=V:d.backgroundColor=V,d}),t=S(()=>(n.strokeWidth/n.width*100).toFixed(1)),c=S(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(t.value)/2}`,10):0),r=S(()=>{const d=c.value,V=n.type==="dashboard";return`
          M 50 50
          m 0 ${V?"":"-"}${d}
          a ${d} ${d} 0 1 1 0 ${V?"-":""}${d*2}
          a ${d} ${d} 0 1 1 0 ${V?"":"-"}${d*2}
          `}),h=S(()=>2*Math.PI*c.value),g=S(()=>n.type==="dashboard"?.75:1),m=S(()=>`${-1*h.value*(1-g.value)/2}px`),v=S(()=>({strokeDasharray:`${h.value*g.value}px, ${h.value}px`,strokeDashoffset:m.value})),_=S(()=>({strokeDasharray:`${h.value*g.value*(n.percentage/100)}px, ${h.value}px`,strokeDashoffset:m.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),u=S(()=>{let d;return n.color?d=x(n.percentage):d=i[n.status]||i.default,d}),f=S(()=>n.status==="warning"?Wn:n.type==="line"?n.status==="success"?Hn:qn:n.status==="success"?Qt:$t),w=S(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),C=S(()=>n.format(n.percentage));function T(d){const V=100/d.length;return d.map((p,D)=>mt(p)?{color:p,percentage:(D+1)*V}:p).sort((p,D)=>p.percentage-D.percentage)}const x=d=>{var V;const{color:b}=n;if(Kn(b))return b(d);if(mt(b))return b;{const p=T(b);for(const D of p)if(D.percentage>d)return D.color;return(V=p[p.length-1])==null?void 0:V.color}};return(d,V)=>(y(),I("div",{class:L([a(l).b(),a(l).m(d.type),a(l).is(d.status),{[a(l).m("without-text")]:!d.showText,[a(l).m("text-inside")]:d.textInside}]),role:"progressbar","aria-valuenow":d.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[d.type==="line"?(y(),I("div",{key:0,class:L(a(l).b("bar"))},[$("div",{class:L(a(l).be("bar","outer")),style:ue({height:`${d.strokeWidth}px`})},[$("div",{class:L([a(l).be("bar","inner"),{[a(l).bem("bar","inner","indeterminate")]:d.indeterminate},{[a(l).bem("bar","inner","striped")]:d.striped},{[a(l).bem("bar","inner","striped-flow")]:d.stripedFlow}]),style:ue(a(s))},[(d.showText||d.$slots.default)&&d.textInside?(y(),I("div",{key:0,class:L(a(l).be("bar","innerText"))},[le(d.$slots,"default",{percentage:d.percentage},()=>[$("span",null,ee(a(C)),1)])],2)):J("v-if",!0)],6)],6)],2)):(y(),I("div",{key:1,class:L(a(l).b("circle")),style:ue({height:`${d.width}px`,width:`${d.width}px`})},[(y(),I("svg",{viewBox:"0 0 100 100"},[$("path",{class:L(a(l).be("circle","track")),d:a(r),stroke:`var(${a(l).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":d.strokeLinecap,"stroke-width":a(t),fill:"none",style:ue(a(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),$("path",{class:L(a(l).be("circle","path")),d:a(r),stroke:a(u),fill:"none",opacity:d.percentage?1:0,"stroke-linecap":d.strokeLinecap,"stroke-width":a(t),style:ue(a(_))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(d.showText||d.$slots.default)&&!d.textInside?(y(),I("div",{key:2,class:L(a(l).e("text")),style:ue({fontSize:`${a(w)}px`})},[le(d.$slots,"default",{percentage:d.percentage},()=>[d.status?(y(),W(a(ve),{key:1},{default:k(()=>[(y(),W(kt(a(f))))]),_:1})):(y(),I("span",{key:0},ee(a(C)),1))])],6)):J("v-if",!0)],10,["aria-valuenow"]))}});var ol=fe(nl,[["__file","progress.vue"]]);const ll=Ye(ol),al=_e({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),sl={[en]:(e,n)=>[e,n].every(wt)},il=F({name:"ElSteps"}),rl=F({...il,props:al,emits:sl,setup(e,{emit:n}){const i=e,l=ce("steps"),{children:s,addChild:t,removeChild:c}=wn(Ie(),"ElStep");return G(s,()=>{s.value.forEach((r,h)=>{r.setIndex(h)})}),lt("ElSteps",{props:i,steps:s,addStep:t,removeStep:c}),G(()=>i.active,(r,h)=>{n(en,r,h)}),(r,h)=>(y(),I("div",{class:L([a(l).b(),a(l).m(r.simple?"simple":r.direction)])},[le(r.$slots,"default")],2))}});var cl=fe(rl,[["__file","steps.vue"]]);const ul=_e({title:{type:String,default:""},icon:{type:Gt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),dl=F({name:"ElStep"}),vl=F({...dl,props:ul,setup(e){const n=e,i=ce("step"),l=R(-1),s=R({}),t=R(""),c=Ke("ElSteps"),r=Ie();ye(()=>{G([()=>c.props.active,()=>c.props.processStatus,()=>c.props.finishStatus],([p])=>{V(p)},{immediate:!0})}),at(()=>{c.removeStep(b.uid)});const h=S(()=>n.status||t.value),g=S(()=>{const p=c.steps.value[l.value-1];return p?p.currentStatus:"wait"}),m=S(()=>c.props.alignCenter),v=S(()=>c.props.direction==="vertical"),_=S(()=>c.props.simple),u=S(()=>c.steps.value.length),f=S(()=>{var p;return((p=c.steps.value[u.value-1])==null?void 0:p.uid)===(r==null?void 0:r.uid)}),w=S(()=>_.value?"":c.props.space),C=S(()=>[i.b(),i.is(_.value?"simple":c.props.direction),i.is("flex",f.value&&!w.value&&!m.value),i.is("center",m.value&&!v.value&&!_.value)]),T=S(()=>{const p={flexBasis:wt(w.value)?`${w.value}px`:w.value?w.value:`${100/(u.value-(m.value?0:1))}%`};return v.value||f.value&&(p.maxWidth=`${100/u.value}%`),p}),x=p=>{l.value=p},d=p=>{const D=p==="wait",E={transitionDelay:`${D?"-":""}${150*l.value}ms`},N=p===c.props.processStatus||D?0:100;E.borderWidth=N&&!_.value?"1px":0,E[c.props.direction==="vertical"?"height":"width"]=`${N}%`,s.value=E},V=p=>{p>l.value?t.value=c.props.finishStatus:p===l.value&&g.value!=="error"?t.value=c.props.processStatus:t.value="wait";const D=c.steps.value[l.value-1];D&&D.calcProgress(t.value)},b=Ue({uid:r.uid,currentStatus:h,setIndex:x,calcProgress:d});return c.addStep(b),(p,D)=>(y(),I("div",{style:ue(a(T)),class:L(a(C))},[J(" icon & line "),$("div",{class:L([a(i).e("head"),a(i).is(a(h))])},[a(_)?J("v-if",!0):(y(),I("div",{key:0,class:L(a(i).e("line"))},[$("i",{class:L(a(i).e("line-inner")),style:ue(s.value)},null,6)],2)),$("div",{class:L([a(i).e("icon"),a(i).is(p.icon||p.$slots.icon?"icon":"text")])},[le(p.$slots,"icon",{},()=>[p.icon?(y(),W(a(ve),{key:0,class:L(a(i).e("icon-inner"))},{default:k(()=>[(y(),W(kt(p.icon)))]),_:1},8,["class"])):a(h)==="success"?(y(),W(a(ve),{key:1,class:L([a(i).e("icon-inner"),a(i).is("status")])},{default:k(()=>[o(a(Qt))]),_:1},8,["class"])):a(h)==="error"?(y(),W(a(ve),{key:2,class:L([a(i).e("icon-inner"),a(i).is("status")])},{default:k(()=>[o(a($t))]),_:1},8,["class"])):a(_)?J("v-if",!0):(y(),I("div",{key:3,class:L(a(i).e("icon-inner"))},ee(l.value+1),3))])],2)],2),J(" title & description "),$("div",{class:L(a(i).e("main"))},[$("div",{class:L([a(i).e("title"),a(i).is(a(h))])},[le(p.$slots,"title",{},()=>[z(ee(p.title),1)])],2),a(_)?(y(),I("div",{key:0,class:L(a(i).e("arrow"))},null,2)):(y(),I("div",{key:1,class:L([a(i).e("description"),a(i).is(a(h))])},[le(p.$slots,"description",{},()=>[z(ee(p.description),1)])],2))],2)],6))}});var En=fe(vl,[["__file","item.vue"]]);const fl=Ye(cl,{Step:En}),pl=Re(En),ct=Symbol("tabsRootContextKey"),gl=_e({tabs:{type:Pe(Array),default:()=>tn([])}}),Pn="ElTabBar",ml=F({name:Pn}),bl=F({...ml,props:gl,setup(e,{expose:n}){const i=e,l=Ie(),s=Ke(ct);s||Ct(Pn,"<el-tabs><el-tab-bar /></el-tabs>");const t=ce("tabs"),c=R(),r=R(),h=()=>{let u=0,f=0;const w=["top","bottom"].includes(s.props.tabPosition)?"width":"height",C=w==="width"?"x":"y",T=C==="x"?"left":"top";return i.tabs.every(x=>{var d,V;const b=(V=(d=l.parent)==null?void 0:d.refs)==null?void 0:V[`tab-${x.uid}`];if(!b)return!1;if(!x.active)return!0;u=b[`offset${Te(T)}`],f=b[`client${Te(w)}`];const p=window.getComputedStyle(b);return w==="width"&&(f-=Number.parseFloat(p.paddingLeft)+Number.parseFloat(p.paddingRight),u+=Number.parseFloat(p.paddingLeft)),!1}),{[w]:`${f}px`,transform:`translate${Te(C)}(${u}px)`}},g=()=>r.value=h(),m=[],v=()=>{var u;m.forEach(w=>w.stop()),m.length=0;const f=(u=l.parent)==null?void 0:u.refs;if(f){for(const w in f)if(w.startsWith("tab-")){const C=f[w];C&&m.push(bt(C,g))}}};G(()=>i.tabs,async()=>{await re(),g(),v()},{immediate:!0});const _=bt(c,()=>g());return at(()=>{m.forEach(u=>u.stop()),m.length=0,_.stop()}),n({ref:c,update:g}),(u,f)=>(y(),I("div",{ref_key:"barRef",ref:c,class:L([a(t).e("active-bar"),a(t).is(a(s).props.tabPosition)]),style:ue(r.value)},null,6))}});var hl=fe(bl,[["__file","tab-bar.vue"]]);const _l=_e({panes:{type:Pe(Array),default:()=>tn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),yl={tabClick:(e,n,i)=>i instanceof Event,tabRemove:(e,n)=>n instanceof Event},Ut="ElTabNav",kl=F({name:Ut,props:_l,emits:yl,setup(e,{expose:n,emit:i}){const l=Ke(ct);l||Ct(Ut,"<el-tabs><tab-nav /></el-tabs>");const s=ce("tabs"),t=Yn(),c=Xn(),r=R(),h=R(),g=R(),m=R(),v=R(!1),_=R(0),u=R(!1),f=R(!0),w=S(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),C=S(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${_.value}px)`})),T=()=>{if(!r.value)return;const E=r.value[`offset${Te(w.value)}`],N=_.value;if(!N)return;const B=N>E?N-E:0;_.value=B},x=()=>{if(!r.value||!h.value)return;const E=h.value[`offset${Te(w.value)}`],N=r.value[`offset${Te(w.value)}`],B=_.value;if(E-B<=N)return;const X=E-B>N*2?B+N:E-N;_.value=X},d=async()=>{const E=h.value;if(!v.value||!g.value||!r.value||!E)return;await re();const N=g.value.querySelector(".is-active");if(!N)return;const B=r.value,X=["top","bottom"].includes(l.props.tabPosition),j=N.getBoundingClientRect(),Y=B.getBoundingClientRect(),oe=X?E.offsetWidth-Y.width:E.offsetHeight-Y.height,te=_.value;let ne=te;X?(j.left<Y.left&&(ne=te-(Y.left-j.left)),j.right>Y.right&&(ne=te+j.right-Y.right)):(j.top<Y.top&&(ne=te-(Y.top-j.top)),j.bottom>Y.bottom&&(ne=te+(j.bottom-Y.bottom))),ne=Math.max(ne,0),_.value=Math.min(ne,oe)},V=()=>{var E;if(!h.value||!r.value)return;e.stretch&&((E=m.value)==null||E.update());const N=h.value[`offset${Te(w.value)}`],B=r.value[`offset${Te(w.value)}`],X=_.value;B<N?(v.value=v.value||{},v.value.prev=X,v.value.next=X+B<N,N-X<B&&(_.value=N-B)):(v.value=!1,X>0&&(_.value=0))},b=E=>{let N=0;switch(E.code){case we.left:case we.up:N=-1;break;case we.right:case we.down:N=1;break;default:return}const B=Array.from(E.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let j=B.indexOf(E.target)+N;j<0?j=B.length-1:j>=B.length&&(j=0),B[j].focus({preventScroll:!0}),B[j].click(),p()},p=()=>{f.value&&(u.value=!0)},D=()=>u.value=!1;return G(t,E=>{E==="hidden"?f.value=!1:E==="visible"&&setTimeout(()=>f.value=!0,50)}),G(c,E=>{E?setTimeout(()=>f.value=!0,50):f.value=!1}),bt(g,V),ye(()=>setTimeout(()=>d(),0)),Zn(()=>V()),n({scrollToActiveTab:d,removeFocus:D}),()=>{const E=v.value?[o("span",{class:[s.e("nav-prev"),s.is("disabled",!v.value.prev)],onClick:T},[o(ve,null,{default:()=>[o(Gn,null,null)]})]),o("span",{class:[s.e("nav-next"),s.is("disabled",!v.value.next)],onClick:x},[o(ve,null,{default:()=>[o(nn,null,null)]})])]:null,N=e.panes.map((B,X)=>{var j,Y,oe,te;const ne=B.uid,M=B.props.disabled,H=(Y=(j=B.props.name)!=null?j:B.index)!=null?Y:`${X}`,A=!M&&(B.isClosable||e.editable);B.index=`${X}`;const Le=A?o(ve,{class:"is-icon-close",onClick:q=>i("tabRemove",B,q)},{default:()=>[o($t,null,null)]}):null,O=((te=(oe=B.slots).label)==null?void 0:te.call(oe))||B.props.label,Z=!M&&B.active?0:-1;return o("div",{ref:`tab-${ne}`,class:[s.e("item"),s.is(l.props.tabPosition),s.is("active",B.active),s.is("disabled",M),s.is("closable",A),s.is("focus",u.value)],id:`tab-${H}`,key:`tab-${ne}`,"aria-controls":`pane-${H}`,role:"tab","aria-selected":B.active,tabindex:Z,onFocus:()=>p(),onBlur:()=>D(),onClick:q=>{D(),i("tabClick",B,H,q)},onKeydown:q=>{A&&(q.code===we.delete||q.code===we.backspace)&&i("tabRemove",B,q)}},[O,Le])});return o("div",{ref:g,class:[s.e("nav-wrap"),s.is("scrollable",!!v.value),s.is(l.props.tabPosition)]},[E,o("div",{class:s.e("nav-scroll"),ref:r},[o("div",{class:[s.e("nav"),s.is(l.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:h,style:C.value,role:"tablist",onKeydown:b},[e.type?null:o(hl,{ref:m,tabs:[...e.panes]},null),N])])])}}}),$l=_e({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Pe(Function),default:()=>!0},stretch:Boolean}),ft=e=>mt(e)||wt(e),wl={[on]:e=>ft(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>ft(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>ft(e),tabAdd:()=>!0},Cl=F({name:"ElTabs",props:$l,emits:wl,setup(e,{emit:n,slots:i,expose:l}){var s;const t=ce("tabs"),c=S(()=>["left","right"].includes(e.tabPosition)),{children:r,addChild:h,removeChild:g}=wn(Ie(),"ElTabPane"),m=R(),v=R((s=e.modelValue)!=null?s:"0"),_=async(T,x=!1)=>{var d,V;if(!(v.value===T||Nt(T)))try{let b;if(e.beforeLeave){const p=e.beforeLeave(T,v.value);b=p instanceof Promise?await p:p}else b=!0;b!==!1&&(v.value=T,x&&(n(on,T),n("tabChange",T)),(V=(d=m.value)==null?void 0:d.removeFocus)==null||V.call(d))}catch{}},u=(T,x,d)=>{T.props.disabled||(_(x,!0),n("tabClick",T,d))},f=(T,x)=>{T.props.disabled||Nt(T.props.name)||(x.stopPropagation(),n("edit",T.props.name,"remove"),n("tabRemove",T.props.name))},w=()=>{n("edit",void 0,"add"),n("tabAdd")};G(()=>e.modelValue,T=>_(T)),G(v,async()=>{var T;await re(),(T=m.value)==null||T.scrollToActiveTab()}),lt(ct,{props:e,currentName:v,registerPane:T=>{r.value.push(T)},sortPane:h,unregisterPane:g}),l({currentName:v});const C=({render:T})=>T();return()=>{const T=i["add-icon"],x=e.editable||e.addable?o("div",{class:[t.e("new-tab"),c.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:w,onKeydown:b=>{[we.enter,we.numpadEnter].includes(b.code)&&w()}},[T?le(i,"add-icon"):o(ve,{class:t.is("icon-plus")},{default:()=>[o(Jn,null,null)]})]):null,d=o("div",{class:[t.e("header"),c.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[o(C,{render:()=>{const b=r.value.some(p=>p.slots.label);return o(kl,{ref:m,currentName:v.value,editable:e.editable,type:e.type,panes:r.value,stretch:e.stretch,onTabClick:u,onTabRemove:f},{$stable:!b})}},null),x]),V=o("div",{class:t.e("content")},[le(i,"default")]);return o("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[V,d])}}});var Sl=Cl;const Tl=_e({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),In="ElTabPane",xl=F({name:In}),El=F({...xl,props:Tl,setup(e){const n=e,i=Ie(),l=Jt(),s=Ke(ct);s||Ct(In,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=ce("tab-pane"),c=R(),r=S(()=>n.closable||s.props.closable),h=Ot(()=>{var u;return s.currentName.value===((u=n.name)!=null?u:c.value)}),g=R(h.value),m=S(()=>{var u;return(u=n.name)!=null?u:c.value}),v=Ot(()=>!n.lazy||g.value||h.value);G(h,u=>{u&&(g.value=!0)});const _=Ue({uid:i.uid,slots:l,props:n,paneName:m,active:h,index:c,isClosable:r});return s.registerPane(_),ye(()=>{s.sortPane(_)}),Qn(()=>{s.unregisterPane(_.uid)}),(u,f)=>a(v)?Ne((y(),I("div",{key:0,id:`pane-${a(m)}`,class:L(a(t).b()),role:"tabpanel","aria-hidden":!a(h),"aria-labelledby":`tab-${a(m)}`},[le(u.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Oe,a(h)]]):J("v-if",!0)}});var Rn=fe(El,[["__file","tab-pane.vue"]]);const Pl=Ye(Sl,{TabPane:Rn}),Il=Re(Rn);function Lt(e,n){return e.reduce((i,l)=>Math.abs(i-n)<Math.abs(l-n)?i:l)}function Rl(e,n,i){let l,s=0;const t=e.scrollLeft,c=i===0?1:Math.round(i*1e3/16);let r=t;function h(){ln(l)}function g(){r+=(n-t)/c,e.scrollLeft=r,++s<c&&(l=ht(g))}return g(),h}function Bl(e,n,i,l){let s,t=an(e);const c=t<n,r=i===0?1:Math.round(i*1e3/16),h=(n-t)/r;function g(){ln(s)}function m(){t+=h,(c&&t>n||!c&&t<n)&&(t=n),eo(e,t),c&&t<n||!c&&t>n?s=ht(m):l&&(s=ht(l))}return m(),g}function Vl(){const e=R([]),n=[];return to(()=>{e.value=[]}),[e,l=>(n[l]||(n[l]=s=>{e.value[l]=s}),n[l])]}function Bn(e,n){if(!no||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{n(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&i.observe(e.value)},s=()=>{e.value&&i.unobserve(e.value)};St(s),at(s),sn(l)}const[Ml,Nl]=me("sticky"),Ol={zIndex:ge,position:We("top"),container:Object,offsetTop:be(0),offsetBottom:be(0)};var Al=F({name:Ml,props:Ol,emits:["scroll","change"],setup(e,{emit:n,slots:i}){const l=R(),s=rn(l),t=Ue({fixed:!1,width:0,height:0,transform:0}),c=R(!1),r=S(()=>cn(e.position==="top"?e.offsetTop:e.offsetBottom)),h=S(()=>{if(c.value)return;const{fixed:_,height:u,width:f}=t;if(_)return{width:`${f}px`,height:`${u}px`}}),g=S(()=>{if(!t.fixed||c.value)return;const _=un(oo(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(_.transform=`translate3d(0, ${t.transform}px, 0)`),_}),m=_=>n("scroll",{scrollTop:_,isFixed:t.fixed}),v=()=>{if(!l.value||He(l))return;const{container:_,position:u}=e,f=Ee(l),w=an(window);if(t.width=f.width,t.height=f.height,u==="top")if(_){const C=Ee(_),T=C.bottom-r.value-t.height;t.fixed=r.value>f.top&&C.bottom>0,t.transform=T<0?T:0}else t.fixed=r.value>f.top;else{const{clientHeight:C}=document.documentElement;if(_){const T=Ee(_),x=C-T.top-r.value-t.height;t.fixed=C-r.value<f.bottom&&C>T.top,t.transform=x<0?-x:0}else t.fixed=C-r.value<f.bottom}m(w)};return G(()=>t.fixed,_=>n("change",_)),st("scroll",v,{target:s,passive:!0}),Bn(l,v),G([Ae,je],()=>{!l.value||He(l)||!t.fixed||(c.value=!0,re(()=>{const _=Ee(l);t.width=_.width,t.height=_.height,c.value=!1}))}),()=>{var _;return o("div",{ref:l,style:h.value},[o("div",{class:Nl({fixed:t.fixed&&!c.value}),style:g.value},[(_=i.default)==null?void 0:_.call(i)])])}}});const Dl=ke(Al),[Vn,Qe]=me("swipe"),Ul={loop:he,width:ge,height:ge,vertical:Boolean,autoplay:be(0),duration:be(500),touchable:he,lazyRender:Boolean,initialSwipe:be(0),indicatorColor:String,showIndicators:he,stopPropagation:he},Mn=Symbol(Vn);var Ll=F({name:Vn,props:Ul,emits:["change","dragStart","dragEnd"],setup(e,{emit:n,slots:i}){const l=R(),s=R(),t=Ue({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const r=dn(),{children:h,linkChildren:g}=Tt(Mn),m=S(()=>h.length),v=S(()=>t[e.vertical?"height":"width"]),_=S(()=>e.vertical?r.deltaY.value:r.deltaX.value),u=S(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-v.value*m.value:0),f=S(()=>v.value?Math.ceil(Math.abs(u.value)/v.value):m.value),w=S(()=>m.value*v.value),C=S(()=>(t.active+m.value)%m.value),T=S(()=>{const O=e.vertical?"vertical":"horizontal";return r.direction.value===O}),x=S(()=>{const O={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(v.value){const Z=e.vertical?"height":"width",q=e.vertical?"width":"height";O[Z]=`${w.value}px`,O[q]=e[q]?`${e[q]}px`:""}return O}),d=O=>{const{active:Z}=t;return O?e.loop?ut(Z+O,-1,m.value):ut(Z+O,0,f.value):Z},V=(O,Z=0)=>{let q=O*v.value;e.loop||(q=Math.min(q,-u.value));let se=Z-q;return e.loop||(se=ut(se,u.value,0)),se},b=({pace:O=0,offset:Z=0,emitChange:q})=>{if(m.value<=1)return;const{active:se}=t,P=d(O),U=V(P,Z);if(e.loop){if(h[0]&&U!==u.value){const K=U<u.value;h[0].setOffset(K?w.value:0)}if(h[m.value-1]&&U!==0){const K=U>0;h[m.value-1].setOffset(K?-w.value:0)}}t.active=P,t.offset=U,q&&P!==se&&n("change",C.value)},p=()=>{t.swiping=!0,t.active<=-1?b({pace:m.value}):t.active>=m.value&&b({pace:-m.value})},D=()=>{p(),r.reset(),ze(()=>{t.swiping=!1,b({pace:-1,emitChange:!0})})},E=()=>{p(),r.reset(),ze(()=>{t.swiping=!1,b({pace:1,emitChange:!0})})};let N;const B=()=>clearTimeout(N),X=()=>{B(),+e.autoplay>0&&m.value>1&&(N=setTimeout(()=>{E(),X()},+e.autoplay))},j=(O=+e.initialSwipe)=>{if(!l.value)return;const Z=()=>{var q,se;if(!He(l)){const P={width:l.value.offsetWidth,height:l.value.offsetHeight};t.rect=P,t.width=+((q=e.width)!=null?q:P.width),t.height=+((se=e.height)!=null?se:P.height)}m.value&&(O=Math.min(m.value-1,O),O===-1&&(O=m.value-1)),t.active=O,t.swiping=!0,t.offset=V(O),h.forEach(P=>{P.setOffset(0)}),X()};He(l)?re().then(Z):Z()},Y=()=>j(t.active);let oe;const te=O=>{!e.touchable||O.touches.length>1||(r.start(O),c=!1,oe=Date.now(),B(),p())},ne=O=>{e.touchable&&t.swiping&&(r.move(O),T.value&&(!e.loop&&(t.active===0&&_.value>0||t.active===m.value-1&&_.value<0)||(ao(O,e.stopPropagation),b({offset:_.value}),c||(n("dragStart",{index:C.value}),c=!0))))},M=()=>{if(!e.touchable||!t.swiping)return;const O=Date.now()-oe,Z=_.value/O;if((Math.abs(Z)>.25||Math.abs(_.value)>v.value/2)&&T.value){const se=e.vertical?r.offsetY.value:r.offsetX.value;let P=0;e.loop?P=se>0?_.value>0?-1:1:0:P=-Math[_.value>0?"ceil":"floor"](_.value/v.value),b({pace:P,emitChange:!0})}else _.value&&b({pace:0});c=!1,t.swiping=!1,n("dragEnd",{index:C.value}),X()},H=(O,Z={})=>{p(),r.reset(),ze(()=>{let q;e.loop&&O===m.value?q=t.active===0?0:O:q=O%m.value,Z.immediate?ze(()=>{t.swiping=!1}):t.swiping=!1,b({pace:q-t.active,emitChange:!0})})},A=(O,Z)=>{const q=Z===C.value,se=q?{backgroundColor:e.indicatorColor}:void 0;return o("i",{style:se,class:Qe("indicator",{active:q})},null)},Le=()=>{if(i.indicator)return i.indicator({active:C.value,total:m.value});if(e.showIndicators&&m.value>1)return o("div",{class:Qe("indicators",{vertical:e.vertical})},[Array(m.value).fill("").map(A)])};return Xe({prev:D,next:E,state:t,resize:Y,swipeTo:H}),g({size:v,props:e,count:m,activeIndicator:C}),G(()=>e.initialSwipe,O=>j(+O)),G(m,()=>j(t.active)),G(()=>e.autoplay,X),G([Ae,je,()=>e.width,()=>e.height],Y),G(lo(),O=>{O==="visible"?X():B()}),ye(j),xt(()=>j(t.active)),vn(()=>j(t.active)),St(B),at(B),st("touchmove",ne,{target:s}),()=>{var O;return o("div",{ref:l,class:Qe()},[o("div",{ref:s,style:x.value,class:Qe("track",{vertical:e.vertical}),onTouchstartPassive:te,onTouchend:M,onTouchcancel:M},[(O=i.default)==null?void 0:O.call(i)]),Le()])}}});const Vt=ke(Ll),[zl,zt]=me("tabs");var Fl=F({name:zl,props:{count:dt(Number),inited:Boolean,animated:Boolean,duration:dt(ge),swipeable:Boolean,lazyRender:Boolean,currentIndex:dt(Number)},emits:["change"],setup(e,{emit:n,slots:i}){const l=R(),s=r=>n("change",r),t=()=>{var r;const h=(r=i.default)==null?void 0:r.call(i);return e.animated||e.swipeable?o(Vt,{ref:l,loop:!1,class:zt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[h]}):h},c=r=>{const h=l.value;h&&h.state.active!==r&&h.swipeTo(r,{immediate:!e.inited})};return G(()=>e.currentIndex,c),ye(()=>{c(e.currentIndex)}),Xe({swipeRef:l}),()=>o("div",{class:zt("content",{animated:e.animated||e.swipeable})},[t()])}});const[Nn,et]=me("tabs"),jl={type:We("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:be(0),duration:be(.3),animated:Boolean,ellipsis:he,swipeable:Boolean,scrollspy:Boolean,offsetTop:be(0),background:String,lazyRender:he,showHeader:he,lineWidth:ge,lineHeight:ge,beforeChange:Function,swipeThreshold:be(5),titleActiveColor:String,titleInactiveColor:String},On=Symbol(Nn);var Wl=F({name:Nn,props:jl,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:i}){let l,s,t,c,r;const h=R(),g=R(),m=R(),v=R(),_=yn(),u=rn(h),[f,w]=Vl(),{children:C,linkChildren:T}=Tt(On),x=Ue({inited:!1,position:"",lineStyle:{},currentIndex:-1}),d=S(()=>C.length>+e.swipeThreshold||!e.ellipsis||e.shrink),V=S(()=>({borderColor:e.color,background:e.background})),b=(P,U)=>{var K;return(K=P.name)!=null?K:U},p=S(()=>{const P=C[x.currentIndex];if(P)return b(P,x.currentIndex)}),D=S(()=>cn(e.offsetTop)),E=S(()=>e.sticky?D.value+l:0),N=P=>{const U=g.value,K=f.value;if(!d.value||!U||!K||!K[x.currentIndex])return;const ie=K[x.currentIndex].$el,ae=ie.offsetLeft-(U.offsetWidth-ie.offsetWidth)/2;c&&c(),c=Rl(U,ae,P?0:+e.duration)},B=()=>{const P=x.inited;re(()=>{const U=f.value;if(!U||!U[x.currentIndex]||e.type!=="line"||He(h.value))return;const K=U[x.currentIndex].$el,{lineWidth:ie,lineHeight:ae}=e,pe=K.offsetLeft+K.offsetWidth/2,xe={width:qe(ie),backgroundColor:e.color,transform:`translateX(${pe}px) translateX(-50%)`};if(P&&(xe.transitionDuration=`${e.duration}s`),_t(ae)){const Je=qe(ae);xe.height=Je,xe.borderRadius=Je}x.lineStyle=xe})},X=P=>{const U=P<x.currentIndex?-1:1;for(;P>=0&&P<C.length;){if(!C[P].disabled)return P;P+=U}},j=(P,U)=>{const K=X(P);if(!_t(K))return;const ie=C[K],ae=b(ie,K),pe=x.currentIndex!==null;x.currentIndex!==K&&(x.currentIndex=K,U||N(),B()),ae!==e.active&&(n("update:active",ae),pe&&n("change",ae,ie.title)),t&&!e.scrollspy&&io(Math.ceil(At(h.value)-D.value))},Y=(P,U)=>{const K=C.find((ae,pe)=>b(ae,pe)===P),ie=K?C.indexOf(K):0;j(ie,U)},oe=(P=!1)=>{if(e.scrollspy){const U=C[x.currentIndex].$el;if(U&&u.value){const K=At(U,u.value)-E.value;s=!0,r&&r(),r=Bl(u.value,K,P?0:+e.duration,()=>{s=!1})}}},te=(P,U,K)=>{const{title:ie,disabled:ae}=C[U],pe=b(C[U],U);ae||(ro(e.beforeChange,{args:[pe],done:()=>{j(U),oe()}}),co(P)),n("clickTab",{name:pe,title:ie,event:K,disabled:ae})},ne=P=>{t=P.isFixed,n("scroll",P)},M=P=>{re(()=>{Y(P),oe(!0)})},H=()=>{for(let P=0;P<C.length;P++){const{top:U}=Ee(C[P].$el);if(U>E.value)return P===0?0:P-1}return C.length-1},A=()=>{if(e.scrollspy&&!s){const P=H();j(P)}},Le=()=>{if(e.type==="line"&&C.length)return o("div",{class:et("line"),style:x.lineStyle},null)},O=()=>{var P,U,K;const{type:ie,border:ae,sticky:pe}=e,xe=[o("div",{ref:pe?void 0:m,class:[et("wrap"),{[so]:ie==="line"&&ae}]},[o("div",{ref:g,role:"tablist",class:et("nav",[ie,{shrink:e.shrink,complete:d.value}]),style:V.value,"aria-orientation":"horizontal"},[(P=i["nav-left"])==null?void 0:P.call(i),C.map(Je=>Je.renderTitle(te)),Le(),(U=i["nav-right"])==null?void 0:U.call(i)])]),(K=i["nav-bottom"])==null?void 0:K.call(i)];return pe?o("div",{ref:m},[xe]):xe},Z=()=>{B(),re(()=>{var P,U;N(!0),(U=(P=v.value)==null?void 0:P.swipeRef.value)==null||U.resize()})};G(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),G(Ae,Z),G(()=>e.active,P=>{P!==p.value&&Y(P)}),G(()=>C.length,()=>{x.inited&&(Y(e.active),B(),re(()=>{N(!0)}))});const q=()=>{Y(e.active,!0),re(()=>{x.inited=!0,m.value&&(l=Ee(m.value).height),N(!0)})},se=(P,U)=>n("rendered",P,U);return Xe({resize:Z,scrollTo:M}),xt(B),vn(B),sn(q),Bn(h,B),st("scroll",A,{target:u,passive:!0}),T({id:_,props:e,setLine:B,scrollable:d,onRendered:se,currentName:p,setTitleRefs:w,scrollIntoView:N}),()=>o("div",{ref:h,class:et([e.type])},[e.showHeader?e.sticky?o(Dl,{container:h.value,offsetTop:D.value,onScroll:ne},{default:()=>[O()]}):O():null,o(Fl,{ref:v,count:C.length,inited:x.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:x.currentIndex,onChange:j},{default:()=>{var P;return[(P=i.default)==null?void 0:P.call(i)]}})])}});const[Hl,Ft]=me("tab"),ql=F({name:Hl,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:ge,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:he},setup(e,{slots:n}){const i=S(()=>{const s={},{type:t,color:c,disabled:r,isActive:h,activeColor:g,inactiveColor:m}=e;c&&t==="card"&&(s.borderColor=c,r||(h?s.backgroundColor=c:s.color=c));const _=h?g:m;return _&&(s.color=_),s}),l=()=>{const s=o("span",{class:Ft("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||_t(e.badge)&&e.badge!==""?o(uo,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[s]}):s};return()=>o("div",{id:e.id,role:"tab",class:[Ft([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[Kl,Yl]=me("swipe-item");var Xl=F({name:Kl,setup(e,{slots:n}){let i;const l=Ue({offset:0,inited:!1,mounted:!1}),{parent:s,index:t}=Et(Mn);if(!s)return;const c=S(()=>{const g={},{vertical:m}=s.props;return s.size.value&&(g[m?"height":"width"]=`${s.size.value}px`),l.offset&&(g.transform=`translate${m?"Y":"X"}(${l.offset}px)`),g}),r=S(()=>{const{loop:g,lazyRender:m}=s.props;if(!m||i)return!0;if(!l.mounted)return!1;const v=s.activeIndicator.value,_=s.count.value-1,u=v===0&&g?_:v-1,f=v===_&&g?0:v+1;return i=t.value===v||t.value===u||t.value===f,i}),h=g=>{l.offset=g};return ye(()=>{re(()=>{l.mounted=!0})}),Xe({setOffset:h}),()=>{var g;return o("div",{class:Yl(),style:c.value},[r.value?(g=n.default)==null?void 0:g.call(n):null])}}});const Mt=ke(Xl),[Zl,pt]=me("tab"),Gl=un({},fo,{dot:Boolean,name:ge,badge:ge,title:String,disabled:Boolean,titleClass:po,titleStyle:[String,Object],showZeroBadge:he});var Jl=F({name:Zl,props:Gl,setup(e,{slots:n}){const i=yn(),l=R(!1),s=Ie(),{parent:t,index:c}=Et(On);if(!t)return;const r=()=>{var f;return(f=e.name)!=null?f:c.value},h=()=>{l.value=!0,t.props.lazyRender&&re(()=>{t.onRendered(r(),e.title)})},g=S(()=>{const f=r()===t.currentName.value;return f&&!l.value&&h(),f}),m=R(""),v=R("");fn(()=>{const{titleClass:f,titleStyle:w}=e;m.value=f?L(f):"",v.value=w&&typeof w!="string"?vo(ue(w)):w});const _=f=>o(ql,pn({key:i,id:`${t.id}-${c.value}`,ref:t.setTitleRefs(c.value),style:v.value,class:m.value,isActive:g.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:w=>f(s.proxy,c.value,w)},tt(t.props,["type","color","shrink"]),tt(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),u=R(!g.value);return G(g,f=>{f?u.value=!1:ze(()=>{u.value=!0})}),G(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),lt(To,g),Xe({id:i,renderTitle:_}),()=>{var f;const w=`${t.id}-${c.value}`,{animated:C,swipeable:T,scrollspy:x,lazyRender:d}=t.props;if(!n.default&&!C)return;const V=x||g.value;if(C||T)return o(Mt,{id:i,role:"tabpanel",class:pt("panel-wrapper",{inactive:u.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":w,"data-allow-mismatch":"attribute"},{default:()=>{var D;return[o("div",{class:pt("panel")},[(D=n.default)==null?void 0:D.call(n)])]}});const p=l.value||x||!d?(f=n.default)==null?void 0:f.call(n):null;return Ne(o("div",{id:i,role:"tabpanel",class:pt("panel"),tabindex:V?0:-1,"aria-labelledby":w,"data-allow-mismatch":"attribute"},[p]),[[Oe,V]])}}});const Ql=ke(Jl),ea=ke(Wl),ta={gap:go(24),icon:String,axis:We("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[na,jt]=me("floating-bubble");var oa=F({name:na,inheritAttrs:!1,props:ta,emits:["click","update:offset","offsetChange"],setup(e,{slots:n,emit:i,attrs:l}){const s=R(),t=R({x:0,y:0,width:0,height:0}),c=S(()=>({top:e.gap,right:Ae.value-t.value.width-e.gap,bottom:je.value-t.value.height-e.gap,left:e.gap})),r=R(!1);let h=!1;const g=S(()=>{const d={},V=qe(t.value.x),b=qe(t.value.y);return d.transform=`translate3d(${V}, ${b}, 0)`,(r.value||!h)&&(d.transition="none"),d}),m=()=>{if(!x.value)return;const{width:d,height:V}=Ee(s.value),{offset:b}=e;t.value={x:b.x>-1?b.x:Ae.value-d-e.gap,y:b.y>-1?b.y:je.value-V-e.gap,width:d,height:V}},v=dn();let _=0,u=0;const f=d=>{v.start(d),r.value=!0,_=t.value.x,u=t.value.y};st("touchmove",d=>{if(d.preventDefault(),v.move(d),e.axis!=="lock"&&!v.isTap.value){if(e.axis==="x"||e.axis==="xy"){let b=_+v.deltaX.value;b<c.value.left&&(b=c.value.left),b>c.value.right&&(b=c.value.right),t.value.x=b}if(e.axis==="y"||e.axis==="xy"){let b=u+v.deltaY.value;b<c.value.top&&(b=c.value.top),b>c.value.bottom&&(b=c.value.bottom),t.value.y=b}const V=tt(t.value,["x","y"]);i("update:offset",V)}},{target:s});const C=()=>{r.value=!1,re(()=>{if(e.magnetic==="x"){const d=Lt([c.value.left,c.value.right],t.value.x);t.value.x=d}if(e.magnetic==="y"){const d=Lt([c.value.top,c.value.bottom],t.value.y);t.value.y=d}if(!v.isTap.value){const d=tt(t.value,["x","y"]);i("update:offset",d),(_!==d.x||u!==d.y)&&i("offsetChange",d)}})},T=d=>{v.isTap.value?i("click",d):d.stopPropagation()};ye(()=>{m(),re(()=>{h=!0})}),G([Ae,je,()=>e.gap,()=>e.offset],m,{deep:!0});const x=R(!0);return xt(()=>{x.value=!0}),St(()=>{e.teleport&&(x.value=!1)}),()=>{const d=Ne(o("div",pn({class:jt(),ref:s,onTouchstartPassive:f,onTouchend:C,onTouchcancel:C,onClickCapture:T,style:g.value},l),[n.default?n.default():o(mo,{name:e.icon,class:jt("icon")},null)]),[[Oe,x.value]]);return e.teleport?o(bo,{to:e.teleport},{default:()=>[d]}):d}}});const la=ke(oa),[aa,gt]=me("progress"),sa={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:he,pivotColor:String,trackColor:String,strokeWidth:ge,percentage:{type:ge,default:0,validator:e=>+e>=0&&+e<=100}};var ia=F({name:aa,props:sa,setup(e){const n=S(()=>e.inactive?void 0:e.color),i=()=>{const{textColor:l,pivotText:s,pivotColor:t,percentage:c}=e,r=s??`${c}%`;if(e.showPivot&&r){const h={color:l,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:t||n.value};return o("span",{style:h,class:gt("pivot",{inactive:e.inactive})},[r])}};return()=>{const{trackColor:l,percentage:s,strokeWidth:t}=e,c={background:l,height:qe(t)},r={width:`${s}%`,background:n.value};return o("div",{class:gt(),style:c},[o("span",{class:gt("portion",{inactive:e.inactive}),style:r},null),i()])}}});const ra=ke(ia),[An,Wt]=me("steps"),ca={active:be(0),direction:We("horizontal"),activeIcon:We("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Dn=Symbol(An);var ua=F({name:An,props:ca,emits:["clickStep"],setup(e,{emit:n,slots:i}){const{linkChildren:l}=Tt(Dn);return l({props:e,onClickStep:t=>n("clickStep",t)}),()=>{var t;return o("div",{class:Wt([e.direction])},[o("div",{class:Wt("items")},[(t=i.default)==null?void 0:t.call(i)])])}}});const[da,$e]=me("step");var va=F({name:da,setup(e,{slots:n}){const{parent:i,index:l}=Et(Dn);if(!i)return;const s=i.props,t=()=>{const v=+s.active;return l.value<v?"finish":l.value===v?"process":"waiting"},c=()=>t()==="process",r=S(()=>({background:t()==="finish"?s.activeColor:s.inactiveColor})),h=S(()=>{if(c())return{color:s.activeColor};if(t()==="waiting")return{color:s.inactiveColor}}),g=()=>i.onClickStep(l.value),m=()=>{const{iconPrefix:v,finishIcon:_,activeIcon:u,activeColor:f,inactiveIcon:w}=s;return c()?n["active-icon"]?n["active-icon"]():o(vt,{class:$e("icon","active"),name:u,color:f,classPrefix:v},null):t()==="finish"&&(_||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():o(vt,{class:$e("icon","finish"),name:_,color:f,classPrefix:v},null):n["inactive-icon"]?n["inactive-icon"]():w?o(vt,{class:$e("icon"),name:w,classPrefix:v},null):o("i",{class:$e("circle"),style:r.value},null)};return()=>{var v;const _=t();return o("div",{class:[ho,$e([s.direction,{[_]:_}])]},[o("div",{class:$e("title",{active:c()}),style:h.value,onClick:g},[(v=n.default)==null?void 0:v.call(n)]),o("div",{class:$e("circle-container"),onClick:g},[m()]),o("div",{class:$e("line"),style:r.value},null)])}}});const fa=ke(va),pa=ke(ua),ga={key:0},ma={style:{height:"210px",display:"flex","justify-content":"center"}},ba=["src"],ha={key:1,class:"main"},_a={class:"video-grid"},ya=["onMouseenter","onClick"],ka={class:"thumbnail"},$a={class:"video-id"},wa={key:0,class:"overlay"},Ca=["onClick"],Sa=["src"],Ta={__name:"VideoList",props:{videos:{type:Array,default:()=>[],required:!0}},emits:["delete-video"],setup(e,{emit:n}){const i=e,l=n,s=R(!1),t=R(""),c=S(()=>Ve()),r=R(null),h=m=>{const v=i.videos.find(_=>_.id===m);v&&(t.value=URL.createObjectURL(v.file),s.value=!0)},g=()=>{s.value=!1,URL.revokeObjectURL(t.value)};return(m,v)=>{const _=_n,u=Pt,f=gn,w=hn,C=mn,T=Ge,x=Ze,d=nt("CircleCheck"),V=ve,b=it,p=Rt,D=Bt;return a(c)?(y(),I("div",ga,[e.videos.length!==0?(y(),W(w,{key:0,"finished-text":"没有更多了",style:{"margin-top":"1vh","border-top":"1px dotted lightgray"}},{default:k(()=>[(y(!0),I(Ce,null,Se(e.videos,E=>(y(),W(f,{key:E.id,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(u,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:N=>l("delete-video",E.id)},null,8,["onClick"])]),default:k(()=>[o(_,{border:!1,icon:"video-o",title:E.id,value:E.isUploaded?"已上传":"",onClick:N=>h(E.id)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})):(y(),W(C,{key:1,description:"暂无视频"})),o(x,{show:a(s),"onUpdate:show":v[1]||(v[1]=E=>de(s)?s.value=E:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1},{default:k(()=>[o(T,null,{default:k(()=>v[4]||(v[4]=[$("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),$("div",ma,[a(t)?(y(),I("video",{key:0,src:a(t),controls:"",style:{height:"100%"},onError:v[0]||(v[0]=(...E)=>m.handleVideoError&&m.handleVideoError(...E))}," 您的浏览器不支持视频播放 ",40,ba)):J("",!0)]),v[5]||(v[5]=$("div",{style:{width:"100%",padding:"5px"}},null,-1))]),_:1},8,["show"])])):(y(),I("div",ha,[$("div",_a,[(y(!0),I(Ce,null,Se(e.videos,E=>(y(),I("div",{key:E.id,class:"video-item",onMouseenter:N=>r.value=E.id,onMouseleave:v[2]||(v[2]=N=>r.value=null),onClick:N=>h(E.id)},[$("div",ka,[v[7]||(v[7]=$("i",{class:"iconfont icon-shipin"},null,-1)),$("span",$a,"#"+ee(E.id),1),a(r)===E.id?(y(),I("div",wa,[$("button",{class:"dltBtn",onClick:Fe(N=>l("delete-video",E.id),["stop"])},v[6]||(v[6]=[$("i",{class:"iconfont icon-shanchu1",style:{color:"red","font-size":"1.75rem"}},null,-1)]),8,Ca)])):J("",!0),E.isUploaded?(y(),W(V,{key:1},{default:k(()=>[o(d)]),_:1})):J("",!0)])],40,ya))),128)),o(p,{modelValue:a(s),"onUpdate:modelValue":v[3]||(v[3]=E=>de(s)?s.value=E:null),title:"视频预览","close-on-click-modal":!1},{footer:k(()=>[o(b,{onClick:g},{default:k(()=>v[8]||(v[8]=[z("关闭")])),_:1})]),default:k(()=>[$("video",{src:a(t),controls:"",class:"video-player",preload:"auto"}," 您的浏览器不支持视频播放 ",8,Sa)]),_:1},8,["modelValue"])]),e.videos.length===0?(y(),W(D,{key:0,description:"暂无视频",style:{padding:"0"}})):J("",!0)]))}}},Ht=Be(Ta,[["__scopeId","data-v-cb8ace8c"]]),xa={key:0},Ea={style:{height:"60vh","overflow-y":"auto"}},Pa={key:1},Ia={class:"dataset-container"},Ra={__name:"DataSet",setup(e){const n=R([]),i=_o(),l=rt(),s=R(1),t=S(()=>Ve()),c=R(!1),r=R(!1),h=u=>{n.value.push({id:`video_${new Date().getTime()}${s.value++}`,file:u,isUploaded:!1,type:"file",timeStamp:new Date})},g=u=>{const f=Date.now(),w=new File([u],`${f}.avi`,{type:"video/x-msvideo"});h(w),r.value=!1},m=async()=>{const u=n.value.filter(w=>!w.isUploaded),f=u.length;if(f===0){ot("无可上传视频");return}try{await Promise.all(u.map(_)),u.every(w=>w.isUploaded)&&(De("全部上传成功, 可前往下一步"),i.changeCounter(f))}catch(w){console.error("上传失败:",w),Q("上传失败，请检查网络连接")}},v=u=>{yt("视频").then(()=>{n.value=n.value.filter(f=>f.id!==u),De("删除成功")})},_=u=>{const f=new FormData;return f.append("video",u.file),f.append("videoId",u.id),f.append("modelId",l.processedModel.id),Me.video.uploadAllVideos(f).then(w=>(w.code==="200"?u.isUploaded=!0:(console.log(w.msg),Q(`${u.id}上传失败`)),w)).catch(w=>{console.error("上传失败:",u.id,w)})};return(u,f)=>{const w=Mt,C=Vt,T=bn,x=Ge,d=nt("Star"),V=ve,b=Ze,p=It,D=Rt;return a(t)?(y(),I("div",xa,[o(T,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:f[0]||(f[0]=E=>c.value=!0)},{default:k(()=>[o(C,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o(w,null,{default:k(()=>f[4]||(f[4]=[z("视频数量限制为100，超出会被忽略")])),_:1}),o(w,null,{default:k(()=>f[5]||(f[5]=[z("视频尽可能覆盖所有使用场景，否则会使实机部署效果欠佳")])),_:1}),o(w,null,{default:k(()=>f[6]||(f[6]=[z("每个标签的视频数量最少10份，否则训练效果可能一般")])),_:1}),o(w,null,{default:k(()=>f[7]||(f[7]=[z("每个标签的视频数量尽量接近")])),_:1})]),_:1})]),_:1}),o(Dt,{onAddVideo:h,onUpload:m}),$("div",Ea,[o(Ht,{videos:a(n),onDeleteVideo:v},null,8,["videos"])]),o(b,{show:a(c),"onUpdate:show":f[1]||(f[1]=E=>de(c)?c.value=E:null),position:"bottom",style:{height:"40%"},closeable:""},{default:k(()=>[o(x,null,{default:k(()=>f[8]||(f[8]=[$("span",{style:{color:"black","font-size":"large"}},"数据采集",-1)])),_:1}),$("div",null,[$("ul",null,[$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[9]||(f[9]=z(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[10]||(f[10]=z(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[11]||(f[11]=z(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[12]||(f[12]=z(" 每个标签的视频数量尽量接近 "))])])])]),_:1},8,["show"])])):(y(),I("div",Pa,[f[17]||(f[17]=$("h2",{style:{"margin-bottom":"10px"}},null,-1)),$("div",null,[$("ul",null,[$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[13]||(f[13]=z(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[14]||(f[14]=z(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[15]||(f[15]=z(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),$("li",null,[o(V,null,{default:k(()=>[o(d)]),_:1}),f[16]||(f[16]=z(" 每个标签的视频数量尽量接近 "))])])]),$("div",Ia,[o(Dt,{onAddVideo:h,onStartRecording:f[2]||(f[2]=E=>r.value=!0),onUpload:m}),o(p,{style:{margin:"2% auto"}}),o(Ht,{videos:a(n),onDeleteVideo:v},null,8,["videos"]),o(D,{modelValue:a(r),"onUpdate:modelValue":f[3]||(f[3]=E=>de(r)?r.value=E:null),title:"摄像头录制","close-on-click-modal":!1},{default:k(()=>[a(r)?(y(),W(So,{key:0,onRecordComplete:g})):J("",!0)]),_:1},8,["modelValue"])])]))}}},qt=Be(Ra,[["__scopeId","data-v-33a75969"]]),Ba={key:0},Va={style:{color:"black","font-size":"large"}},Ma={style:{height:"210px",display:"flex","justify-content":"center"}},Na=["src"],Oa={style:{width:"100%","text-align":"center",padding:"5px"}},Aa={key:1},Da={class:"Show-head"},Ua={key:0,style:{"font-size":"20px"}},La={class:"video-show"},za=["src"],Fa={key:1,class:"video-placeholder"},ja={__name:"VideoShow",props:{videoUrl:{type:String,default:""},showObject:{type:Object,default:()=>{}}},emits:["update:videoUrl","addTag"],setup(e,{emit:n}){const i=e,l=n,s=S(()=>Ve()),t=R(!1);fn(()=>{t.value=i.videoUrl!==""});const c=()=>{i.videoUrl&&(URL.revokeObjectURL(i.videoUrl),s.value&&l("update:videoUrl",""))},r=g=>{switch(g.target.error.code){case g.target.error.MEDIA_ERR_ABORTED:Q("视频加载被中止");break;case g.target.error.MEDIA_ERR_NETWORK:Q("网络错误，无法加载视频");break;case g.target.error.MEDIA_ERR_DECODE:Q("视频解码错误，可能是格式不支持");break;case g.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:Q("视频格式不支持");break;default:Q("未知错误")}l("update:videoUrl","")},h=()=>{if(!i.videoUrl){ot("请先选择视频");return}l("addTag")};return(g,m)=>{var C;const v=Ge,_=Ze,u=it,f=It,w=Bt;return a(s)?(y(),I("div",Ba,[o(_,{show:a(t),"onUpdate:show":m[0]||(m[0]=T=>de(t)?t.value=T:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1,onClose:c},{default:k(()=>{var T;return[o(v,null,{default:k(()=>{var x;return[$("span",Va,ee((x=e.showObject)==null?void 0:x.title),1)]}),_:1}),$("div",Ma,[e.videoUrl?(y(),I("video",{key:0,src:e.videoUrl,controls:"",style:{height:"100%"},onError:r}," 您的浏览器不支持视频播放 ",40,Na)):J("",!0)]),$("div",Oa," 标注："+ee(((T=e.showObject)==null?void 0:T.tag)===!0?e.showObject.number:"暂无"),1)]}),_:1},8,["show"])])):(y(),I("div",Aa,[$("div",Da,[e.showObject?(y(),I("span",Ua,ee((C=e.showObject)==null?void 0:C.title),1)):J("",!0),o(u,{type:"primary",onClick:h},{default:k(()=>{var T;return[z(ee((T=e.showObject)!=null&&T.tag?"更改":"新增")+"注解",1)]}),_:1})]),o(f,{style:{margin:"5% auto"}}),$("div",La,[e.videoUrl?(y(),I("video",{key:0,style:{"object-fit":"fill",width:"100%",height:"100%"},src:e.videoUrl,controls:"",class:"video-player",onError:r}," 您的浏览器不支持视频播放 ",40,za)):(y(),I("div",Fa,[o(w,{description:"没有选择视频"})]))])]))}}},Kt=Be(ja,[["__scopeId","data-v-f4213b5b"]]),Wa={key:0},Ha={key:0,class:"videoList"},qa={key:0,class:"videoList"},Ka={key:0,class:"videoList"},Ya={class:"tips-content"},Xa={key:1},Za={style:{"margin-bottom":"10px"}},Ga={style:{color:"red"}},Ja={class:"tag-body"},Qa=["onClick","onMouseenter","onMouseleave"],es=["onClick"],ts=["onClick"],ns={class:"tag-body"},os=["onClick","onMouseenter","onMouseleave"],ls=["onClick"],as=["onClick"],ss={class:"tag-body"},is=["onClick","onMouseenter","onMouseleave"],rs=["onClick"],cs={__name:"VideoTag",props:{videoList:{type:Array,default:()=>[]},isTagged:{type:Array,default:()=>[]},noTagged:{type:Array,default:()=>[]}},emits:["video-selected","openTagDlg","deleteVideo"],setup(e,{emit:n}){const i=e,l=n,s=R(null),t=S(()=>Ve()),c=R(!1),r=R([]),h=R("all"),g=R("a"),m=S(()=>{switch(h.value){case"tagged":return i.isTagged;case"noTagged":return i.noTagged;default:return i.videoList}}),v=_=>{s.value=_,l("video-selected",_)};return(_,u)=>{const f=Mt,w=Vt,C=bn,T=_n,x=Pt,d=gn,V=hn,b=mn,p=Ql,D=ea,E=Ge,N=nt("Star"),B=ve,X=Ze,j=nt("Promotion"),Y=yo,oe=Bt,te=Il,ne=Pl;return a(t)?(y(),I("div",Wa,[o(C,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:u[0]||(u[0]=M=>c.value=!0)},{default:k(()=>[o(w,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o(f,null,{default:k(()=>u[4]||(u[4]=[z("请选择对应的视频进行相应意思标注方便模型训练")])),_:1}),o(f,null,{default:k(()=>u[5]||(u[5]=[z("标注字数请勿超过15字")])),_:1}),o(f,null,{default:k(()=>u[6]||(u[6]=[z("如果想要更改标注可以左滑点击标记进行更改")])),_:1})]),_:1})]),_:1}),o(D,{active:a(g),"onUpdate:active":u[1]||(u[1]=M=>de(g)?g.value=M:null)},{default:k(()=>[o(p,{title:"全部 "+e.videoList.length.toString(),name:"a"},{default:k(()=>[e.videoList.length?(y(),I("div",Ha,[o(V,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.videoList,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,value:M.tag===!0?"已标记":"",onClick:A=>v(M)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(b,{key:1,description:"暂无视频"}))]),_:1},8,["title"]),o(p,{title:"已标记 "+e.isTagged.length.toString(),name:"b"},{default:k(()=>[e.isTagged.length?(y(),I("div",qa,[o(V,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.isTagged,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{square:"",style:{height:"100%"},type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,value:"已标记",onClick:A=>v(M)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(b,{key:1,description:"暂无已标记视频"}))]),_:1},8,["title"]),o(p,{title:"未标记 "+e.noTagged.length.toString(),name:"c"},{default:k(()=>[e.noTagged.length?(y(),I("div",Ka,[o(V,{"finished-text":"没有更多了"},{default:k(()=>[(y(!0),I(Ce,null,Se(e.noTagged,(M,H)=>(y(),W(d,{key:H,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(x,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:A=>l("deleteVideo",M.title)},null,8,["onClick"]),o(x,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:A=>l("openTagDlg",M)},null,8,["onClick"])]),default:k(()=>[o(T,{icon:"video-o",border:!1,title:M.title,onClick:A=>v(M)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(y(),W(b,{key:1,description:"暂无未标记视频"}))]),_:1},8,["title"])]),_:1},8,["active"]),o(X,{show:a(c),"onUpdate:show":u[2]||(u[2]=M=>de(c)?c.value=M:null),position:"bottom",style:{height:"30%"},closeable:""},{default:k(()=>[o(E,null,{default:k(()=>u[7]||(u[7]=[$("span",{style:{color:"black","font-size":"large"}},"标注事宜",-1)])),_:1}),$("div",Ya,[$("ul",null,[$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[8]||(u[8]=z(" 选择对应视频进行相应意思标注方便模型训练 "))]),$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[9]||(u[9]=z(" 标注字数请勿超过15字 "))]),$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[10]||(u[10]=z(" 如果想要更改标注可以右滑点击标记进行更改 "))])])])]),_:1},8,["show"])])):(y(),I("div",Xa,[$("h3",Za,[o(B,null,{default:k(()=>[o(j)]),_:1}),u[11]||(u[11]=z(" 标注事宜 "))]),$("div",Ga,[$("ul",null,[$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[12]||(u[12]=z(" 请选择对应的视频进行相应的意思标注方便模型训练 "))]),$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[13]||(u[13]=z(" 标注字数请勿超过15字 "))]),$("li",null,[o(B,null,{default:k(()=>[o(N)]),_:1}),u[14]||(u[14]=z(" 如果想要更改标注可以点击视频标签上的标识图案 "))])])]),o(ne,{modelValue:a(h),"onUpdate:modelValue":u[3]||(u[3]=M=>de(h)?h.value=M:null)},{default:k(()=>[o(te,{label:"全部 "+e.videoList.length,name:"all"},{default:k(()=>[$("div",Ja,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>v(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,ee(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[15]||(u[15]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,es),[[Oe,a(r)[H]]]),M.tag===!0?(y(),W(Y,{key:0,class:"box-item",effect:"dark",content:M.number,placement:"top"},{default:k(()=>[M.tag===!0?(y(),I("span",{key:0,onClick:A=>l("openTagDlg",M),class:"right"},u[16]||(u[16]=[$("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,ts)):J("",!0)]),_:2},1032,["content"])):J("",!0)],42,Qa))),128)),e.videoList.length===0?(y(),W(oe,{key:0,description:"暂无视频"})):J("",!0)])]),_:1},8,["label"]),o(te,{label:"已标记 "+e.isTagged.length,name:"tagged"},{default:k(()=>[$("div",ns,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>v(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,ee(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[17]||(u[17]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,ls),[[Oe,a(r)[H]]]),o(Y,{class:"box-item",effect:"dark",content:M.number,placement:"top"},{default:k(()=>[$("span",{onClick:Fe(A=>l("openTagDlg",M),["stop"]),class:"right"},u[18]||(u[18]=[$("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,as)]),_:2},1032,["content"])],42,os))),128)),e.isTagged.length===0?(y(),W(oe,{key:0,description:"暂无已标记视频"})):J("",!0)])]),_:1},8,["label"]),o(te,{label:"未标记 "+e.noTagged.length,name:"noTagged"},{default:k(()=>[$("div",ss,[(y(!0),I(Ce,null,Se(a(m),(M,H)=>(y(),I("div",{key:H,class:L(["videoinf",{actived:a(s)===M}]),onClick:A=>v(M),onMouseenter:A=>a(r)[H]=!0,onMouseleave:A=>a(r)[H]=!1},[$("span",null,ee(M.title),1),Ne($("span",{onClick:Fe(A=>l("deleteVideo",M.title),["stop"]),class:"right"},u[19]||(u[19]=[$("i",{class:"iconfont icon-shanchu"},null,-1)]),8,rs),[[Oe,a(r)[H]]])],42,is))),128)),e.noTagged.length===0?(y(),W(oe,{key:0,description:"暂无未标记视频"})):J("",!0)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]))}}},Yt=Be(cs,[["__scopeId","data-v-69bc13f8"]]),us={key:0},ds={style:{color:"black"}},vs={style:{display:"flex","justify-content":"center",gap:"30px","margin-top":"8vh"}},fs={key:1,class:"tagBody"},ps={class:"common-layout"},gs={key:0},ms={key:1},bs={style:{margin:"10px 0"}},hs={class:"dialog-footer"},_s="/api",ys={__name:"Tag",setup(e){const n=R(null),i=R([]),l=R(""),s=R(""),t=S(()=>i.value.filter(b=>b.tag===!0)),c=S(()=>i.value.filter(b=>b.tag===!1)),r=R(!1),h=rt(),g=new Map,m=S(()=>Ve()),v=R(1),_=b=>{l.value=b},u=()=>{Me.video.getAllVideos({params:{modelId:h.processedModel.id}}).then(b=>{b.code==="200"&&Array.isArray(b.data)?i.value=b.data:(console.error("视频列表加载失败:",b.msg),Q(b.msg))}).catch(b=>{console.log(b.message),Q("加载视频列表失败")})},f=b=>{if(n.value=b,g.has(b.title)){l.value=g.get(b.title);return}Me.video.getSelectVideo({params:{videoTitle:b.title}}).then(p=>{p.code==="200"?(l.value=_s+p.url,g.set(b.title,l.value)):(console.log(p.msg),Q(p.msg))}).catch(p=>{console.log(p.message),Q("视频展示出错")})},w=b=>{n.value=b,v.value=0,n.value.tag?s.value=n.value.number:s.value="",r.value=!0},C=()=>{n.value?n.value.tag===!0?w(n.value):(s.value="",r.value=!0,v.value=1):ot("请先选择要操作的视频")},T=()=>c.value.length===0,x=()=>{if(s.value===""||s.value.length>15){ot("输入的标识字数需要大于0且小于15");return}let b={...n.value};b.tag=!0,b.number=s.value,Me.video.updateVideoTag(b).then(p=>{if(p.code==="200"){n.value.tag=!0,n.value.number=s.value;let D="";T()&&(D="，可以前往下一步"),De(`标注成功${D}`),r.value=!1}else Q("标注失败")}).catch(p=>{console.log(p),Q("标注失败")})},d=b=>{yt("视频").then(()=>{Me.video.deleteVideo({params:{videoTitle:b}}).then(p=>{p.code==="200"?(De("删除成功"),n.value=null,i.value=i.value.filter(D=>D.title!==b)):(console.log(p.msg),Q("删除失败"))}).catch(p=>{console.log(p),Q("删除失败")})})},V=()=>{if(!n.value||n.value.tag===null)return;let b=n.value.title;yt("标识").then(()=>{Me.video.deleteVideoTag({params:{videoTitle:b}}).then(p=>{p.code==="200"?(r.value=!1,De("删除标识成功"),n.value.number="",n.value.tag=!1,u()):(console.log(p.msg),Q("删除标识失败"))}).catch(p=>{console.log(p.message),Q("删除标识失败")})})};return ye(()=>u()),(b,p)=>{const D=Ge,E=Po,N=Eo,B=Pt,X=Ze,j=Jo,Y=It,oe=Qo,te=Go,ne=ko,M=it,H=Rt;return a(m)?(y(),I("div",us,[o(Yt,{videoList:a(i),isTagged:a(t),noTagged:a(c),onVideoSelected:f,onDeleteVideo:d,onAddTag:C,onOpenTagDlg:w},null,8,["videoList","isTagged","noTagged"]),o(X,{show:a(r),"onUpdate:show":p[2]||(p[2]=A=>de(r)?r.value=A:null),position:"bottom",style:{height:"50%"},closeable:""},{default:k(()=>[o(D,null,{default:k(()=>[$("span",ds,ee(a(n).title),1)]),_:1}),o(N,{inset:"",style:{"margin-top":"10%"}},{default:k(()=>[o(E,{modelValue:a(s),"onUpdate:modelValue":p[0]||(p[0]=A=>de(s)?s.value=A:null),rows:"2",autosize:"",label:"标注",type:"textarea",maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),$("div",vs,[o(B,{type:"warning",style:{width:"100px"},onClick:p[1]||(p[1]=A=>r.value=!1)},{default:k(()=>p[6]||(p[6]=[z("取消")])),_:1}),o(B,{type:"success",style:{width:"100px"},onClick:x},{default:k(()=>p[7]||(p[7]=[z("确认")])),_:1})])]),_:1},8,["show"]),o(Kt,{videoUrl:a(l),showObject:a(n),"onUpdate:videoUrl":_},null,8,["videoUrl","showObject"])])):(y(),I("div",fs,[$("div",ps,[o(te,null,{default:k(()=>[o(j,{width:"500px"},{default:k(()=>[o(Kt,{videoUrl:a(l),showObject:a(n),onAddTag:C},null,8,["videoUrl","showObject"])]),_:1}),o(Y,{style:{margin:"2% 3vw",height:"60vh"},direction:"vertical"}),o(oe,{style:{padding:"0"}},{default:k(()=>[o(Yt,{videoList:a(i),isTagged:a(t),noTagged:a(c),onVideoSelected:f,onDeleteVideo:d,onOpenTagDlg:w},null,8,["videoList","isTagged","noTagged"])]),_:1})]),_:1})]),o(H,{modelValue:a(r),"onUpdate:modelValue":p[5]||(p[5]=A=>de(r)?r.value=A:null),top:"30vh",width:"500",class:"diaglog",draggable:!0,"align-center":!0},{footer:k(()=>[$("div",hs,[a(n).tag===!0?(y(),W(M,{key:0,type:"danger",onClick:V},{default:k(()=>p[8]||(p[8]=[z("删除标签")])),_:1})):J("",!0),o(M,{onClick:p[4]||(p[4]=A=>r.value=!1)},{default:k(()=>p[9]||(p[9]=[z("取消")])),_:1}),o(M,{type:"primary",onClick:x},{default:k(()=>p[10]||(p[10]=[z("确认")])),_:1})])]),default:k(()=>[a(v)===1?(y(),I("h2",gs,"新增注解")):J("",!0),a(v)===0?(y(),I("h2",ms,"更改注解")):J("",!0),$("h3",bs,ee(a(n).title),1),$("div",null,[o(ne,{type:"text",modelValue:a(s),"onUpdate:modelValue":p[3]||(p[3]=A=>de(s)?s.value=A:null),placeholder:"请输入标注（字数小于15）"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]))}}},Xt=Be(ys,[["__scopeId","data-v-3d6ceadc"]]),ks={key:0},$s={class:"header",style:{"margin-top":"10vh"}},ws={key:1},Cs={class:"header"},Ss={key:0,class:"progress-icon-container"},Ts={__name:"Infer",setup(e){const n=R(!1),i=R(!1),l=R(0),s=R(!1),t=rt(),c=S(()=>Ve()),r=()=>{s.value=!0,n.value=!0,i.value=!0,h()},h=()=>{xo.trainModel({params:{modelid:t.processedModel.id}}).then(v=>{if(v.code==="200")l.value+=4,t.processedModel.isTrained=!0;else{Q("训练失败");return}}).catch(v=>{console.log(v),Q("训练失败")});let g=0;const m=setInterval(()=>{g>=24?(l.value===100&&(s.value=!1,De("训练成功")),clearInterval(m)):(l.value+=4,g++)},100)};return(g,m)=>{const v=it,_=ra,u=ll;return a(c)?(y(),I("div",ks,[$("div",$s,[$("span",null,"模型训练 "+ee(a(l))+"%",1),o(v,{type:"success",onClick:r,disabled:a(s)},{default:k(()=>m[0]||(m[0]=[z("开始训练")])),_:1},8,["disabled"])]),o(_,{percentage:a(l),"stroke-width":"8",color:"lightgreen",style:{width:"80%",transition:"width 1s ease",margin:"auto"}},null,8,["percentage"])])):(y(),I("div",ws,[$("div",Cs,[$("span",null,"模型训练 "+ee(a(l))+"%",1),o(v,{type:"success",onClick:r,disabled:a(s)},{default:k(()=>m[1]||(m[1]=[z("开始训练")])),_:1},8,["disabled"])]),a(i)?(y(),I("div",Ss,[o(u,{percentage:a(l),"stroke-width":15,status:"success",striped:"","striped-flow":a(l)<100,duration:10,style:{width:"90%",transition:"width 1s ease"}},null,8,["percentage","striped-flow"])])):J("",!0)]))}}},Zt=Be(Ts,[["__scopeId","data-v-96f4f33a"]]),xs={key:0},Es={class:"newModel"},Ps={key:1},Is={style:{"font-size":"1.2rem"}},Rs={class:"step"},Bs={__name:"NewModels",setup(e){const n=$o(),i=rt(),l=S(()=>i.processedModel.name),s=S(()=>Ve()),t=R({x:300,y:400}),c=()=>{r.value=(r.value+1)%3},r=R(0);return(h,g)=>{const m=Co,v=fa,_=pa,u=la,f=Do,w=Ao,C=pl,T=fl,x=wo;return a(s)?(y(),I("div",xs,[o(m,{title:a(l),"left-arrow":"",onClickLeft:g[0]||(g[0]=d=>a(n).go(-1))},null,8,["title"]),o(_,{active:a(r)},{default:k(()=>[o(v,{onClick:g[1]||(g[1]=d=>r.value=0)},{default:k(()=>g[8]||(g[8]=[z("数据采集")])),_:1}),o(v,{onClick:g[2]||(g[2]=d=>r.value=1)},{default:k(()=>g[9]||(g[9]=[z("语料定义")])),_:1}),o(v,{onClick:g[3]||(g[3]=d=>r.value=2)},{default:k(()=>g[10]||(g[10]=[z("模型训练")])),_:1})]),_:1},8,["active"]),o(u,{axis:"xy",icon:"arrow",magnetic:"x",onClick:c,offset:a(t),"onUpdate:offset":g[4]||(g[4]=d=>de(t)?t.value=d:null)},null,8,["offset"]),$("div",Es,[a(r)===0?(y(),W(qt,{key:0})):a(r)===1?(y(),W(Xt,{key:1})):(y(),W(Zt,{key:2}))])])):(y(),I("div",Ps,[o(w,{"separator-icon":a(nn)},{default:k(()=>[o(f,{to:{path:"/implents/models/myModels"}},{default:k(()=>g[11]||(g[11]=[z("我的模型")])),_:1}),o(f,null,{default:k(()=>[$("span",Is,ee(a(l)),1)]),_:1})]),_:1},8,["separator-icon"]),o(x,{class:"models-body"},{header:k(()=>[$("div",Rs,[o(T,{active:a(r),"align-center":""},{default:k(()=>[o(C,{title:"数据采集",class:"step-item",onClick:g[5]||(g[5]=d=>r.value=0)}),o(C,{title:"语料定义",class:"step-item",onClick:g[6]||(g[6]=d=>r.value=1)}),o(C,{title:"模型训练",class:"step-item",onClick:g[7]||(g[7]=d=>r.value=2)})]),_:1},8,["active"])])]),default:k(()=>[a(r)===0?(y(),W(qt,{key:0})):a(r)===1?(y(),W(Xt,{key:1})):(y(),W(Zt,{key:2}))]),_:1})]))}}},Hs=Be(Bs,[["__scopeId","data-v-d5d1e489"]]);export{Hs as default};
