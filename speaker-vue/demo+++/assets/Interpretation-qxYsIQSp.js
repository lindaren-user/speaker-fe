import{cF as Cn,q as ct,v as xn,X as xt,aW as J,aP as Be,H as We,aZ as le,cG as ve,bM as Ve,aX as vt,aY as dt,L as ot,M as ue,bD as Xt,O as Ue,l as T,R as Ke,b0 as mt,b as M,a_ as De,N as ft,a$ as jt,P as ae,a0 as Se,a2 as In,c as E,o as h,aI as be,ac as G,e as w,u as n,cH as Pe,W as Z,V as Ie,w as C,ab as U,aD as En,cI as Tn,j as de,cJ as Nn,bQ as Mn,cK as Pn,b5 as ze,m as Ht,Y as Oe,$ as pt,D as ye,cL as $n,ah as gt,C as Le,I as Ee,cM as Gt,Z as qt,cN as tt,a4 as pe,ax as he,T as nt,a as N,af as oe,aH as Qt,ae as ke,aG as xe,bE as te,b3 as Zt,Q as Bn,F as $e,bn as qe,G as Qe,aL as Xe,cO as zn,a9 as Ln,ad as Ne,cP as Rn,cQ as It,cR as An,cS as On,aJ as Re,aw as Fn,aB as lt,at as Wn,cT as Me,az as Et,aM as Jt,b6 as re,cU as Un,ak as Tt,aj as Ze,ba as Kn,b_ as Yn,al as en,am as Dn,b$ as Xn,cd as jn,an as tn,cV as Hn,c2 as Gn,c4 as nn,c6 as qn,cs as Qn,bc as Nt,b9 as Zn,bh as Jn,co as el,c1 as tl,cW as nl,bm as ln,au as ll,bf as on,aq as an,_ as at,g as ol,bk as al,d as st,B as sn,i as ne,h as ht,br as sl,n as se,bs as Mt,S as rn,cX as il,cY as rl,aF as bt,cZ as un,c_ as we,aN as yt,a1 as ul,r as Ae,c$ as cl,d0 as cn,bl as dl,cu as vl,aT as ml}from"./index-D4QMGDdD.js";import{C as wt}from"./index-Qmdp2F1t.js";import{b as dn,S as vn,E as mn,c as fl,a as fn}from"./index-B7sfP-M9.js";import{D as pn}from"./index-Cg8AKpBn.js";import{N as pl,C as Pt,a as $t,f as gn}from"./VideoShow.vue_vue_type_style_index_0_scoped_f4213b5b_lang-CnSgN6n6.js";import"./el-tooltip-l0sNRNKZ.js";import{u as gl}from"./use-id-BVojlOEE.js";import"https://avatar.gbqr.net/yiyu.js";var hl=/\s/;function bl(e){for(var t=e.length;t--&&hl.test(e.charAt(t)););return t}var yl=/^\s+/;function wl(e){return e&&e.slice(0,bl(e)+1).replace(yl,"")}var Bt=NaN,_l=/^[-+]0x[0-9a-f]+$/i,kl=/^0b[01]+$/i,Vl=/^0o[0-7]+$/i,Sl=parseInt;function zt(e){if(typeof e=="number")return e;if(Cn(e))return Bt;if(ct(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ct(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wl(e);var o=kl.test(e);return o||Vl.test(e)?Sl(e.slice(2),o?2:8):_l.test(e)?Bt:+e}var it=function(){return xn.Date.now()},Cl="Expected a function",xl=Math.max,Il=Math.min;function Lt(e,t,o){var l,r,s,a,i,d,u=0,b=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(Cl);t=zt(t)||0,ct(o)&&(b=!!o.leading,m="maxWait"in o,s=m?xl(zt(o.maxWait)||0,t):s,p="trailing"in o?!!o.trailing:p);function k(f){var F=l,W=r;return l=r=void 0,u=f,a=e.apply(W,F),a}function _(f){return u=f,i=setTimeout(V,t),b?k(f):a}function O(f){var F=f-d,W=f-u,Y=t-F;return m?Il(Y,s-W):Y}function P(f){var F=f-d,W=f-u;return d===void 0||F>=t||F<0||m&&W>=s}function V(){var f=it();if(P(f))return g(f);i=setTimeout(V,O(f))}function g(f){return i=void 0,p&&l?k(f):(l=r=void 0,a)}function $(){i!==void 0&&clearTimeout(i),u=0,l=d=r=i=void 0}function R(){return i===void 0?a:g(it())}function c(){var f=it(),F=P(f);if(l=arguments,r=this,d=f,F){if(i===void 0)return _(d);if(m)return clearTimeout(i),i=setTimeout(V,t),k(d)}return i===void 0&&(i=setTimeout(V,t)),a}return c.cancel=$,c.flush=R,c}const El=100,Tl=600,Rt={beforeMount(e,t){const o=t.value,{interval:l=El,delay:r=Tl}=xt(o)?{}:o;let s,a;const i=()=>xt(o)?o():o.handler(),d=()=>{a&&(clearTimeout(a),a=void 0),s&&(clearInterval(s),s=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(d(),i(),document.addEventListener("mouseup",()=>d(),{once:!0}),a=setTimeout(()=>{s=setInterval(()=>{i()},l)},r))})}},Nl=We({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:dt,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||J(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...vt(["ariaLabel"])}),Ml={[Ve]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ve]:e=>J(e)||Be(e),[le]:e=>J(e)||Be(e)},Pl=ue({name:"ElInputNumber"}),$l=ue({...Pl,props:Nl,emits:Ml,setup(e,{expose:t,emit:o}){const l=e,{t:r}=Xt(),s=Ue("input-number"),a=T(),i=Ke({currentValue:l.modelValue,userInput:null}),{formItem:d}=mt(),u=M(()=>J(l.modelValue)&&l.modelValue<=l.min),b=M(()=>J(l.modelValue)&&l.modelValue>=l.max),m=M(()=>{const v=V(l.step);return De(l.precision)?Math.max(V(l.modelValue),v):(v>l.precision,l.precision)}),p=M(()=>l.controls&&l.controlsPosition==="right"),k=ft(),_=jt(),O=M(()=>{if(i.userInput!==null)return i.userInput;let v=i.currentValue;if(Be(v))return"";if(J(v)){if(Number.isNaN(v))return"";De(l.precision)||(v=v.toFixed(l.precision))}return v}),P=(v,S)=>{if(De(S)&&(S=m.value),S===0)return Math.round(v);let B=String(v);const L=B.indexOf(".");if(L===-1||!B.replace(".","").split("")[L+S])return v;const D=B.length;return B.charAt(D-1)==="5"&&(B=`${B.slice(0,Math.max(0,D-1))}6`),Number.parseFloat(Number(B).toFixed(S))},V=v=>{if(Be(v))return 0;const S=v.toString(),B=S.indexOf(".");let L=0;return B!==-1&&(L=S.length-B-1),L},g=(v,S=1)=>J(v)?P(v+l.step*S):i.currentValue,$=()=>{if(l.readonly||_.value||b.value)return;const v=Number(O.value)||0,S=g(v);f(S),o(ve,i.currentValue),K()},R=()=>{if(l.readonly||_.value||u.value)return;const v=Number(O.value)||0,S=g(v,-1);f(S),o(ve,i.currentValue),K()},c=(v,S)=>{const{max:B,min:L,step:I,precision:y,stepStrictly:D,valueOnClear:j}=l;B<L&&pt("InputNumber","min should not be greater than max.");let x=Number(v);if(Be(v)||Number.isNaN(x))return null;if(v===""){if(j===null)return null;x=ye(j)?{min:L,max:B}[j]:j}return D&&(x=P(Math.round(x/I)*I,y),x!==v&&S&&o(le,x)),De(y)||(x=P(x,y)),(x>B||x<L)&&(x=x>B?B:L,S&&o(le,x)),x},f=(v,S=!0)=>{var B;const L=i.currentValue,I=c(v);if(!S){o(le,I);return}L===I&&v||(i.userInput=null,o(le,I),L!==I&&o(Ve,I,L),l.validateEvent&&((B=d==null?void 0:d.validate)==null||B.call(d,"change").catch(y=>Oe())),i.currentValue=I)},F=v=>{i.userInput=v;const S=v===""?null:Number(v);o(ve,S),f(S,!1)},W=v=>{const S=v!==""?Number(v):"";(J(S)&&!Number.isNaN(S)||v==="")&&f(S),K(),i.userInput=null},Y=()=>{var v,S;(S=(v=a.value)==null?void 0:v.focus)==null||S.call(v)},q=()=>{var v,S;(S=(v=a.value)==null?void 0:v.blur)==null||S.call(v)},X=v=>{o("focus",v)},z=v=>{var S,B;i.userInput=null,$n()&&i.currentValue===null&&((S=a.value)!=null&&S.input)&&(a.value.input.value=""),o("blur",v),l.validateEvent&&((B=d==null?void 0:d.validate)==null||B.call(d,"blur").catch(L=>Oe()))},K=()=>{i.currentValue!==l.modelValue&&(i.currentValue=l.modelValue)},Q=v=>{document.activeElement===v.target&&v.preventDefault()};return ae(()=>l.modelValue,(v,S)=>{const B=c(v,!0);i.userInput===null&&B!==S&&(i.currentValue=B)},{immediate:!0}),Se(()=>{var v;const{min:S,max:B,modelValue:L}=l,I=(v=a.value)==null?void 0:v.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(B)?I.setAttribute("aria-valuemax",String(B)):I.removeAttribute("aria-valuemax"),Number.isFinite(S)?I.setAttribute("aria-valuemin",String(S)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),I.setAttribute("aria-disabled",String(_.value)),!J(L)&&L!=null){let y=Number(L);Number.isNaN(y)&&(y=null),o(le,y)}I.addEventListener("wheel",Q,{passive:!1})}),In(()=>{var v,S;const B=(v=a.value)==null?void 0:v.input;B==null||B.setAttribute("aria-valuenow",`${(S=i.currentValue)!=null?S:""}`)}),t({focus:Y,blur:q}),(v,S)=>(h(),E("div",{class:Z([n(s).b(),n(s).m(n(k)),n(s).is("disabled",n(_)),n(s).is("without-controls",!v.controls),n(s).is("controls-right",n(p))]),onDragstart:ze(()=>{},["prevent"])},[v.controls?be((h(),E("span",{key:0,role:"button","aria-label":n(r)("el.inputNumber.decrease"),class:Z([n(s).e("decrease"),n(s).is("disabled",n(u))]),onKeydown:Pe(R,["enter"])},[Ie(v.$slots,"decrease-icon",{},()=>[w(n(de),null,{default:C(()=>[n(p)?(h(),U(n(En),{key:0})):(h(),U(n(Tn),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[n(Rt),R]]):G("v-if",!0),v.controls?be((h(),E("span",{key:1,role:"button","aria-label":n(r)("el.inputNumber.increase"),class:Z([n(s).e("increase"),n(s).is("disabled",n(b))]),onKeydown:Pe($,["enter"])},[Ie(v.$slots,"increase-icon",{},()=>[w(n(de),null,{default:C(()=>[n(p)?(h(),U(n(Nn),{key:0})):(h(),U(n(Mn),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[n(Rt),$]]):G("v-if",!0),w(n(Ht),{id:v.id,ref_key:"input",ref:a,type:"number",step:v.step,"model-value":n(O),placeholder:v.placeholder,readonly:v.readonly,disabled:n(_),size:n(k),max:v.max,min:v.min,name:v.name,"aria-label":v.ariaLabel,"validate-event":!1,onKeydown:[Pe(ze($,["prevent"]),["up"]),Pe(ze(R,["prevent"]),["down"])],onBlur:z,onFocus:X,onInput:F,onChange:W},Pn({_:2},[v.$slots.prefix?{name:"prefix",fn:C(()=>[Ie(v.$slots,"prefix")])}:void 0,v.$slots.suffix?{name:"suffix",fn:C(()=>[Ie(v.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Bl=ot($l,[["__file","input-number.vue"]]);const zl=gt(Bl),hn=Symbol("sliderContextKey"),Ll=We({modelValue:{type:Ee([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:dt,inputSize:dt,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ee(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ee(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Gt,default:"top"},marks:{type:Ee(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...vt(["ariaLabel"])}),rt=e=>J(e)||Le(e)&&e.every(J),Rl={[le]:rt,[ve]:rt,[Ve]:rt},Al=We({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Gt,default:"top"}}),Ol={[le]:e=>J(e)},Fl=(e,t,o)=>{const l=T(),r=T(!1),s=M(()=>t.value instanceof Function),a=M(()=>s.value&&t.value(e.modelValue)||e.modelValue),i=Lt(()=>{o.value&&(r.value=!0)},50),d=Lt(()=>{o.value&&(r.value=!1)},50);return{tooltip:l,tooltipVisible:r,formatValue:a,displayTooltip:i,hideTooltip:d}},Wl=(e,t,o)=>{const{disabled:l,min:r,max:s,step:a,showTooltip:i,persistent:d,precision:u,sliderSize:b,formatTooltip:m,emitChange:p,resetSize:k,updateDragging:_}=qt(hn),{tooltip:O,tooltipVisible:P,formatValue:V,displayTooltip:g,hideTooltip:$}=Fl(e,m,i),R=T(),c=M(()=>`${(e.modelValue-r.value)/(s.value-r.value)*100}%`),f=M(()=>e.vertical?{bottom:c.value}:{left:c.value}),F=()=>{t.hovering=!0,g()},W=()=>{t.hovering=!1,t.dragging||$()},Y=x=>{l.value||(x.preventDefault(),I(x),window.addEventListener("mousemove",y),window.addEventListener("touchmove",y),window.addEventListener("mouseup",D),window.addEventListener("touchend",D),window.addEventListener("contextmenu",D),R.value.focus())},q=x=>{l.value||(t.newPosition=Number.parseFloat(c.value)+x/(s.value-r.value)*100,j(t.newPosition),p())},X=()=>{q(-a.value)},z=()=>{q(a.value)},K=()=>{q(-a.value*4)},Q=()=>{q(a.value*4)},v=()=>{l.value||(j(0),p())},S=()=>{l.value||(j(100),p())},B=x=>{let H=!0;switch(x.code){case he.left:case he.down:X();break;case he.right:case he.up:z();break;case he.home:v();break;case he.end:S();break;case he.pageDown:K();break;case he.pageUp:Q();break;default:H=!1;break}H&&x.preventDefault()},L=x=>{let H,ie;return x.type.startsWith("touch")?(ie=x.touches[0].clientY,H=x.touches[0].clientX):(ie=x.clientY,H=x.clientX),{clientX:H,clientY:ie}},I=x=>{t.dragging=!0,t.isClick=!0;const{clientX:H,clientY:ie}=L(x);e.vertical?t.startY=ie:t.startX=H,t.startPosition=Number.parseFloat(c.value),t.newPosition=t.startPosition},y=x=>{if(t.dragging){t.isClick=!1,g(),k();let H;const{clientX:ie,clientY:ce}=L(x);e.vertical?(t.currentY=ce,H=(t.startY-t.currentY)/b.value*100):(t.currentX=ie,H=(t.currentX-t.startX)/b.value*100),t.newPosition=t.startPosition+H,j(t.newPosition)}},D=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||$(),t.isClick||j(t.newPosition),p()},0),window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",y),window.removeEventListener("mouseup",D),window.removeEventListener("touchend",D),window.removeEventListener("contextmenu",D))},j=async x=>{if(x===null||Number.isNaN(+x))return;x<0?x=0:x>100&&(x=100);const H=100/((s.value-r.value)/a.value);let ce=Math.round(x/H)*H*(s.value-r.value)*.01+r.value;ce=Number.parseFloat(ce.toFixed(u.value)),ce!==e.modelValue&&o(le,ce),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await pe(),t.dragging&&g(),O.value.updatePopper()};return ae(()=>t.dragging,x=>{_(x)}),tt(R,"touchstart",Y,{passive:!1}),{disabled:l,button:R,tooltip:O,tooltipVisible:P,showTooltip:i,persistent:d,wrapperStyle:f,formatValue:V,handleMouseEnter:F,handleMouseLeave:W,onButtonDown:Y,onKeyDown:B,setPosition:j}},Ul=ue({name:"ElSliderButton"}),Kl=ue({...Ul,props:Al,emits:Ol,setup(e,{expose:t,emit:o}){const l=e,r=Ue("slider"),s=Ke({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:l.modelValue}),a=M(()=>b.value?m.value:!1),{disabled:i,button:d,tooltip:u,showTooltip:b,persistent:m,tooltipVisible:p,wrapperStyle:k,formatValue:_,handleMouseEnter:O,handleMouseLeave:P,onButtonDown:V,onKeyDown:g,setPosition:$}=Wl(l,s,o),{hovering:R,dragging:c}=nt(s);return t({onButtonDown:V,onKeyDown:g,setPosition:$,hovering:R,dragging:c}),(f,F)=>(h(),E("div",{ref_key:"button",ref:d,class:Z([n(r).e("button-wrapper"),{hover:n(R),dragging:n(c)}]),style:ke(n(k)),tabindex:n(i)?-1:0,onMouseenter:n(O),onMouseleave:n(P),onMousedown:n(V),onFocus:n(O),onBlur:n(P),onKeydown:n(g)},[w(n(Qt),{ref_key:"tooltip",ref:u,visible:n(p),placement:f.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":f.tooltipClass,disabled:!n(b),persistent:n(a)},{content:C(()=>[N("span",null,oe(n(_)),1)]),default:C(()=>[N("div",{class:Z([n(r).e("button"),{hover:n(R),dragging:n(c)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var At=ot(Kl,[["__file","button.vue"]]);const Yl=We({mark:{type:Ee([String,Object]),default:void 0}});var Dl=ue({name:"ElSliderMarker",props:Yl,setup(e){const t=Ue("slider"),o=M(()=>ye(e.mark)?e.mark:e.mark.label),l=M(()=>ye(e.mark)?void 0:e.mark.style);return()=>xe("div",{class:t.e("marks-text"),style:l.value},o.value)}});const Xl=(e,t,o)=>{const{form:l,formItem:r}=mt(),s=te(),a=T(),i=T(),d={firstButton:a,secondButton:i},u=M(()=>e.disabled||(l==null?void 0:l.disabled)||!1),b=M(()=>Math.min(t.firstValue,t.secondValue)),m=M(()=>Math.max(t.firstValue,t.secondValue)),p=M(()=>e.range?`${100*(m.value-b.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),k=M(()=>e.range?`${100*(b.value-e.min)/(e.max-e.min)}%`:"0%"),_=M(()=>e.vertical?{height:e.height}:{}),O=M(()=>e.vertical?{height:p.value,bottom:k.value}:{width:p.value,left:k.value}),P=()=>{s.value&&(t.sliderSize=s.value[`client${e.vertical?"Height":"Width"}`])},V=z=>{const K=e.min+z*(e.max-e.min)/100;if(!e.range)return a;let Q;return Math.abs(b.value-K)<Math.abs(m.value-K)?Q=t.firstValue<t.secondValue?"firstButton":"secondButton":Q=t.firstValue>t.secondValue?"firstButton":"secondButton",d[Q]},g=z=>{const K=V(z);return K.value.setPosition(z),K},$=z=>{t.firstValue=z??e.min,c(e.range?[b.value,m.value]:z??e.min)},R=z=>{t.secondValue=z,e.range&&c([b.value,m.value])},c=z=>{o(le,z),o(ve,z)},f=async()=>{await pe(),o(Ve,e.range?[b.value,m.value]:e.modelValue)},F=z=>{var K,Q,v,S,B,L;if(u.value||t.dragging)return;P();let I=0;if(e.vertical){const y=(v=(Q=(K=z.touches)==null?void 0:K.item(0))==null?void 0:Q.clientY)!=null?v:z.clientY;I=(s.value.getBoundingClientRect().bottom-y)/t.sliderSize*100}else{const y=(L=(B=(S=z.touches)==null?void 0:S.item(0))==null?void 0:B.clientX)!=null?L:z.clientX,D=s.value.getBoundingClientRect().left;I=(y-D)/t.sliderSize*100}if(!(I<0||I>100))return g(I)};return{elFormItem:r,slider:s,firstButton:a,secondButton:i,sliderDisabled:u,minValue:b,maxValue:m,runwayStyle:_,barStyle:O,resetSize:P,setPosition:g,emitChange:f,onSliderWrapperPrevent:z=>{var K,Q;((K=d.firstButton.value)!=null&&K.dragging||(Q=d.secondButton.value)!=null&&Q.dragging)&&z.preventDefault()},onSliderClick:z=>{F(z)&&f()},onSliderDown:async z=>{const K=F(z);K&&(await pe(),K.value.onButtonDown(z))},onSliderMarkerDown:z=>{u.value||t.dragging||g(z)},setFirstValue:$,setSecondValue:R}},jl=(e,t,o,l)=>({stops:M(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const a=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),d=Array.from({length:a-1}).map((u,b)=>(b+1)*i);return e.range?d.filter(u=>u<100*(o.value-e.min)/(e.max-e.min)||u>100*(l.value-e.min)/(e.max-e.min)):d.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),Hl=e=>M(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((o,l)=>o-l).filter(o=>o<=e.max&&o>=e.min).map(o=>({point:o,position:(o-e.min)*100/(e.max-e.min),mark:e.marks[o]})):[]),Gl=(e,t,o,l,r,s)=>{const a=u=>{r(le,u),r(ve,u)},i=()=>e.range?![o.value,l.value].every((u,b)=>u===t.oldValue[b]):e.modelValue!==t.oldValue,d=()=>{var u,b;e.min>e.max&&pt("Slider","min should not be greater than max.");const m=e.modelValue;e.range&&Le(m)?m[1]<e.min?a([e.min,e.min]):m[0]>e.max?a([e.max,e.max]):m[0]<e.min?a([e.min,m[1]]):m[1]>e.max?a([m[0],e.max]):(t.firstValue=m[0],t.secondValue=m[1],i()&&(e.validateEvent&&((u=s==null?void 0:s.validate)==null||u.call(s,"change").catch(p=>Oe())),t.oldValue=m.slice())):!e.range&&J(m)&&!Number.isNaN(m)&&(m<e.min?a(e.min):m>e.max?a(e.max):(t.firstValue=m,i()&&(e.validateEvent&&((b=s==null?void 0:s.validate)==null||b.call(s,"change").catch(p=>Oe())),t.oldValue=m)))};d(),ae(()=>t.dragging,u=>{u||d()}),ae(()=>e.modelValue,(u,b)=>{t.dragging||Le(u)&&Le(b)&&u.every((m,p)=>m===b[p])&&t.firstValue===u[0]&&t.secondValue===u[1]||d()},{deep:!0}),ae(()=>[e.min,e.max],()=>{d()})},ql=(e,t,o)=>{const l=T();return Se(async()=>{e.range?(Le(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!J(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),tt(window,"resize",o),await pe(),o()}),{sliderWrapper:l}},Ql=ue({name:"ElSlider"}),Zl=ue({...Ql,props:Ll,emits:Rl,setup(e,{expose:t,emit:o}){const l=e,r=Ue("slider"),{t:s}=Xt(),a=Ke({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:d,firstButton:u,secondButton:b,sliderDisabled:m,minValue:p,maxValue:k,runwayStyle:_,barStyle:O,resetSize:P,emitChange:V,onSliderWrapperPrevent:g,onSliderClick:$,onSliderDown:R,onSliderMarkerDown:c,setFirstValue:f,setSecondValue:F}=Xl(l,a,o),{stops:W,getStopStyle:Y}=jl(l,a,p,k),{inputId:q,isLabeledByFormItem:X}=Zt(l,{formItemContext:i}),z=ft(),K=M(()=>l.inputSize||z.value),Q=M(()=>l.ariaLabel||s("el.slider.defaultLabel",{min:l.min,max:l.max})),v=M(()=>l.range?l.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):Q.value),S=M(()=>l.formatValueText?l.formatValueText(x.value):`${x.value}`),B=M(()=>l.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),L=M(()=>l.formatValueText?l.formatValueText(H.value):`${H.value}`),I=M(()=>[r.b(),r.m(z.value),r.is("vertical",l.vertical),{[r.m("with-input")]:l.showInput}]),y=Hl(l);Gl(l,a,p,k,o,i);const D=M(()=>{const A=[l.min,l.max,l.step].map(me=>{const _e=`${me}`.split(".")[1];return _e?_e.length:0});return Math.max.apply(null,A)}),{sliderWrapper:j}=ql(l,a,P),{firstValue:x,secondValue:H,sliderSize:ie}=nt(a),ce=A=>{a.dragging=A};return tt(j,"touchstart",g,{passive:!1}),tt(j,"touchmove",g,{passive:!1}),Bn(hn,{...nt(l),sliderSize:ie,disabled:m,precision:D,emitChange:V,resetSize:P,updateDragging:ce}),t({onSliderClick:$}),(A,me)=>{var _e,Ce;return h(),E("div",{id:A.range?n(q):void 0,ref_key:"sliderWrapper",ref:j,class:Z(n(I)),role:A.range?"group":void 0,"aria-label":A.range&&!n(X)?n(Q):void 0,"aria-labelledby":A.range&&n(X)?(_e=n(i))==null?void 0:_e.labelId:void 0},[N("div",{ref_key:"slider",ref:d,class:Z([n(r).e("runway"),{"show-input":A.showInput&&!A.range},n(r).is("disabled",n(m))]),style:ke(n(_)),onMousedown:n(R),onTouchstartPassive:n(R)},[N("div",{class:Z(n(r).e("bar")),style:ke(n(O))},null,6),w(At,{id:A.range?void 0:n(q),ref_key:"firstButton",ref:u,"model-value":n(x),vertical:A.vertical,"tooltip-class":A.tooltipClass,placement:A.placement,role:"slider","aria-label":A.range||!n(X)?n(v):void 0,"aria-labelledby":!A.range&&n(X)?(Ce=n(i))==null?void 0:Ce.labelId:void 0,"aria-valuemin":A.min,"aria-valuemax":A.range?n(H):A.max,"aria-valuenow":n(x),"aria-valuetext":n(S),"aria-orientation":A.vertical?"vertical":"horizontal","aria-disabled":n(m),"onUpdate:modelValue":n(f)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),A.range?(h(),U(At,{key:0,ref_key:"secondButton",ref:b,"model-value":n(H),vertical:A.vertical,"tooltip-class":A.tooltipClass,placement:A.placement,role:"slider","aria-label":n(B),"aria-valuemin":n(x),"aria-valuemax":A.max,"aria-valuenow":n(H),"aria-valuetext":n(L),"aria-orientation":A.vertical?"vertical":"horizontal","aria-disabled":n(m),"onUpdate:modelValue":n(F)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):G("v-if",!0),A.showStops?(h(),E("div",{key:1},[(h(!0),E($e,null,qe(n(W),(fe,ge)=>(h(),E("div",{key:ge,class:Z(n(r).e("stop")),style:ke(n(Y)(fe))},null,6))),128))])):G("v-if",!0),n(y).length>0?(h(),E($e,{key:2},[N("div",null,[(h(!0),E($e,null,qe(n(y),(fe,ge)=>(h(),E("div",{key:ge,style:ke(n(Y)(fe.position)),class:Z([n(r).e("stop"),n(r).e("marks-stop")])},null,6))),128))]),N("div",{class:Z(n(r).e("marks"))},[(h(!0),E($e,null,qe(n(y),(fe,ge)=>(h(),U(n(Dl),{key:ge,mark:fe.mark,style:ke(n(Y)(fe.position)),onMousedown:ze(Vt=>n(c)(fe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):G("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),A.showInput&&!A.range?(h(),U(n(zl),{key:0,ref:"input","model-value":n(x),class:Z(n(r).e("input")),step:A.step,disabled:n(m),controls:A.showInputControls,min:A.min,max:A.max,precision:n(D),debounce:A.debounce,size:n(K),"onUpdate:modelValue":n(f),onChange:n(V)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):G("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Jl=ot(Zl,[["__file","slider.vue"]]);const eo=gt(Jl),to=We({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:zn},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Xe},activeActionIcon:{type:Xe},activeIcon:{type:Xe},inactiveIcon:{type:Xe},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ee(Function)},id:String,tabindex:{type:[String,Number]},...vt(["ariaLabel"])}),no={[le]:e=>Qe(e)||ye(e)||J(e),[Ve]:e=>Qe(e)||ye(e)||J(e),[ve]:e=>Qe(e)||ye(e)||J(e)},bn="ElSwitch",lo=ue({name:bn}),oo=ue({...lo,props:to,emits:no,setup(e,{expose:t,emit:o}){const l=e,{formItem:r}=mt(),s=ft(),a=Ue("switch"),{inputId:i}=Zt(l,{formItemContext:r}),d=jt(M(()=>l.loading)),u=T(l.modelValue!==!1),b=T(),m=T(),p=M(()=>[a.b(),a.m(s.value),a.is("disabled",d.value),a.is("checked",V.value)]),k=M(()=>[a.e("label"),a.em("label","left"),a.is("active",!V.value)]),_=M(()=>[a.e("label"),a.em("label","right"),a.is("active",V.value)]),O=M(()=>({width:Ln(l.width)}));ae(()=>l.modelValue,()=>{u.value=!0});const P=M(()=>u.value?l.modelValue:!1),V=M(()=>P.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(P.value)||(o(le,l.inactiveValue),o(Ve,l.inactiveValue),o(ve,l.inactiveValue)),ae(V,c=>{var f;b.value.checked=c,l.validateEvent&&((f=r==null?void 0:r.validate)==null||f.call(r,"change").catch(F=>Oe()))});const g=()=>{const c=V.value?l.inactiveValue:l.activeValue;o(le,c),o(Ve,c),o(ve,c),pe(()=>{b.value.checked=V.value})},$=()=>{if(d.value)return;const{beforeChange:c}=l;if(!c){g();return}const f=c();[It(f),Qe(f)].includes(!0)||pt(bn,"beforeChange must return type `Promise<boolean>` or `boolean`"),It(f)?f.then(W=>{W&&g()}).catch(W=>{}):f&&g()},R=()=>{var c,f;(f=(c=b.value)==null?void 0:c.focus)==null||f.call(c)};return Se(()=>{b.value.checked=V.value}),t({focus:R,checked:V}),(c,f)=>(h(),E("div",{class:Z(n(p)),onClick:ze($,["prevent"])},[N("input",{id:n(i),ref_key:"input",ref:b,class:Z(n(a).e("input")),type:"checkbox",role:"switch","aria-checked":n(V),"aria-disabled":n(d),"aria-label":c.ariaLabel,name:c.name,"true-value":c.activeValue,"false-value":c.inactiveValue,disabled:n(d),tabindex:c.tabindex,onChange:g,onKeydown:Pe($,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!c.inlinePrompt&&(c.inactiveIcon||c.inactiveText)?(h(),E("span",{key:0,class:Z(n(k))},[c.inactiveIcon?(h(),U(n(de),{key:0},{default:C(()=>[(h(),U(Ne(c.inactiveIcon)))]),_:1})):G("v-if",!0),!c.inactiveIcon&&c.inactiveText?(h(),E("span",{key:1,"aria-hidden":n(V)},oe(c.inactiveText),9,["aria-hidden"])):G("v-if",!0)],2)):G("v-if",!0),N("span",{ref_key:"core",ref:m,class:Z(n(a).e("core")),style:ke(n(O))},[c.inlinePrompt?(h(),E("div",{key:0,class:Z(n(a).e("inner"))},[c.activeIcon||c.inactiveIcon?(h(),U(n(de),{key:0,class:Z(n(a).is("icon"))},{default:C(()=>[(h(),U(Ne(n(V)?c.activeIcon:c.inactiveIcon)))]),_:1},8,["class"])):c.activeText||c.inactiveText?(h(),E("span",{key:1,class:Z(n(a).is("text")),"aria-hidden":!n(V)},oe(n(V)?c.activeText:c.inactiveText),11,["aria-hidden"])):G("v-if",!0)],2)):G("v-if",!0),N("div",{class:Z(n(a).e("action"))},[c.loading?(h(),U(n(de),{key:0,class:Z(n(a).is("loading"))},{default:C(()=>[w(n(Rn))]),_:1},8,["class"])):n(V)?Ie(c.$slots,"active-action",{key:1},()=>[c.activeActionIcon?(h(),U(n(de),{key:0},{default:C(()=>[(h(),U(Ne(c.activeActionIcon)))]),_:1})):G("v-if",!0)]):n(V)?G("v-if",!0):Ie(c.$slots,"inactive-action",{key:2},()=>[c.inactiveActionIcon?(h(),U(n(de),{key:0},{default:C(()=>[(h(),U(Ne(c.inactiveActionIcon)))]),_:1})):G("v-if",!0)])],2)],6),!c.inlinePrompt&&(c.activeIcon||c.activeText)?(h(),E("span",{key:1,class:Z(n(_))},[c.activeIcon?(h(),U(n(de),{key:0},{default:C(()=>[(h(),U(Ne(c.activeIcon)))]),_:1})):G("v-if",!0),!c.activeIcon&&c.activeText?(h(),E("span",{key:1,"aria-hidden":!n(V)},oe(c.activeText),9,["aria-hidden"])):G("v-if",!0)],2)):G("v-if",!0)],10,["onClick"]))}});var ao=ot(oo,[["__file","switch.vue"]]);const so=gt(ao);function io(e){let t;const o=T(!1),l=Ke({...e,originalPosition:"",originalOverflow:"",visible:!1});function r(p){l.text=p}function s(){const p=l.parent,k=m.ns;if(!p.vLoadingAddClassList){let _=p.getAttribute("loading-number");_=Number.parseInt(_)-1,_?p.setAttribute("loading-number",_.toString()):(lt(p,k.bm("parent","relative")),p.removeAttribute("loading-number")),lt(p,k.bm("parent","hidden"))}a(),b.unmount()}function a(){var p,k;(k=(p=m.$el)==null?void 0:p.parentNode)==null||k.removeChild(m.$el)}function i(){var p;e.beforeClose&&!e.beforeClose()||(o.value=!0,clearTimeout(t),t=setTimeout(d,400),l.visible=!1,(p=e.closed)==null||p.call(e))}function d(){if(!o.value)return;const p=l.parent;o.value=!1,p.vLoadingAddClassList=void 0,s()}const u=ue({name:"ElLoading",setup(p,{expose:k}){const{ns:_,zIndex:O}=On("loading");return k({ns:_,zIndex:O}),()=>{const P=l.spinner||l.svg,V=xe("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...P?{innerHTML:P}:{}},[xe("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),g=l.text?xe("p",{class:_.b("text")},[l.text]):void 0;return xe(Fn,{name:_.b("fade"),onAfterLeave:d},{default:C(()=>[be(w("div",{style:{backgroundColor:l.background||""},class:[_.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[xe("div",{class:_.b("spinner")},[V,g])]),[[Re,l.visible]])])})}}}),b=An(u),m=b.mount(document.createElement("div"));return{...nt(l),setText:r,removeElLoadingChild:a,close:i,handleAfterLeave:d,vm:m,get $el(){return m.$el}}}let je;const ro=function(e={}){if(!Wn)return;const t=uo(e);if(t.fullscreen&&je)return je;const o=io({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(je=void 0)}});co(t,t.parent,o),Ot(t,t.parent,o),t.parent.vLoadingAddClassList=()=>Ot(t,t.parent,o);let l=t.parent.getAttribute("loading-number");return l?l=`${Number.parseInt(l)+1}`:l="1",t.parent.setAttribute("loading-number",l),t.parent.appendChild(o.$el),pe(()=>o.visible.value=t.visible),t.fullscreen&&(je=o),o},uo=e=>{var t,o,l,r;let s;return ye(e.target)?s=(t=document.querySelector(e.target))!=null?t:document.body:s=e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&((o=e.fullscreen)!=null?o:!0),lock:(l=e.lock)!=null?l:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,beforeClose:e.beforeClose,closed:e.closed,target:s}},co=async(e,t,o)=>{const{nextZIndex:l}=o.vm.zIndex||o.vm._.exposed.zIndex,r={};if(e.fullscreen)o.originalPosition.value=Me(document.body,"position"),o.originalOverflow.value=Me(document.body,"overflow"),r.zIndex=l();else if(e.parent===document.body){o.originalPosition.value=Me(document.body,"position"),await pe();for(const s of["top","left"]){const a=s==="top"?"scrollTop":"scrollLeft";r[s]=`${e.target.getBoundingClientRect()[s]+document.body[a]+document.documentElement[a]-Number.parseInt(Me(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${e.target.getBoundingClientRect()[s]}px`}else o.originalPosition.value=Me(t,"position");for(const[s,a]of Object.entries(r))o.$el.style[s]=a},Ot=(e,t,o)=>{const l=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?lt(t,l.bm("parent","relative")):Et(t,l.bm("parent","relative")),e.fullscreen&&e.lock?Et(t,l.bm("parent","hidden")):lt(t,l.bm("parent","hidden"))},Je=Symbol("ElLoading"),Ft=(e,t)=>{var o,l,r,s;const a=t.instance,i=p=>Jt(t.value)?t.value[p]:void 0,d=p=>{const k=ye(p)&&(a==null?void 0:a[p])||p;return k&&T(k)},u=p=>d(i(p)||e.getAttribute(`element-loading-${Un(p)}`)),b=(o=i("fullscreen"))!=null?o:t.modifiers.fullscreen,m={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:b,target:(l=i("target"))!=null?l:b?void 0:e,body:(r=i("body"))!=null?r:t.modifiers.body,lock:(s=i("lock"))!=null?s:t.modifiers.lock};e[Je]={options:m,instance:ro(m)}},vo=(e,t)=>{for(const o of Object.keys(t))re(t[o])&&(t[o].value=e[o])},mo={mounted(e,t){t.value&&Ft(e,t)},updated(e,t){const o=e[Je];t.oldValue!==t.value&&(t.value&&!t.oldValue?Ft(e,t):t.value&&t.oldValue?Jt(t.value)&&vo(t.value,o.options):o==null||o.instance.close())},unmounted(e){var t;(t=e[Je])==null||t.instance.close(),e[Je]=null}},[yn,He]=en("dropdown-menu"),fo={overlay:Ze,zIndex:Tt,duration:Yn(.2),direction:Kn("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:Ze,closeOnClickOverlay:Ze,swipeThreshold:Tt},wn=Symbol(yn);var po=ue({name:yn,props:fo,setup(e,{slots:t}){const o=gl(),l=T(),r=T(),s=T(0),{children:a,linkChildren:i}=Dn(wn),d=Xn(l),u=M(()=>a.some(g=>g.state.showWrapper)),b=M(()=>e.swipeThreshold&&a.length>+e.swipeThreshold),m=M(()=>{if(u.value&&jn(e.zIndex))return{zIndex:+e.zIndex+1}}),p=()=>{a.forEach(g=>{g.toggle(!1)})},k=()=>{e.closeOnClickOutside&&p()},_=()=>{if(r.value){const g=nn(r);e.direction==="down"?s.value=g.bottom:s.value=qn.value-g.top}},O=()=>{u.value&&_()},P=g=>{a.forEach(($,R)=>{R===g?$.toggle():$.state.showPopup&&$.toggle(!1,{immediate:!0})})},V=(g,$)=>{const{showPopup:R}=g.state,{disabled:c,titleClass:f}=g;return w("div",{id:`${o}-${$}`,role:"button",tabindex:c?void 0:0,"data-allow-mismatch":"attribute",class:[He("item",{disabled:c,grow:b.value}),{[Qn]:!c}],onClick:()=>{c||P($)}},[w("span",{class:[He("title",{down:R===(e.direction==="down"),active:R}),f],style:{color:R?e.activeColor:""}},[w("div",{class:"van-ellipsis"},[g.renderTitle()])])])};return tn({close:p}),i({id:o,props:e,offset:s,updateOffset:_}),Hn(l,k),Gn("scroll",O,{target:d,passive:!0}),()=>{var g;return w("div",{ref:l,class:He()},[w("div",{ref:r,style:m.value,class:He("bar",{opened:u.value,scrollable:b.value})},[a.map(V)]),(g=t.default)==null?void 0:g.call(t)])}}});const[go,Ge]=en("dropdown-item"),ho={title:String,options:Zn(),disabled:Boolean,teleport:[String,Object],lazyRender:Ze,modelValue:Nt,titleClass:Nt};var bo=ue({name:go,inheritAttrs:!1,props:ho,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:o,attrs:l}){const r=Ke({showPopup:!1,transition:!0,showWrapper:!1}),s=T(),{parent:a,index:i}=Jn(wn);if(!a)return;const d=g=>()=>t(g),u=d("open"),b=d("close"),m=d("opened"),p=()=>{r.showWrapper=!1,t("closed")},k=g=>{e.teleport&&g.stopPropagation()},_=(g=!r.showPopup,$={})=>{g!==r.showPopup&&(r.showPopup=g,r.transition=!$.immediate,g&&(a.updateOffset(),r.showWrapper=!0))},O=()=>{if(o.title)return o.title();if(e.title)return e.title;const g=e.options.find($=>$.value===e.modelValue);return g?g.text:""},P=g=>{const{activeColor:$}=a.props,{disabled:R}=g,c=g.value===e.modelValue,f=()=>{R||(r.showPopup=!1,g.value!==e.modelValue&&(t("update:modelValue",g.value),t("change",g.value)))},F=()=>{if(c)return w(on,{class:Ge("icon"),color:R?void 0:$,name:"success"},null)};return w(wt,{role:"menuitem",key:String(g.value),icon:g.icon,title:g.text,class:Ge("option",{active:c,disabled:R}),style:{color:c?$:""},tabindex:c?0:-1,clickable:!R,onClick:f},{value:F})},V=()=>{const{offset:g}=a,{autoLocate:$,zIndex:R,overlay:c,duration:f,direction:F,closeOnClickOverlay:W}=a.props,Y=tl(R);let q=g.value;if($&&s.value){const X=nl(s.value);X&&(q-=nn(X).top)}return F==="down"?Y.top=`${q}px`:Y.bottom=`${q}px`,be(w("div",ll({ref:s,style:Y,class:Ge([F]),onClick:k},l),[w(ln,{show:r.showPopup,"onUpdate:show":X=>r.showPopup=X,role:"menu",class:Ge("content"),overlay:c,position:F==="down"?"top":"bottom",duration:r.transition?f:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:W,onOpen:u,onClose:b,onOpened:m,onClosed:p},{default:()=>{var X;return[e.options.map(P),(X=o.default)==null?void 0:X.call(o)]}})]),[[Re,r.showWrapper]])};return tn({state:r,toggle:_,renderTitle:O}),()=>e.teleport?w(el,{to:e.teleport},{default:()=>[V()]}):V()}});const yo=an(bo),wo=an(po),_o={key:0},ko={key:0},Vo={key:1},So={style:{"margin-top":"3vh","border-top":"1px solid lightgray","border-bottom":"1px solid lightgray"}},Co={key:1,style:{height:"6vh","text-align":"center","align-content":"center"}},xo={style:{height:"40vh","margin-top":"5vh"}},Io={key:0},Eo={key:1},To={key:0},No={key:1},Mo=["src"],Po={style:{height:"210px",display:"flex","justify-content":"center"}},$o=["src"],Bo={key:1,class:"body"},zo={class:"header"},Lo={key:0},Ro={key:1},Ao={class:"video-show"},Oo=["src"],Fo={key:1,class:"video-placeholder"},Wo={class:"btnCenter"},Uo={style:{height:"30px"}},Ko={key:0},Yo={key:1},Do={class:"video-show"},Xo={style:{height:"1.875rem"}},jo=["src"],Ho={key:1,class:"video-placeholder"},Go="/api",qo={__name:"Sign2Text",setup(e){const t=ol(),o=T(null),l=al(),r=M(()=>l.usedModels&&l.usedModels.length!==0),s=T(""),a=T(""),i=T(!1),d=T(""),u=T(1),b=M(()=>st()),m=T(!1),p=T(!1),k=T(!1),_=T(!1),O=c=>{o.value={id:`video_${new Date().getTime()}${u.value++}`,file:c,isUploaded:!1,type:"file",timeStamp:new Date},s.value=URL.createObjectURL(c)},P=c=>{const f=Date.now(),F=new File([c],`${f}.avi`,{type:"video/x-msvideo"});O(F),_.value=!1},V=()=>{sl("视频").then(()=>{URL.revokeObjectURL(s.value),s.value="",o.value=null})},g=()=>{if(!o.value){Mt("请先选择视频");return}if(!r.value){Mt("未选择模型"),k.value=!0,setTimeout(()=>{k.value=!1},2e3);return}i.value=!0;const c=new FormData;c.append("video",o.value.file),c.append("models",l.usedModels),gn.video.uploadVideo(c).then(f=>{f.code==="200"?(rn("上传成功"),a.value=Go+f.data.url,d.value=f.data.result,console.log(a.value)):(console.log(f.msg),se(f.msg))}).catch(f=>{console.error("上传失败:",o.value.id,f),se("上传失败")}).finally(()=>i.value=!1)},$=c=>{switch(c.target.error.code){case c.target.error.MEDIA_ERR_ABORTED:se("视频加载被中止");break;case c.target.error.MEDIA_ERR_NETWORK:se("网络错误，无法加载视频");break;case c.target.error.MEDIA_ERR_DECODE:se("视频解码错误，可能是格式不支持");break;case c.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:se("视频格式不支持");break;default:se("未知错误")}},R=()=>{a.value&&(p.value=!0)};return(c,f)=>{const F=pl,W=dn,Y=wt,q=sn,X=vn,z=mn,K=pn,Q=ln,v=ht,S=fl,B=fn;return n(b)?(h(),E("div",_o,[w(F,{color:n(r)?"#1989fa":"",background:n(r)?"#ecf9ff":"","left-icon":"info-o",mode:"link",onClick:f[0]||(f[0]=L=>n(t).push("/implents/models")),style:{"margin-top":"1vh"}},{default:C(()=>[n(r)?(h(),E("span",ko,"已选择"+oe(n(l).usedModels.length)+"个模型",1)):(h(),E("span",Vo,"没有选择模型，点击选择"))]),_:1},8,["color","background"]),w(Pt,{onAddVideo:O,onUpload:g}),w(W,{modelValue:n(_),"onUpdate:modelValue":f[1]||(f[1]=L=>re(_)?_.value=L:null),title:"摄像头录制","close-on-click-modal":!1},{default:C(()=>[n(_)?(h(),U($t,{key:0,onRecordComplete:P})):G("",!0)]),_:1},8,["modelValue"]),N("div",So,[n(o)?(h(),U(X,{key:0},{right:C(()=>[w(q,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:V})]),default:C(()=>[w(Y,{icon:"video-o",border:!1,title:n(o).id,onClick:f[2]||(f[2]=L=>m.value=!0)},null,8,["title"])]),_:1})):(h(),E("div",Co," ! 没有选择视频 "))]),N("div",xo,[w(F,{color:n(a)?"#1989fa":"",background:n(a)?"#ecf9ff":"","left-icon":"info-o",mode:n(a)?"link":"",onClick:R,style:{"margin-top":"1vh"}},{default:C(()=>[n(a)?(h(),E("span",Io,"查看转换结果")):(h(),E("span",Eo,[n(i)?(h(),E("span",To,"转换中，请稍后...")):(h(),E("span",No,"无转换"))]))]),_:1},8,["color","background","mode"]),n(a)?(h(),E("video",{key:0,src:n(a),controls:"",style:{width:"100%"},onError:$}," 您的浏览器不支持视频播放 ",40,Mo)):(h(),U(z,{key:1,description:"未转换",style:{height:"33vh"}}))]),w(Q,{show:n(p),"onUpdate:show":f[3]||(f[3]=L=>re(p)?p.value=L:null),position:"bottom",style:{height:"40vh"},closeable:"","close-on-click-overlay":!1},{default:C(()=>[w(K,null,{default:C(()=>f[8]||(f[8]=[N("span",{style:{color:"black","font-size":"large"}},"转化结果",-1)])),_:1}),ne(" "+oe(n(d)),1)]),_:1},8,["show"]),w(Q,{show:n(m),"onUpdate:show":f[4]||(f[4]=L=>re(m)?m.value=L:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1},{default:C(()=>[w(K,null,{default:C(()=>f[9]||(f[9]=[N("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),N("div",Po,[n(s)?(h(),E("video",{key:0,src:n(s),controls:"",style:{height:"100%"},onError:$}," 您的浏览器不支持视频播放 ",40,$o)):G("",!0)]),f[10]||(f[10]=N("div",{style:{width:"100%",padding:"5px"}},null,-1))]),_:1},8,["show"])])):(h(),E("div",Bo,[w(B,{class:"lCard"},{header:C(()=>[N("div",zo,[n(r)?(h(),E("span",Lo,"已选择"+oe(n(l).usedModels.length)+"个模型",1)):(h(),E("span",Ro,"没有选择模型")),w(v,{type:"primary",class:Z(n(k)&&!n(r)?"blink-btn":""),onClick:f[5]||(f[5]=L=>n(t).push("/implents/models/myModels"))},{default:C(()=>[ne(oe(n(r)?"重新选择":"前往选择"),1)]),_:1},8,["class"])])]),default:C(()=>[w(Pt,{onAddVideo:O,onStartRecording:f[6]||(f[6]=L=>_.value=!0),onUpload:g}),w(W,{modelValue:n(_),"onUpdate:modelValue":f[7]||(f[7]=L=>re(_)?_.value=L:null),title:"摄像头录制","close-on-click-modal":!1},{default:C(()=>[n(_)?(h(),U($t,{key:0,onRecordComplete:P})):G("",!0)]),_:1},8,["modelValue"]),N("div",Ao,[n(s)?(h(),E("video",{key:0,src:n(s),controls:"",class:"video-player",onError:$}," 您的浏览器不支持视频播放 ",40,Oo)):(h(),E("div",Fo,[w(S,{description:"没有选择视频"})]))]),N("div",Wo,[n(s)?(h(),U(v,{key:0,type:"danger",onClick:V,style:{margin:"20px auto"}},{default:C(()=>f[11]||(f[11]=[ne("删除")])),_:1})):G("",!0)])]),_:1}),w(B,{class:"rCard"},{header:C(()=>[N("div",Uo,[n(i)?(h(),E("span",Ko,"转换中...")):(h(),E("span",Yo,"转换结果"))])]),default:C(()=>[N("div",Do,[N("div",Xo,oe(n(d)),1),n(a)?(h(),E("video",{key:0,src:n(a),controls:"",class:"video-player",onError:$}," 您的浏览器不支持视频播放 ",40,jo)):(h(),E("div",Ho,[w(S,{description:"暂无结果"})]))])]),_:1})]))}}},Wt=at(qo,[["__scopeId","data-v-38042faf"]]),Qo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1743386914161'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16572'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M881%20660H212c-22.1%200-40-17.9-40-40V276c0-22.1%2017.9-40%2040-40h669c22.1%200%2040%2017.9%2040%2040v344c0%2022-17.9%2040-40%2040zM212%20276v344h669V276H212z'%20fill='%23858585'%20p-id='16573'%3e%3c/path%3e%3cpath%20d='M319.9%20373.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM447.9%20373.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM575.7%20375.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM703.9%20375.3h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.3zM832.2%20375.1h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM832.3%20536.6h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200.1%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM322.2%20537.2h-63.8c-11.1%200-20.1-9-20.1-20.1%200-11.1%209-20.1%2020.1-20.1h63.8c11.1%200%2020.1%209%2020.1%2020.1%200%2011.1-9%2020.1-20.1%2020.1z%20m0-0.2zM381.5%20538.2c-11%200-20-8.9-20-19.9%200-11%208.9-20%2019.9-20.1l326.4-0.9h0.1c11%200%2020%208.9%2020%2019.9%200%2011-8.9%2020-19.9%2020.1l-326.5%200.9z'%20fill='%23858585'%20p-id='16574'%3e%3c/path%3e%3c/svg%3e",Zo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1743386813757'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='12559'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M810.666667%20405.333333a21.333333%2021.333333%200%200%201%2020.992%2017.493334l0.341333%203.84v96c0%20164.096-132.053333%20298.069333-298.666667%20308.650666V938.666667h128a21.333333%2021.333333%200%200%201%203.84%2042.325333L661.333333%20981.333333h-298.666666a21.333333%2021.333333%200%200%201-3.84-42.325333L362.666667%20938.666667h128v-107.349334c-163.2-10.410667-293.12-139.093333-298.496-298.410666l-0.170667-10.24V426.666667a21.333333%2021.333333%200%200%201%2042.325333-3.84L234.666667%20426.666667v96c0%20146.986667%20123.776%20266.453333%20276.949333%20266.666666h0.682667l9.898666-0.170666c145.28-5.034667%20261.845333-117.504%20266.965334-256.938667l0.170666-9.557333V426.666667a21.333333%2021.333333%200%200%201%2021.333334-21.333334zM512%2042.666667a170.666667%20170.666667%200%200%201%20170.666667%20170.666666v282.538667a170.666667%20170.666667%200%201%201-341.333334%200V213.333333a170.666667%20170.666667%200%200%201%20170.666667-170.666666z%20m0%2042.666666a128%20128%200%200%200-128%20128v282.538667a128%20128%200%201%200%20256%200V213.333333a128%20128%200%200%200-128-128z'%20fill='%23888888'%20p-id='12560'%3e%3c/path%3e%3c/svg%3e";function _t(e){return il()?(rl(e),!0):!1}const ut=new WeakMap,Jo=(...e)=>{var t;const o=e[0],l=(t=bt())==null?void 0:t.proxy;if(l==null&&!un())throw new Error("injectLocal must be called in setup");return l&&ut.has(l)&&o in ut.get(l)?ut.get(l)[o]:qt(...e)},ea=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ta=e=>e!=null,na=Object.prototype.toString,la=e=>na.call(e)==="[object Object]";function Ut(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function et(e){return Array.isArray(e)?e:[e]}function oa(e){return bt()}function _n(e,t=!0,o){oa()?Se(e,o):t?e():pe(e)}function aa(e,t,o){return ae(e,t,{...o,immediate:!0})}const Ye=ea?window:void 0;function Te(e){var t;const o=we(e);return(t=o==null?void 0:o.$el)!=null?t:o}function Fe(...e){const t=[],o=()=>{t.forEach(i=>i()),t.length=0},l=(i,d,u,b)=>(i.addEventListener(d,u,b),()=>i.removeEventListener(d,u,b)),r=M(()=>{const i=et(we(e[0])).filter(d=>d!=null);return i.every(d=>typeof d!="string")?i:void 0}),s=aa(()=>{var i,d;return[(d=(i=r.value)==null?void 0:i.map(u=>Te(u)))!=null?d:[Ye].filter(u=>u!=null),et(we(r.value?e[1]:e[0])),et(n(r.value?e[2]:e[1])),we(r.value?e[3]:e[2])]},([i,d,u,b])=>{if(o(),!(i!=null&&i.length)||!(d!=null&&d.length)||!(u!=null&&u.length))return;const m=la(b)?{...b}:b;t.push(...i.flatMap(p=>d.flatMap(k=>u.map(_=>l(p,k,_,m)))))},{flush:"post"}),a=()=>{s(),o()};return _t(o),a}function sa(){const e=te(!1),t=bt();return t&&Se(()=>{e.value=!0},t),e}function kt(e){const t=sa();return M(()=>(t.value,!!e()))}function ia(e,t,o={}){const{window:l=Ye,...r}=o;let s;const a=kt(()=>l&&"MutationObserver"in l),i=()=>{s&&(s.disconnect(),s=void 0)},d=M(()=>{const p=we(e),k=et(p).map(Te).filter(ta);return new Set(k)}),u=ae(()=>d.value,p=>{i(),a.value&&p.size&&(s=new MutationObserver(t),p.forEach(k=>s.observe(k,r)))},{immediate:!0,flush:"post"}),b=()=>s==null?void 0:s.takeRecords(),m=()=>{u(),i()};return _t(m),{isSupported:a,stop:m,takeRecords:b}}const ra=Symbol("vueuse-ssr-width");function ua(){const e=un()?Jo(ra,null):null;return typeof e=="number"?e:void 0}function ca(e,t={}){const{window:o=Ye,ssrWidth:l=ua()}=t,r=kt(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function"),s=te(typeof l=="number"),a=te(),i=te(!1),d=u=>{i.value=u.matches};return yt(()=>{if(s.value){s.value=!r.value;const u=we(e).split(",");i.value=u.some(b=>{const m=b.includes("not all"),p=b.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),k=b.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let _=!!(p||k);return p&&_&&(_=l>=Ut(p[1])),k&&_&&(_=l<=Ut(k[1])),m?!_:_});return}r.value&&(a.value=o.matchMedia(we(e)),i.value=a.value.matches)}),Fe(a,"change",d,{passive:!0}),M(()=>i.value)}function da(e,t,o={}){const{window:l=Ye,...r}=o;let s;const a=kt(()=>l&&"ResizeObserver"in l),i=()=>{s&&(s.disconnect(),s=void 0)},d=M(()=>{const m=we(e);return Array.isArray(m)?m.map(p=>Te(p)):[Te(m)]}),u=ae(d,m=>{if(i(),a.value&&l){s=new ResizeObserver(t);for(const p of m)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),b=()=>{i(),u()};return _t(b),{isSupported:a,stop:b}}function va(e,t={}){const{reset:o=!0,windowResize:l=!0,windowScroll:r=!0,immediate:s=!0,updateTiming:a="sync"}=t,i=te(0),d=te(0),u=te(0),b=te(0),m=te(0),p=te(0),k=te(0),_=te(0);function O(){const V=Te(e);if(!V){o&&(i.value=0,d.value=0,u.value=0,b.value=0,m.value=0,p.value=0,k.value=0,_.value=0);return}const g=V.getBoundingClientRect();i.value=g.height,d.value=g.bottom,u.value=g.left,b.value=g.right,m.value=g.top,p.value=g.width,k.value=g.x,_.value=g.y}function P(){a==="sync"?O():a==="next-frame"&&requestAnimationFrame(()=>O())}return da(e,P),ae(()=>Te(e),V=>!V&&P()),ia(e,P,{attributeFilter:["style","class"]}),r&&Fe("scroll",P,{capture:!0,passive:!0}),l&&Fe("resize",P,{passive:!0}),_n(()=>{s&&P()}),{height:i,bottom:d,left:u,right:b,top:m,width:p,x:k,y:_,update:P}}function ma(e={}){const{window:t=Ye,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:l=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:s=!0,type:a="inner"}=e,i=te(o),d=te(l),u=()=>{if(t)if(a==="outer")i.value=t.outerWidth,d.value=t.outerHeight;else if(a==="visual"&&t.visualViewport){const{width:m,height:p,scale:k}=t.visualViewport;i.value=Math.round(m*k),d.value=Math.round(p*k)}else s?(i.value=t.innerWidth,d.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,d.value=t.document.documentElement.clientHeight)};u(),_n(u);const b={passive:!0};if(Fe("resize",u,b),t&&a==="visual"&&t.visualViewport&&Fe(t.visualViewport,"resize",u,b),r){const m=ca("(orientation: portrait)");ae(m,()=>u())}return{width:i,height:d}}const fa={key:0,class:"mobile-audio-recorder"},pa={key:0,class:"recording-overlay"},ga={ref:"crossBtn"},ha={class:"tipText"},ba={style:{"text-align":"center"}},ya={class:"recording-time"},wa={key:1,class:"audioRecorder"},_a={key:2,class:"recording-time"},ka={__name:"AudioRecorder",props:{isAudio2Text:{type:Boolean,default:!1}},emits:["record-complete"],setup(e,{emit:t}){const o=T(!1),l=T(0),r=T(null),s=T(null),a=T([]),i=T(!1),d=T(!1);let u=null;const b=t,m=M(()=>st()),p=T(!1),k=e;Se(()=>_()),ul(()=>O());const _=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(W=>{s.value=new MediaRecorder(W),s.value.ondataavailable=Y=>a.value.push(Y.data),s.value.onstop=()=>{u=new Blob(a.value,{type:"audio/wav"})},d.value=!0}).catch(W=>{W.name==="NotAllowedError"?(console.error("用户拒绝了权限请求"),se("用户拒绝了权限请求")):W.name==="NotFoundError"?(console.error("未找到麦克风"),se("未找到麦克风")):(console.error("无法访问麦克风:",W.message),se("无法访问麦克风:",W.message))})},O=()=>{var W;(W=s.value)!=null&&W.stream&&s.value.stream.getTracks().forEach(Y=>Y.stop())},P=()=>{d.value||_(),!(m.value&&k.isAudio2Text)&&(s.value.start(),o.value=!0,i.value=!1,p.value=!1,l.value=0,r.value=setInterval(()=>l.value++,1e3))},V=()=>{s.value&&(s.value.stop(),clearInterval(r.value),o.value=!1,i.value=!0)},g=()=>{o.value?V():P()},$=()=>{a.value=[],u=null,l.value=0,i.value=!1},R=()=>{l.value<1?se("说话时间太短"):b("record-complete",u),$()},c=()=>{o.value&&(V(),$())},f=()=>{V(),R()},F=W=>{const Y=Math.floor(W/60),q=W%60;return`${Y}:${q.toString().padStart(2,"0")}`};return(W,Y)=>{const q=Ae("Microphone"),X=de,z=on,K=ht,Q=Ae("Mute"),v=Qt;return n(m)?(h(),E("div",fa,[N("div",{onClick:P,class:"recorderBtn"},[N("span",null,[n(o)?G("",!0):(h(),U(X,{key:0},{default:C(()=>[w(q)]),_:1})),ne(" "+oe(k.isAudio2Text?"识别中...":n(o)?"录音中":"点击说话"),1)])]),n(o)?(h(),E("div",pa,[N("div",ga,[w(K,{type:"danger",size:"large",class:"crossBtn",onClick:c},{default:C(()=>[w(z,{name:"cross"})]),_:1})],512),N("div",{class:"bottomTip",onClick:f},[N("div",ha,[N("div",ba,[w(X,{class:"blinking"},{default:C(()=>[w(q)]),_:1}),N("span",ya,oe(F(n(l))),1)]),N("div",null,oe(n(p)?"松开取消识别":"正在录音，点击此处识别"),1)])])])):G("",!0)])):(h(),E("div",wa,[w(v,{content:n(o)?"点击停止":"点击开始"},{default:C(()=>[N("span",{onClick:g},[n(o)?(h(),U(X,{key:0,size:30,class:"microphone blinking"},{default:C(()=>[w(q)]),_:1})):(h(),U(X,{key:1,size:30,class:"microphone"},{default:C(()=>[w(Q)]),_:1})),n(o)?(h(),E("span",_a,oe(F(n(l))),1)):G("",!0)])]),_:1},8,["content"]),N("span",null,[w(K,{type:"primary",onClick:R,disabled:!n(i)},{default:C(()=>Y[0]||(Y[0]=[ne("识别")])),_:1},8,["disabled"]),w(K,{type:"danger",onClick:$,disabled:!n(i)},{default:C(()=>Y[1]||(Y[1]=[ne("清除")])),_:1},8,["disabled"])])]))}}},Kt=at(ka,[["__scopeId","data-v-4d6cea56"]]),Va={key:0},Sa={key:0,class:"history"},Ca={key:1,style:{"overflow-y":"auto",height:"30vh"}},xa={class:"inputDiv"},Ia={src:Qo,alt:"",style:{width:"10vw","padding-top":"1vw"}},Ea={src:Zo,alt:"",style:{width:"8vw",height:"8vw"}},Ta={key:0},Na={key:1,class:"elInput"},Ma={key:1,class:"body"},Pa={class:"center"},$a={class:"btn"},Ba={class:"header"},za={class:"dialog-footer"},Yt=427.5,La=332.5,Ra=5,Aa={__name:"Text2Sign",setup(e){const t=T(""),o=T(1.5),l=cl("rCard"),{width:r,height:s}=ma(),a=T(!0),i=T(!1),d=cn(),u=d.yiyu,b=T(25),m=T(!0),p=T(!0),k=T(25),_=T(!1),O=T(!1),P=M(()=>st()),V=T([]),g=T(!1),$=T(!1),R=T(!1),c=T(!1),f=()=>{g.value=!g.value},F=I=>{setTimeout(()=>{$.value=!1},50)},W=()=>{c.value=!1,u.modifyPlaySpeed(o.value),m.value?u.enableTextSelection():u.disableTextSelection(),rn("设置成功")},Y=()=>{b.value=25,m.value=!0,p.value=!0},q=I=>(o.value=(1+I/50).toFixed(1),o.value),X=()=>{t.value=""},z=()=>{R.value&&u.cancelTranslation(),u.startTranslate(t.value)},K=()=>{z(),V.value.push(t.value)},Q=I=>{t.value=V.value[I],z()},v=I=>{V.value.splice(I,1)},S=()=>{const{width:I,height:y,left:D,top:j}=va(l),x=D.value+I.value/2,H=j.value+y.value/2;return{centerX:x,centerY:H}},B=()=>{const{centerX:I,centerY:y}=S();let D;P.value?D=y-Yt*3/4:D=y-Yt/2,u.setPosition(`${D}px`,`${I-La/2-Ra}px`)},L=I=>{i.value=!0;const y=new File([I],"audio.wav",{type:"audio/wav"}),D=new FormData;D.append("audio",y),gn.audio.toText(D).then(j=>{j.code==="200"&&j.data!=="No speech could be recognized."?(t.value=j.data,V.value.push(t.value)):se("识别失败")}).catch(j=>{console.log(j.message),se("识别失败")}).finally(()=>{i.value=!1})};return yt(async()=>{if(d.isSuccess){if(a.value=!1,await pe(),B(),u.enableYiyuApp(),P.value){u.setAvatarSize(5);const I=document.querySelector(".yiyuAppElement");I&&(I.style.pointerEvents="none",I.style.position="absolute",I.style.zIndex=1e3)}m.value||u.disableTextSelection()}}),Se(()=>{let I=0;P.value?I=5:I=1,u.setAvatarSize(I)}),dl(()=>{d.isSuccess&&u.setAvatarSize(3)}),ae([r,s],()=>{B()}),(I,y)=>{const D=vl,j=pn,x=mn,H=wt,ie=sn,ce=vn,A=Ht,me=ht,_e=Ae("Delete"),Ce=de,fe=Ae("Switch"),ge=fn,Vt=Ae("Setting"),kn=eo,St=so,Vn=dn,Sn=mo;return n(P)?(h(),E("div",Va,[N("div",{style:{height:"260px"},ref_key:"rCard",ref:l,onClick:y[0]||(y[0]=()=>{})},[be(w(D,{size:"24px",vertical:"",style:{"padding-top":"10vh"}},{default:C(()=>y[9]||(y[9]=[ne("数字人加载中...")])),_:1},512),[[Re,n(a)]])],512),n($)?G("",!0):(h(),E("div",Sa,[w(j,{style:{margin:"1px"}},{default:C(()=>y[10]||(y[10]=[N("span",{style:{color:"black"}},"历史记录",-1)])),_:1}),n(V).length===0?(h(),U(x,{key:0,style:{padding:"0"}})):(h(),E("div",Ca,[(h(!0),E($e,null,qe(n(V),(ee,Ct)=>(h(),U(ce,{key:Ct,style:{"border-bottom":"1px solid lightgray"}},{right:C(()=>[w(ie,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:v})]),default:C(()=>[w(H,{border:!1,icon:"comment-o",title:ee,value:"翻译",onClick:Ka=>Q(Ct)},null,8,["title","onClick"])]),_:2},1024))),128))]))])),N("div",xa,[N("div",{class:"inputImg",onClick:f},[be(N("img",Ia,null,512),[[Re,n(g)]]),be(N("img",Ea,null,512),[[Re,!n(g)]])]),n(g)?(h(),E("div",Ta,[w(Kt,{onRecordComplete:L,isAudio2Text:n(i)},null,8,["isAudio2Text"])])):(h(),E("div",Na,[w(A,{modelValue:n(t),"onUpdate:modelValue":y[1]||(y[1]=ee=>re(t)?t.value=ee:null),rows:1,type:"textarea",placeholder:"请输入文本",autosize:{minRows:1,maxRows:1},style:{width:"65vw"},onFocus:y[2]||(y[2]=ee=>$.value=!0),onBlur:F},null,8,["modelValue"]),w(me,{type:"success",style:{width:"11vw",height:"30px",margin:"auto 0"},onClick:K,disabled:n(t)===""},{default:C(()=>y[11]||(y[11]=[ne(" 确定 ")])),_:1},8,["disabled"])]))])])):(h(),E("div",Ma,[w(ge,{class:"lCard"},{header:C(()=>y[12]||(y[12]=[ne(" 目标文本 ")])),default:C(()=>[w(Kt,{onRecordComplete:L}),N("div",Pa,[w(A,{modelValue:n(t),"onUpdate:modelValue":y[3]||(y[3]=ee=>re(t)?t.value=ee:null),placeholder:"输入文本......","show-word-limit":"",type:"textarea",maxlength:"450",resize:"none"},null,8,["modelValue"]),N("div",$a,[w(me,{type:"danger",onClick:X},{default:C(()=>[w(Ce,null,{default:C(()=>[w(_e)]),_:1}),y[13]||(y[13]=ne(" 清空 "))]),_:1}),w(me,{type:"primary",disabled:!n(t)||!n(d).isSuccess,onClick:z},{default:C(()=>[w(Ce,null,{default:C(()=>[w(fe)]),_:1}),y[14]||(y[14]=ne(" 转化 "))]),_:1},8,["disabled"])])])]),_:1}),be((h(),U(ge,{class:"rCard",ref_key:"rCard",ref:l,"element-loading-text":"正在加载手语数字人..."},{header:C(()=>[N("div",Ba,[y[16]||(y[16]=N("span",null,"手语数字人",-1)),w(me,{round:"",onClick:y[4]||(y[4]=ee=>c.value=!0),disabled:!n(d).isSuccess},{default:C(()=>[w(Ce,null,{default:C(()=>[w(Vt)]),_:1}),y[15]||(y[15]=ne(" 设置"))]),_:1},8,["disabled"])])]),_:1})),[[Sn,n(a)]]),w(Vn,{modelValue:n(c),"onUpdate:modelValue":y[8]||(y[8]=ee=>re(c)?c.value=ee:null),title:"设置",width:"30%",draggable:"","close-on-click-modal":!1},{footer:C(()=>[N("span",za,[w(me,{onClick:Y},{default:C(()=>y[19]||(y[19]=[ne("重置")])),_:1}),w(me,{type:"primary",onClick:W},{default:C(()=>y[20]||(y[20]=[ne("保存")])),_:1})])]),default:C(()=>[N("ul",null,[N("li",null,[N("span",null,"手语翻译速度 x"+oe(n(o)),1),w(kn,{modelValue:n(k),"onUpdate:modelValue":y[5]||(y[5]=ee=>re(k)?k.value=ee:null),"format-tooltip":q,size:"small",class:"slider"},null,8,["modelValue"])]),N("li",null,[y[17]||(y[17]=N("span",null," 划词翻译 ",-1)),w(St,{modelValue:n(_),"onUpdate:modelValue":y[6]||(y[6]=ee=>re(_)?_.value=ee:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),N("li",null,[y[18]||(y[18]=N("span",null," 跟随翻译 ",-1)),w(St,{modelValue:n(O),"onUpdate:modelValue":y[7]||(y[7]=ee=>re(O)?O.value=ee:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])])])]),_:1},8,["modelValue"])]))}}},Dt=at(Aa,[["__scopeId","data-v-ab051b51"]]),Oa={key:0},Fa={style:{"margin-top":"2vh"}},Wa={key:1},Ua={__name:"Interpretation",setup(e){const t=ml(),o=M(()=>st()),l=T(0),r=[{text:"手语→文本",value:0},{text:"文本→手语",value:1}],s=cn();ae(l,()=>{o.value&&s.isSuccess&&s.clearYiyu()});const a=T("");return yt(()=>{a.value=t.params.id}),(i,d)=>{const u=yo,b=wo;return n(o)?(h(),E("div",Oa,[w(b,{class:"menu"},{default:C(()=>[w(u,{modelValue:n(l),"onUpdate:modelValue":d[0]||(d[0]=m=>re(l)?l.value=m:null),options:r},null,8,["modelValue"])]),_:1}),N("div",Fa,[n(l)===0?(h(),U(Wt,{key:0})):(h(),U(Dt,{key:1}))])])):(h(),E("div",Wa,[n(a)==="1"?(h(),U(Wt,{key:0})):(h(),U(Dt,{key:1}))]))}}},Za=at(Ua,[["__scopeId","data-v-fe115980"]]);export{Za as default};
