import{R as ke,aO as en,W as pe,d as z,bD as Fn,Y as ue,y as I,a9 as we,h as R,o as _,a3 as oe,k as a,a4 as D,$ as st,T as Re,a7 as Ye,aI as Be,i as w,ak as j,p as k,am as wt,x as fe,ao as ne,aq as Xe,ar as Ve,bE as jn,aR as Wn,bF as Hn,bG as qn,af as tn,a as E,an as de,bH as Kn,bI as Yn,bJ as Xn,bK as nn,bL as $t,a5 as Zn,P as gt,al as X,bM as on,aZ as Ct,Z as G,aa as Ze,a0 as ze,b as o,v as L,aU as ln,a8 as St,ac as ht,ad as re,bN as Gn,bO as Jn,ab as Qn,bP as eo,aH as an,aA as Se,bQ as to,b1 as Ot,b0 as sn,bR as At,bl as no,aL as Ae,aM as Ue,bS as _t,bT as rn,bU as cn,bV as oo,bW as lo,bX as ao,bY as Tt,bZ as un,e as he,m as He,n as be,c as ge,b_ as dn,b$ as vn,g as fn,c0 as so,c1 as it,c2 as qe,c3 as Ie,c4 as De,c5 as We,w as $e,t as _e,c6 as pn,u as xt,as as Ge,c7 as io,c8 as Et,c9 as mn,ca as Fe,au as ro,cb as dt,bf as vt,bh as Ke,cc as yt,cd as co,ce as uo,cf as Ut,cg as vo,ch as fo,ci as po,f as Pt,aQ as bn,cj as mo,ax as gn,bi as ot,ck as bo,be as go,cl as ho,cm as _o,cn as yo,co as ko,bg as ft,cp as wo,_ as Me,j as Ne,r as lt,F as Te,bn as xe,B as It,b9 as ce,bm as Je,s as rt,b8 as je,bj as ct,E as Rt,bs as at,S as Le,C as te,br as kt,aK as $o,A as Co,q as So,cq as Dt}from"./index-CC-TFbUu.js";import{S as hn,D as Qe,E as _n,b as Bt,c as Vt,a as To}from"./index-DRKasGvA.js";import{N as xo}from"./index-t-5K6UVQ.js";import{N as yn,C as Lt,a as zt,f as Oe}from"./files_service-vh9zxyRn.js";import{T as Eo,L as kn,m as Po}from"./models_service-Lyw-dfox.js";import{u as wn,a as $n,C as Io,F as Ro}from"./index-B1ru6hXT.js";import"./el-tooltip-l0sNRNKZ.js";import"https://avatar.gbqr.net/yiyu.js";const Cn=Symbol("breadcrumbKey"),Bo=ke({separator:{type:String,default:"/"},separatorIcon:{type:en}}),Vo=z({name:"ElBreadcrumb"}),Mo=z({...Vo,props:Bo,setup(e){const n=e,{t:s}=Fn(),l=ue("breadcrumb"),i=I();return st(Cn,n),we(()=>{const t=i.value.querySelectorAll(`.${l.e("item")}`);t.length&&t[t.length-1].setAttribute("aria-current","page")}),(t,c)=>(_(),R("div",{ref_key:"breadcrumb",ref:i,class:D(a(l).b()),"aria-label":a(s)("el.breadcrumb.label"),role:"navigation"},[oe(t.$slots,"default")],10,["aria-label"]))}});var No=pe(Mo,[["__file","breadcrumb.vue"]]);const Oo=ke({to:{type:Re([String,Object]),default:""},replace:Boolean}),Ao=z({name:"ElBreadcrumbItem"}),Uo=z({...Ao,props:Oo,setup(e){const n=e,s=Be(),l=Ye(Cn,void 0),i=ue("breadcrumb"),t=s.appContext.config.globalProperties.$router,c=I(),d=()=>{!n.to||!t||(n.replace?t.replace(n.to):t.push(n.to))};return(h,p)=>{var m,v;return _(),R("span",{class:D(a(i).e("item"))},[w("span",{ref_key:"link",ref:c,class:D([a(i).e("inner"),a(i).is("link",!!h.to)]),role:"link",onClick:d},[oe(h.$slots,"default")],2),(m=a(l))!=null&&m.separatorIcon?(_(),j(a(fe),{key:0,class:D(a(i).e("separator"))},{default:k(()=>[(_(),j(wt(a(l).separatorIcon)))]),_:1},8,["class"])):(_(),R("span",{key:1,class:D(a(i).e("separator")),role:"presentation"},ne((v=a(l))==null?void 0:v.separator),3))],2)}}});var Sn=pe(Uo,[["__file","breadcrumb-item.vue"]]);const Do=Xe(No,{BreadcrumbItem:Sn}),Lo=Ve(Sn),zo=(e,n,s)=>Wn(e.subTree).filter(t=>{var c;return Hn(t)&&((c=t.type)==null?void 0:c.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>s[t]).filter(t=>!!t),Tn=(e,n)=>{const s={},l=jn([]);return{children:l,addChild:c=>{s[c.uid]=c,l.value=zo(e,n,s)},removeChild:c=>{delete s[c],l.value=l.value.filter(d=>d.uid!==c)}}},Ee=e=>qn(e),Fo=z({name:"ElContainer"}),jo=z({...Fo,props:{direction:{type:String}},setup(e){const n=e,s=tn(),l=ue("container"),i=E(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:s&&s.default?s.default().some(c=>{const d=c.type.name;return d==="ElHeader"||d==="ElFooter"}):!1);return(t,c)=>(_(),R("section",{class:D([a(l).b(),a(l).is("vertical",a(i))])},[oe(t.$slots,"default")],2))}});var Wo=pe(jo,[["__file","container.vue"]]);const Ho=z({name:"ElAside"}),qo=z({...Ho,props:{width:{type:String,default:null}},setup(e){const n=e,s=ue("aside"),l=E(()=>n.width?s.cssVarBlock({width:n.width}):{});return(i,t)=>(_(),R("aside",{class:D(a(s).b()),style:de(a(l))},[oe(i.$slots,"default")],6))}});var xn=pe(qo,[["__file","aside.vue"]]);const Ko=z({name:"ElFooter"}),Yo=z({...Ko,props:{height:{type:String,default:null}},setup(e){const n=e,s=ue("footer"),l=E(()=>n.height?s.cssVarBlock({height:n.height}):{});return(i,t)=>(_(),R("footer",{class:D(a(s).b()),style:de(a(l))},[oe(i.$slots,"default")],6))}});var En=pe(Yo,[["__file","footer.vue"]]);const Xo=z({name:"ElHeader"}),Zo=z({...Xo,props:{height:{type:String,default:null}},setup(e){const n=e,s=ue("header"),l=E(()=>n.height?s.cssVarBlock({height:n.height}):{});return(i,t)=>(_(),R("header",{class:D(a(s).b()),style:de(a(l))},[oe(i.$slots,"default")],6))}});var Pn=pe(Zo,[["__file","header.vue"]]);const Go=z({name:"ElMain"}),Jo=z({...Go,setup(e){const n=ue("main");return(s,l)=>(_(),R("main",{class:D(a(n).b())},[oe(s.$slots,"default")],2))}});var In=pe(Jo,[["__file","main.vue"]]);const Qo=Xe(Wo,{Aside:xn,Footer:En,Header:Pn,Main:In}),el=Ve(xn);Ve(En);Ve(Pn);const tl=Ve(In),nl=ke({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Re(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Re([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Re(Function),default:e=>`${e}%`}}),ol=z({name:"ElProgress"}),ll=z({...ol,props:nl,setup(e){const n=e,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=ue("progress"),i=E(()=>{const r={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},b=V(n.percentage);return b.includes("gradient")?r.background=b:r.backgroundColor=b,r}),t=E(()=>(n.strokeWidth/n.width*100).toFixed(1)),c=E(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(t.value)/2}`,10):0),d=E(()=>{const r=c.value,b=n.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${r}
          a ${r} ${r} 0 1 1 0 ${b?"-":""}${r*2}
          a ${r} ${r} 0 1 1 0 ${b?"":"-"}${r*2}
          `}),h=E(()=>2*Math.PI*c.value),p=E(()=>n.type==="dashboard"?.75:1),m=E(()=>`${-1*h.value*(1-p.value)/2}px`),v=E(()=>({strokeDasharray:`${h.value*p.value}px, ${h.value}px`,strokeDashoffset:m.value})),g=E(()=>({strokeDasharray:`${h.value*p.value*(n.percentage/100)}px, ${h.value}px`,strokeDashoffset:m.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),y=E(()=>{let r;return n.color?r=V(n.percentage):r=s[n.status]||s.default,r}),u=E(()=>n.status==="warning"?Kn:n.type==="line"?n.status==="success"?Yn:Xn:n.status==="success"?nn:$t),f=E(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),$=E(()=>n.format(n.percentage));function B(r){const b=100/r.length;return r.map((C,F)=>gt(C)?{color:C,percentage:(F+1)*b}:C).sort((C,F)=>C.percentage-F.percentage)}const V=r=>{var b;const{color:S}=n;if(Zn(S))return S(r);if(gt(S))return S;{const C=B(S);for(const F of C)if(F.percentage>r)return F.color;return(b=C[C.length-1])==null?void 0:b.color}};return(r,b)=>(_(),R("div",{class:D([a(l).b(),a(l).m(r.type),a(l).is(r.status),{[a(l).m("without-text")]:!r.showText,[a(l).m("text-inside")]:r.textInside}]),role:"progressbar","aria-valuenow":r.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[r.type==="line"?(_(),R("div",{key:0,class:D(a(l).b("bar"))},[w("div",{class:D(a(l).be("bar","outer")),style:de({height:`${r.strokeWidth}px`})},[w("div",{class:D([a(l).be("bar","inner"),{[a(l).bem("bar","inner","indeterminate")]:r.indeterminate},{[a(l).bem("bar","inner","striped")]:r.striped},{[a(l).bem("bar","inner","striped-flow")]:r.stripedFlow}]),style:de(a(i))},[(r.showText||r.$slots.default)&&r.textInside?(_(),R("div",{key:0,class:D(a(l).be("bar","innerText"))},[oe(r.$slots,"default",{percentage:r.percentage},()=>[w("span",null,ne(a($)),1)])],2)):X("v-if",!0)],6)],6)],2)):(_(),R("div",{key:1,class:D(a(l).b("circle")),style:de({height:`${r.width}px`,width:`${r.width}px`})},[(_(),R("svg",{viewBox:"0 0 100 100"},[w("path",{class:D(a(l).be("circle","track")),d:a(d),stroke:`var(${a(l).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":r.strokeLinecap,"stroke-width":a(t),fill:"none",style:de(a(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),w("path",{class:D(a(l).be("circle","path")),d:a(d),stroke:a(y),fill:"none",opacity:r.percentage?1:0,"stroke-linecap":r.strokeLinecap,"stroke-width":a(t),style:de(a(g))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(r.showText||r.$slots.default)&&!r.textInside?(_(),R("div",{key:2,class:D(a(l).e("text")),style:de({fontSize:`${a(f)}px`})},[oe(r.$slots,"default",{percentage:r.percentage},()=>[r.status?(_(),j(a(fe),{key:1},{default:k(()=>[(_(),j(wt(a(u))))]),_:1})):(_(),R("span",{key:0},ne(a($)),1))])],6)):X("v-if",!0)],10,["aria-valuenow"]))}});var al=pe(ll,[["__file","progress.vue"]]);const sl=Xe(al),il=ke({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),rl={[on]:(e,n)=>[e,n].every(Ct)},cl=z({name:"ElSteps"}),ul=z({...cl,props:il,emits:rl,setup(e,{emit:n}){const s=e,l=ue("steps"),{children:i,addChild:t,removeChild:c}=Tn(Be(),"ElStep");return G(i,()=>{i.value.forEach((d,h)=>{d.setIndex(h)})}),st("ElSteps",{props:s,steps:i,addStep:t,removeStep:c}),G(()=>s.active,(d,h)=>{n(on,d,h)}),(d,h)=>(_(),R("div",{class:D([a(l).b(),a(l).m(d.simple?"simple":d.direction)])},[oe(d.$slots,"default")],2))}});var dl=pe(ul,[["__file","steps.vue"]]);const vl=ke({title:{type:String,default:""},icon:{type:en},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),fl=z({name:"ElStep"}),pl=z({...fl,props:vl,setup(e){const n=e,s=ue("step"),l=I(-1),i=I({}),t=I(""),c=Ye("ElSteps"),d=Be();we(()=>{G([()=>c.props.active,()=>c.props.processStatus,()=>c.props.finishStatus],([C])=>{b(C)},{immediate:!0})}),Ze(()=>{c.removeStep(S.uid)});const h=E(()=>n.status||t.value),p=E(()=>{const C=c.steps.value[l.value-1];return C?C.currentStatus:"wait"}),m=E(()=>c.props.alignCenter),v=E(()=>c.props.direction==="vertical"),g=E(()=>c.props.simple),y=E(()=>c.steps.value.length),u=E(()=>{var C;return((C=c.steps.value[y.value-1])==null?void 0:C.uid)===(d==null?void 0:d.uid)}),f=E(()=>g.value?"":c.props.space),$=E(()=>[s.b(),s.is(g.value?"simple":c.props.direction),s.is("flex",u.value&&!f.value&&!m.value),s.is("center",m.value&&!v.value&&!g.value)]),B=E(()=>{const C={flexBasis:Ct(f.value)?`${f.value}px`:f.value?f.value:`${100/(y.value-(m.value?0:1))}%`};return v.value||u.value&&(C.maxWidth=`${100/y.value}%`),C}),V=C=>{l.value=C},r=C=>{const F=C==="wait",T={transitionDelay:`${F?"-":""}${150*l.value}ms`},O=C===c.props.processStatus||F?0:100;T.borderWidth=O&&!g.value?"1px":0,T[c.props.direction==="vertical"?"height":"width"]=`${O}%`,i.value=T},b=C=>{C>l.value?t.value=c.props.finishStatus:C===l.value&&p.value!=="error"?t.value=c.props.processStatus:t.value="wait";const F=c.steps.value[l.value-1];F&&F.calcProgress(t.value)},S=ze({uid:d.uid,currentStatus:h,setIndex:V,calcProgress:r});return c.addStep(S),(C,F)=>(_(),R("div",{style:de(a(B)),class:D(a($))},[X(" icon & line "),w("div",{class:D([a(s).e("head"),a(s).is(a(h))])},[a(g)?X("v-if",!0):(_(),R("div",{key:0,class:D(a(s).e("line"))},[w("i",{class:D(a(s).e("line-inner")),style:de(i.value)},null,6)],2)),w("div",{class:D([a(s).e("icon"),a(s).is(C.icon||C.$slots.icon?"icon":"text")])},[oe(C.$slots,"icon",{},()=>[C.icon?(_(),j(a(fe),{key:0,class:D(a(s).e("icon-inner"))},{default:k(()=>[(_(),j(wt(C.icon)))]),_:1},8,["class"])):a(h)==="success"?(_(),j(a(fe),{key:1,class:D([a(s).e("icon-inner"),a(s).is("status")])},{default:k(()=>[o(a(nn))]),_:1},8,["class"])):a(h)==="error"?(_(),j(a(fe),{key:2,class:D([a(s).e("icon-inner"),a(s).is("status")])},{default:k(()=>[o(a($t))]),_:1},8,["class"])):a(g)?X("v-if",!0):(_(),R("div",{key:3,class:D(a(s).e("icon-inner"))},ne(l.value+1),3))])],2)],2),X(" title & description "),w("div",{class:D(a(s).e("main"))},[w("div",{class:D([a(s).e("title"),a(s).is(a(h))])},[oe(C.$slots,"title",{},()=>[L(ne(C.title),1)])],2),a(g)?(_(),R("div",{key:0,class:D(a(s).e("arrow"))},null,2)):(_(),R("div",{key:1,class:D([a(s).e("description"),a(s).is(a(h))])},[oe(C.$slots,"description",{},()=>[L(ne(C.description),1)])],2))],2)],6))}});var Rn=pe(pl,[["__file","item.vue"]]);const ml=Xe(dl,{Step:Rn}),bl=Ve(Rn),ut=Symbol("tabsRootContextKey"),gl=ke({tabs:{type:Re(Array),default:()=>ln([])}}),Bn="ElTabBar",hl=z({name:Bn}),_l=z({...hl,props:gl,setup(e,{expose:n}){const s=e,l=Be(),i=Ye(ut);i||St(Bn,"<el-tabs><el-tab-bar /></el-tabs>");const t=ue("tabs"),c=I(),d=I(),h=()=>{let y=0,u=0;const f=["top","bottom"].includes(i.props.tabPosition)?"width":"height",$=f==="width"?"x":"y",B=$==="x"?"left":"top";return s.tabs.every(V=>{var r,b;const S=(b=(r=l.parent)==null?void 0:r.refs)==null?void 0:b[`tab-${V.uid}`];if(!S)return!1;if(!V.active)return!0;y=S[`offset${Ee(B)}`],u=S[`client${Ee(f)}`];const C=window.getComputedStyle(S);return f==="width"&&(u-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight),y+=Number.parseFloat(C.paddingLeft)),!1}),{[f]:`${u}px`,transform:`translate${Ee($)}(${y}px)`}},p=()=>d.value=h(),m=[],v=()=>{var y;m.forEach(f=>f.stop()),m.length=0;const u=(y=l.parent)==null?void 0:y.refs;if(u){for(const f in u)if(f.startsWith("tab-")){const $=u[f];$&&m.push(ht($,p))}}};G(()=>s.tabs,async()=>{await re(),p(),v()},{immediate:!0});const g=ht(c,()=>p());return Ze(()=>{m.forEach(y=>y.stop()),m.length=0,g.stop()}),n({ref:c,update:p}),(y,u)=>(_(),R("div",{ref_key:"barRef",ref:c,class:D([a(t).e("active-bar"),a(t).is(a(i).props.tabPosition)]),style:de(d.value)},null,6))}});var yl=pe(_l,[["__file","tab-bar.vue"]]);const kl=ke({panes:{type:Re(Array),default:()=>ln([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),wl={tabClick:(e,n,s)=>s instanceof Event,tabRemove:(e,n)=>n instanceof Event},Ft="ElTabNav",$l=z({name:Ft,props:kl,emits:wl,setup(e,{expose:n,emit:s}){const l=Ye(ut);l||St(Ft,"<el-tabs><tab-nav /></el-tabs>");const i=ue("tabs"),t=Gn(),c=Jn(),d=I(),h=I(),p=I(),m=I(),v=I(!1),g=I(0),y=I(!1),u=I(!0),f=E(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),$=E(()=>({transform:`translate${f.value==="width"?"X":"Y"}(-${g.value}px)`})),B=()=>{if(!d.value)return;const T=d.value[`offset${Ee(f.value)}`],O=g.value;if(!O)return;const M=O>T?O-T:0;g.value=M},V=()=>{if(!d.value||!h.value)return;const T=h.value[`offset${Ee(f.value)}`],O=d.value[`offset${Ee(f.value)}`],M=g.value;if(T-M<=O)return;const W=T-M>O*2?M+O:T-O;g.value=W},r=async()=>{const T=h.value;if(!v.value||!p.value||!d.value||!T)return;await re();const O=p.value.querySelector(".is-active");if(!O)return;const M=d.value,W=["top","bottom"].includes(l.props.tabPosition),A=O.getBoundingClientRect(),K=M.getBoundingClientRect(),ae=W?T.offsetWidth-K.width:T.offsetHeight-K.height,ee=g.value;let Q=ee;W?(A.left<K.left&&(Q=ee-(K.left-A.left)),A.right>K.right&&(Q=ee+A.right-K.right)):(A.top<K.top&&(Q=ee-(K.top-A.top)),A.bottom>K.bottom&&(Q=ee+(A.bottom-K.bottom))),Q=Math.max(Q,0),g.value=Math.min(Q,ae)},b=()=>{var T;if(!h.value||!d.value)return;e.stretch&&((T=m.value)==null||T.update());const O=h.value[`offset${Ee(f.value)}`],M=d.value[`offset${Ee(f.value)}`],W=g.value;M<O?(v.value=v.value||{},v.value.prev=W,v.value.next=W+M<O,O-W<M&&(g.value=O-M)):(v.value=!1,W>0&&(g.value=0))},S=T=>{let O=0;switch(T.code){case Se.left:case Se.up:O=-1;break;case Se.right:case Se.down:O=1;break;default:return}const M=Array.from(T.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let A=M.indexOf(T.target)+O;A<0?A=M.length-1:A>=M.length&&(A=0),M[A].focus({preventScroll:!0}),M[A].click(),C()},C=()=>{u.value&&(y.value=!0)},F=()=>y.value=!1;return G(t,T=>{T==="hidden"?u.value=!1:T==="visible"&&setTimeout(()=>u.value=!0,50)}),G(c,T=>{T?setTimeout(()=>u.value=!0,50):u.value=!1}),ht(p,b),we(()=>setTimeout(()=>r(),0)),Qn(()=>b()),n({scrollToActiveTab:r,removeFocus:F}),()=>{const T=v.value?[o("span",{class:[i.e("nav-prev"),i.is("disabled",!v.value.prev)],onClick:B},[o(fe,null,{default:()=>[o(eo,null,null)]})]),o("span",{class:[i.e("nav-next"),i.is("disabled",!v.value.next)],onClick:V},[o(fe,null,{default:()=>[o(an,null,null)]})])]:null,O=e.panes.map((M,W)=>{var A,K,ae,ee;const Q=M.uid,J=M.props.disabled,ye=(K=(A=M.props.name)!=null?A:M.index)!=null?K:`${W}`,N=!J&&(M.isClosable||e.editable);M.index=`${W}`;const Y=N?o(fe,{class:"is-icon-close",onClick:H=>s("tabRemove",M,H)},{default:()=>[o($t,null,null)]}):null,x=((ee=(ae=M.slots).label)==null?void 0:ee.call(ae))||M.props.label,Z=!J&&M.active?0:-1;return o("div",{ref:`tab-${Q}`,class:[i.e("item"),i.is(l.props.tabPosition),i.is("active",M.active),i.is("disabled",J),i.is("closable",N),i.is("focus",y.value)],id:`tab-${ye}`,key:`tab-${Q}`,"aria-controls":`pane-${ye}`,role:"tab","aria-selected":M.active,tabindex:Z,onFocus:()=>C(),onBlur:()=>F(),onClick:H=>{F(),s("tabClick",M,ye,H)},onKeydown:H=>{N&&(H.code===Se.delete||H.code===Se.backspace)&&s("tabRemove",M,H)}},[x,Y])});return o("div",{ref:p,class:[i.e("nav-wrap"),i.is("scrollable",!!v.value),i.is(l.props.tabPosition)]},[T,o("div",{class:i.e("nav-scroll"),ref:d},[o("div",{class:[i.e("nav"),i.is(l.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:h,style:$.value,role:"tablist",onKeydown:S},[e.type?null:o(yl,{ref:m,tabs:[...e.panes]},null),O])])])}}}),Cl=ke({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Re(Function),default:()=>!0},stretch:Boolean}),pt=e=>gt(e)||Ct(e),Sl={[sn]:e=>pt(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>pt(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>pt(e),tabAdd:()=>!0},Tl=z({name:"ElTabs",props:Cl,emits:Sl,setup(e,{emit:n,slots:s,expose:l}){var i;const t=ue("tabs"),c=E(()=>["left","right"].includes(e.tabPosition)),{children:d,addChild:h,removeChild:p}=Tn(Be(),"ElTabPane"),m=I(),v=I((i=e.modelValue)!=null?i:"0"),g=async(B,V=!1)=>{var r,b;if(!(v.value===B||Ot(B)))try{let S;if(e.beforeLeave){const C=e.beforeLeave(B,v.value);S=C instanceof Promise?await C:C}else S=!0;S!==!1&&(v.value=B,V&&(n(sn,B),n("tabChange",B)),(b=(r=m.value)==null?void 0:r.removeFocus)==null||b.call(r))}catch{}},y=(B,V,r)=>{B.props.disabled||(g(V,!0),n("tabClick",B,r))},u=(B,V)=>{B.props.disabled||Ot(B.props.name)||(V.stopPropagation(),n("edit",B.props.name,"remove"),n("tabRemove",B.props.name))},f=()=>{n("edit",void 0,"add"),n("tabAdd")};G(()=>e.modelValue,B=>g(B)),G(v,async()=>{var B;await re(),(B=m.value)==null||B.scrollToActiveTab()}),st(ut,{props:e,currentName:v,registerPane:B=>{d.value.push(B)},sortPane:h,unregisterPane:p}),l({currentName:v});const $=({render:B})=>B();return()=>{const B=s["add-icon"],V=e.editable||e.addable?o("div",{class:[t.e("new-tab"),c.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:f,onKeydown:S=>{[Se.enter,Se.numpadEnter].includes(S.code)&&f()}},[B?oe(s,"add-icon"):o(fe,{class:t.is("icon-plus")},{default:()=>[o(to,null,null)]})]):null,r=o("div",{class:[t.e("header"),c.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[o($,{render:()=>{const S=d.value.some(C=>C.slots.label);return o($l,{ref:m,currentName:v.value,editable:e.editable,type:e.type,panes:d.value,stretch:e.stretch,onTabClick:y,onTabRemove:u},{$stable:!S})}},null),V]),b=o("div",{class:t.e("content")},[oe(s,"default")]);return o("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[b,r])}}});var xl=Tl;const El=ke({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Vn="ElTabPane",Pl=z({name:Vn}),Il=z({...Pl,props:El,setup(e){const n=e,s=Be(),l=tn(),i=Ye(ut);i||St(Vn,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=ue("tab-pane"),c=I(),d=E(()=>n.closable||i.props.closable),h=At(()=>{var y;return i.currentName.value===((y=n.name)!=null?y:c.value)}),p=I(h.value),m=E(()=>{var y;return(y=n.name)!=null?y:c.value}),v=At(()=>!n.lazy||p.value||h.value);G(h,y=>{y&&(p.value=!0)});const g=ze({uid:s.uid,slots:l,props:n,paneName:m,active:h,index:c,isClosable:d});return i.registerPane(g),we(()=>{i.sortPane(g)}),no(()=>{i.unregisterPane(g.uid)}),(y,u)=>a(v)?Ae((_(),R("div",{key:0,id:`pane-${a(m)}`,class:D(a(t).b()),role:"tabpanel","aria-hidden":!a(h),"aria-labelledby":`tab-${a(m)}`},[oe(y.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ue,a(h)]]):X("v-if",!0)}});var Mn=pe(Il,[["__file","tab-pane.vue"]]);const Rl=Xe(xl,{TabPane:Mn}),Bl=Ve(Mn);function jt(e,n){return e.reduce((s,l)=>Math.abs(s-n)<Math.abs(l-n)?s:l)}function Vl(e,n,s){let l,i=0;const t=e.scrollLeft,c=s===0?1:Math.round(s*1e3/16);let d=t;function h(){rn(l)}function p(){d+=(n-t)/c,e.scrollLeft=d,++i<c&&(l=_t(p))}return p(),h}function Ml(e,n,s,l){let i,t=cn(e);const c=t<n,d=s===0?1:Math.round(s*1e3/16),h=(n-t)/d;function p(){rn(i)}function m(){t+=h,(c&&t>n||!c&&t<n)&&(t=n),oo(e,t),c&&t<n||!c&&t>n?i=_t(m):l&&(i=_t(l))}return m(),p}function Nl(){const e=I([]),n=[];return lo(()=>{e.value=[]}),[e,l=>(n[l]||(n[l]=i=>{e.value[l]=i}),n[l])]}function Nn(e,n){if(!ao||!window.IntersectionObserver)return;const s=new IntersectionObserver(t=>{n(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&s.observe(e.value)},i=()=>{e.value&&s.unobserve(e.value)};Tt(i),Ze(i),un(l)}const[Ol,Al]=ge("sticky"),Ul={zIndex:be,position:He("top"),container:Object,offsetTop:he(0),offsetBottom:he(0)};var Dl=z({name:Ol,props:Ul,emits:["scroll","change"],setup(e,{emit:n,slots:s}){const l=I(),i=dn(l),t=ze({fixed:!1,width:0,height:0,transform:0}),c=I(!1),d=E(()=>vn(e.position==="top"?e.offsetTop:e.offsetBottom)),h=E(()=>{if(c.value)return;const{fixed:g,height:y,width:u}=t;if(g)return{width:`${u}px`,height:`${y}px`}}),p=E(()=>{if(!t.fixed||c.value)return;const g=fn(so(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${d.value}px`});return t.transform&&(g.transform=`translate3d(0, ${t.transform}px, 0)`),g}),m=g=>n("scroll",{scrollTop:g,isFixed:t.fixed}),v=()=>{if(!l.value||qe(l))return;const{container:g,position:y}=e,u=Ie(l),f=cn(window);if(t.width=u.width,t.height=u.height,y==="top")if(g){const $=Ie(g),B=$.bottom-d.value-t.height;t.fixed=d.value>u.top&&$.bottom>0,t.transform=B<0?B:0}else t.fixed=d.value>u.top;else{const{clientHeight:$}=document.documentElement;if(g){const B=Ie(g),V=$-B.top-d.value-t.height;t.fixed=$-d.value<u.bottom&&$>B.top,t.transform=V<0?-V:0}else t.fixed=$-d.value<u.bottom}m(f)};return G(()=>t.fixed,g=>n("change",g)),it("scroll",v,{target:i,passive:!0}),Nn(l,v),G([De,We],()=>{!l.value||qe(l)||!t.fixed||(c.value=!0,re(()=>{const g=Ie(l);t.width=g.width,t.height=g.height,c.value=!1}))}),()=>{var g;return o("div",{ref:l,style:h.value},[o("div",{class:Al({fixed:t.fixed&&!c.value}),style:p.value},[(g=s.default)==null?void 0:g.call(s)])])}}});const Ll=$e(Dl),[On,tt]=ge("swipe"),zl={loop:_e,width:be,height:be,vertical:Boolean,autoplay:he(0),duration:he(500),touchable:_e,lazyRender:Boolean,initialSwipe:he(0),indicatorColor:String,showIndicators:_e,stopPropagation:_e},An=Symbol(On);var Fl=z({name:On,props:zl,emits:["change","dragStart","dragEnd"],setup(e,{emit:n,slots:s}){const l=I(),i=I(),t=ze({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const d=pn(),{children:h,linkChildren:p}=xt(An),m=E(()=>h.length),v=E(()=>t[e.vertical?"height":"width"]),g=E(()=>e.vertical?d.deltaY.value:d.deltaX.value),y=E(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-v.value*m.value:0),u=E(()=>v.value?Math.ceil(Math.abs(y.value)/v.value):m.value),f=E(()=>m.value*v.value),$=E(()=>(t.active+m.value)%m.value),B=E(()=>{const x=e.vertical?"vertical":"horizontal";return d.direction.value===x}),V=E(()=>{const x={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(v.value){const Z=e.vertical?"height":"width",H=e.vertical?"width":"height";x[Z]=`${f.value}px`,x[H]=e[H]?`${e[H]}px`:""}return x}),r=x=>{const{active:Z}=t;return x?e.loop?dt(Z+x,-1,m.value):dt(Z+x,0,u.value):Z},b=(x,Z=0)=>{let H=x*v.value;e.loop||(H=Math.min(H,-y.value));let se=Z-H;return e.loop||(se=dt(se,y.value,0)),se},S=({pace:x=0,offset:Z=0,emitChange:H})=>{if(m.value<=1)return;const{active:se}=t,P=r(x),U=b(P,Z);if(e.loop){if(h[0]&&U!==y.value){const q=U<y.value;h[0].setOffset(q?f.value:0)}if(h[m.value-1]&&U!==0){const q=U>0;h[m.value-1].setOffset(q?-f.value:0)}}t.active=P,t.offset=U,H&&P!==se&&n("change",$.value)},C=()=>{t.swiping=!0,t.active<=-1?S({pace:m.value}):t.active>=m.value&&S({pace:-m.value})},F=()=>{C(),d.reset(),Fe(()=>{t.swiping=!1,S({pace:-1,emitChange:!0})})},T=()=>{C(),d.reset(),Fe(()=>{t.swiping=!1,S({pace:1,emitChange:!0})})};let O;const M=()=>clearTimeout(O),W=()=>{M(),+e.autoplay>0&&m.value>1&&(O=setTimeout(()=>{T(),W()},+e.autoplay))},A=(x=+e.initialSwipe)=>{if(!l.value)return;const Z=()=>{var H,se;if(!qe(l)){const P={width:l.value.offsetWidth,height:l.value.offsetHeight};t.rect=P,t.width=+((H=e.width)!=null?H:P.width),t.height=+((se=e.height)!=null?se:P.height)}m.value&&(x=Math.min(m.value-1,x),x===-1&&(x=m.value-1)),t.active=x,t.swiping=!0,t.offset=b(x),h.forEach(P=>{P.setOffset(0)}),W()};qe(l)?re().then(Z):Z()},K=()=>A(t.active);let ae;const ee=x=>{!e.touchable||x.touches.length>1||(d.start(x),c=!1,ae=Date.now(),M(),C())},Q=x=>{e.touchable&&t.swiping&&(d.move(x),B.value&&(!e.loop&&(t.active===0&&g.value>0||t.active===m.value-1&&g.value<0)||(ro(x,e.stopPropagation),S({offset:g.value}),c||(n("dragStart",{index:$.value}),c=!0))))},J=()=>{if(!e.touchable||!t.swiping)return;const x=Date.now()-ae,Z=g.value/x;if((Math.abs(Z)>.25||Math.abs(g.value)>v.value/2)&&B.value){const se=e.vertical?d.offsetY.value:d.offsetX.value;let P=0;e.loop?P=se>0?g.value>0?-1:1:0:P=-Math[g.value>0?"ceil":"floor"](g.value/v.value),S({pace:P,emitChange:!0})}else g.value&&S({pace:0});c=!1,t.swiping=!1,n("dragEnd",{index:$.value}),W()},ye=(x,Z={})=>{C(),d.reset(),Fe(()=>{let H;e.loop&&x===m.value?H=t.active===0?0:x:H=x%m.value,Z.immediate?Fe(()=>{t.swiping=!1}):t.swiping=!1,S({pace:H-t.active,emitChange:!0})})},N=(x,Z)=>{const H=Z===$.value,se=H?{backgroundColor:e.indicatorColor}:void 0;return o("i",{style:se,class:tt("indicator",{active:H})},null)},Y=()=>{if(s.indicator)return s.indicator({active:$.value,total:m.value});if(e.showIndicators&&m.value>1)return o("div",{class:tt("indicators",{vertical:e.vertical})},[Array(m.value).fill("").map(N)])};return Ge({prev:F,next:T,state:t,resize:K,swipeTo:ye}),p({size:v,props:e,count:m,activeIndicator:$}),G(()=>e.initialSwipe,x=>A(+x)),G(m,()=>A(t.active)),G(()=>e.autoplay,W),G([De,We,()=>e.width,()=>e.height],K),G(io(),x=>{x==="visible"?W():M()}),we(A),Et(()=>A(t.active)),mn(()=>A(t.active)),Tt(M),Ze(M),it("touchmove",Q,{target:i}),()=>{var x;return o("div",{ref:l,class:tt()},[o("div",{ref:i,style:V.value,class:tt("track",{vertical:e.vertical}),onTouchstartPassive:ee,onTouchend:J,onTouchcancel:J},[(x=s.default)==null?void 0:x.call(s)]),Y()])}}});const Mt=$e(Fl),[jl,Wt]=ge("tabs");var Wl=z({name:jl,props:{count:vt(Number),inited:Boolean,animated:Boolean,duration:vt(be),swipeable:Boolean,lazyRender:Boolean,currentIndex:vt(Number)},emits:["change"],setup(e,{emit:n,slots:s}){const l=I(),i=d=>n("change",d),t=()=>{var d;const h=(d=s.default)==null?void 0:d.call(s);return e.animated||e.swipeable?o(Mt,{ref:l,loop:!1,class:Wt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[h]}):h},c=d=>{const h=l.value;h&&h.state.active!==d&&h.swipeTo(d,{immediate:!e.inited})};return G(()=>e.currentIndex,c),we(()=>{c(e.currentIndex)}),Ge({swipeRef:l}),()=>o("div",{class:Wt("content",{animated:e.animated||e.swipeable})},[t()])}});const[Un,nt]=ge("tabs"),Hl={type:He("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:he(0),duration:he(.3),animated:Boolean,ellipsis:_e,swipeable:Boolean,scrollspy:Boolean,offsetTop:he(0),background:String,lazyRender:_e,showHeader:_e,lineWidth:be,lineHeight:be,beforeChange:Function,swipeThreshold:he(5),titleActiveColor:String,titleInactiveColor:String},Dn=Symbol(Un);var ql=z({name:Un,props:Hl,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:s}){let l,i,t,c,d;const h=I(),p=I(),m=I(),v=I(),g=wn(),y=dn(h),[u,f]=Nl(),{children:$,linkChildren:B}=xt(Dn),V=ze({inited:!1,position:"",lineStyle:{},currentIndex:-1}),r=E(()=>$.length>+e.swipeThreshold||!e.ellipsis||e.shrink),b=E(()=>({borderColor:e.color,background:e.background})),S=(P,U)=>{var q;return(q=P.name)!=null?q:U},C=E(()=>{const P=$[V.currentIndex];if(P)return S(P,V.currentIndex)}),F=E(()=>vn(e.offsetTop)),T=E(()=>e.sticky?F.value+l:0),O=P=>{const U=p.value,q=u.value;if(!r.value||!U||!q||!q[V.currentIndex])return;const ie=q[V.currentIndex].$el,le=ie.offsetLeft-(U.offsetWidth-ie.offsetWidth)/2;c&&c(),c=Vl(U,le,P?0:+e.duration)},M=()=>{const P=V.inited;re(()=>{const U=u.value;if(!U||!U[V.currentIndex]||e.type!=="line"||qe(h.value))return;const q=U[V.currentIndex].$el,{lineWidth:ie,lineHeight:le}=e,me=q.offsetLeft+q.offsetWidth/2,Pe={width:Ke(ie),backgroundColor:e.color,transform:`translateX(${me}px) translateX(-50%)`};if(P&&(Pe.transitionDuration=`${e.duration}s`),yt(le)){const et=Ke(le);Pe.height=et,Pe.borderRadius=et}V.lineStyle=Pe})},W=P=>{const U=P<V.currentIndex?-1:1;for(;P>=0&&P<$.length;){if(!$[P].disabled)return P;P+=U}},A=(P,U)=>{const q=W(P);if(!yt(q))return;const ie=$[q],le=S(ie,q),me=V.currentIndex!==null;V.currentIndex!==q&&(V.currentIndex=q,U||O(),M()),le!==e.active&&(n("update:active",le),me&&n("change",le,ie.title)),t&&!e.scrollspy&&uo(Math.ceil(Ut(h.value)-F.value))},K=(P,U)=>{const q=$.find((le,me)=>S(le,me)===P),ie=q?$.indexOf(q):0;A(ie,U)},ae=(P=!1)=>{if(e.scrollspy){const U=$[V.currentIndex].$el;if(U&&y.value){const q=Ut(U,y.value)-T.value;i=!0,d&&d(),d=Ml(y.value,q,P?0:+e.duration,()=>{i=!1})}}},ee=(P,U,q)=>{const{title:ie,disabled:le}=$[U],me=S($[U],U);le||(vo(e.beforeChange,{args:[me],done:()=>{A(U),ae()}}),fo(P)),n("clickTab",{name:me,title:ie,event:q,disabled:le})},Q=P=>{t=P.isFixed,n("scroll",P)},J=P=>{re(()=>{K(P),ae(!0)})},ye=()=>{for(let P=0;P<$.length;P++){const{top:U}=Ie($[P].$el);if(U>T.value)return P===0?0:P-1}return $.length-1},N=()=>{if(e.scrollspy&&!i){const P=ye();A(P)}},Y=()=>{if(e.type==="line"&&$.length)return o("div",{class:nt("line"),style:V.lineStyle},null)},x=()=>{var P,U,q;const{type:ie,border:le,sticky:me}=e,Pe=[o("div",{ref:me?void 0:m,class:[nt("wrap"),{[co]:ie==="line"&&le}]},[o("div",{ref:p,role:"tablist",class:nt("nav",[ie,{shrink:e.shrink,complete:r.value}]),style:b.value,"aria-orientation":"horizontal"},[(P=s["nav-left"])==null?void 0:P.call(s),$.map(et=>et.renderTitle(ee)),Y(),(U=s["nav-right"])==null?void 0:U.call(s)])]),(q=s["nav-bottom"])==null?void 0:q.call(s)];return me?o("div",{ref:m},[Pe]):Pe},Z=()=>{M(),re(()=>{var P,U;O(!0),(U=(P=v.value)==null?void 0:P.swipeRef.value)==null||U.resize()})};G(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],M),G(De,Z),G(()=>e.active,P=>{P!==C.value&&K(P)}),G(()=>$.length,()=>{V.inited&&(K(e.active),M(),re(()=>{O(!0)}))});const H=()=>{K(e.active,!0),re(()=>{V.inited=!0,m.value&&(l=Ie(m.value).height),O(!0)})},se=(P,U)=>n("rendered",P,U);return Ge({resize:Z,scrollTo:J}),Et(M),mn(M),un(H),Nn(h,M),it("scroll",N,{target:y,passive:!0}),B({id:g,props:e,setLine:M,scrollable:r,onRendered:se,currentName:C,setTitleRefs:f,scrollIntoView:O}),()=>o("div",{ref:h,class:nt([e.type])},[e.showHeader?e.sticky?o(Ll,{container:h.value,offsetTop:F.value,onScroll:Q},{default:()=>[x()]}):x():null,o(Wl,{ref:v,count:$.length,inited:V.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:V.currentIndex,onChange:A},{default:()=>{var P;return[(P=s.default)==null?void 0:P.call(s)]}})])}});const[Kl,Ht]=ge("tab"),Yl=z({name:Kl,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:be,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:_e},setup(e,{slots:n}){const s=E(()=>{const i={},{type:t,color:c,disabled:d,isActive:h,activeColor:p,inactiveColor:m}=e;c&&t==="card"&&(i.borderColor=c,d||(h?i.backgroundColor=c:i.color=c));const g=h?p:m;return g&&(i.color=g),i}),l=()=>{const i=o("span",{class:Ht("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||yt(e.badge)&&e.badge!==""?o(po,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[i]}):i};return()=>o("div",{id:e.id,role:"tab",class:[Ht([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:s.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[Xl,Zl]=ge("swipe-item");var Gl=z({name:Xl,setup(e,{slots:n}){let s;const l=ze({offset:0,inited:!1,mounted:!1}),{parent:i,index:t}=Pt(An);if(!i)return;const c=E(()=>{const p={},{vertical:m}=i.props;return i.size.value&&(p[m?"height":"width"]=`${i.size.value}px`),l.offset&&(p.transform=`translate${m?"Y":"X"}(${l.offset}px)`),p}),d=E(()=>{const{loop:p,lazyRender:m}=i.props;if(!m||s)return!0;if(!l.mounted)return!1;const v=i.activeIndicator.value,g=i.count.value-1,y=v===0&&p?g:v-1,u=v===g&&p?0:v+1;return s=t.value===v||t.value===y||t.value===u,s}),h=p=>{l.offset=p};return we(()=>{re(()=>{l.mounted=!0})}),Ge({setOffset:h}),()=>{var p;return o("div",{class:Zl(),style:c.value},[d.value?(p=n.default)==null?void 0:p.call(n):null])}}});const Nt=$e(Gl),[Jl,mt]=ge("tab"),Ql=fn({},bo,{dot:Boolean,name:be,badge:be,title:String,disabled:Boolean,titleClass:go,titleStyle:[String,Object],showZeroBadge:_e});var ea=z({name:Jl,props:Ql,setup(e,{slots:n}){const s=wn(),l=I(!1),i=Be(),{parent:t,index:c}=Pt(Dn);if(!t)return;const d=()=>{var u;return(u=e.name)!=null?u:c.value},h=()=>{l.value=!0,t.props.lazyRender&&re(()=>{t.onRendered(d(),e.title)})},p=E(()=>{const u=d()===t.currentName.value;return u&&!l.value&&h(),u}),m=I(""),v=I("");bn(()=>{const{titleClass:u,titleStyle:f}=e;m.value=u?D(u):"",v.value=f&&typeof f!="string"?mo(de(f)):f});const g=u=>o(Yl,gn({key:s,id:`${t.id}-${c.value}`,ref:t.setTitleRefs(c.value),style:v.value,class:m.value,isActive:p.value,controls:s,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:f=>u(i.proxy,c.value,f)},ot(t.props,["type","color","shrink"]),ot(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),y=I(!p.value);return G(p,u=>{u?y.value=!1:Fe(()=>{y.value=!0})}),G(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),st(Eo,p),Ge({id:s,renderTitle:g}),()=>{var u;const f=`${t.id}-${c.value}`,{animated:$,swipeable:B,scrollspy:V,lazyRender:r}=t.props;if(!n.default&&!$)return;const b=V||p.value;if($||B)return o(Nt,{id:s,role:"tabpanel",class:mt("panel-wrapper",{inactive:y.value}),tabindex:p.value?0:-1,"aria-hidden":!p.value,"aria-labelledby":f,"data-allow-mismatch":"attribute"},{default:()=>{var F;return[o("div",{class:mt("panel")},[(F=n.default)==null?void 0:F.call(n)])]}});const C=l.value||V||!r?(u=n.default)==null?void 0:u.call(n):null;return Ae(o("div",{id:s,role:"tabpanel",class:mt("panel"),tabindex:b?0:-1,"aria-labelledby":f,"data-allow-mismatch":"attribute"},[C]),[[Ue,b]])}}});const ta=$e(ea),na=$e(ql),oa={gap:ho(24),icon:String,axis:He("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[la,qt]=ge("floating-bubble");var aa=z({name:la,inheritAttrs:!1,props:oa,emits:["click","update:offset","offsetChange"],setup(e,{slots:n,emit:s,attrs:l}){const i=I(),t=I({x:0,y:0,width:0,height:0}),c=E(()=>({top:e.gap,right:De.value-t.value.width-e.gap,bottom:We.value-t.value.height-e.gap,left:e.gap})),d=I(!1);let h=!1;const p=E(()=>{const r={},b=Ke(t.value.x),S=Ke(t.value.y);return r.transform=`translate3d(${b}, ${S}, 0)`,(d.value||!h)&&(r.transition="none"),r}),m=()=>{if(!V.value)return;const{width:r,height:b}=Ie(i.value),{offset:S}=e;t.value={x:S.x>-1?S.x:De.value-r-e.gap,y:S.y>-1?S.y:We.value-b-e.gap,width:r,height:b}},v=pn();let g=0,y=0;const u=r=>{v.start(r),d.value=!0,g=t.value.x,y=t.value.y};it("touchmove",r=>{if(r.preventDefault(),v.move(r),e.axis!=="lock"&&!v.isTap.value){if(e.axis==="x"||e.axis==="xy"){let S=g+v.deltaX.value;S<c.value.left&&(S=c.value.left),S>c.value.right&&(S=c.value.right),t.value.x=S}if(e.axis==="y"||e.axis==="xy"){let S=y+v.deltaY.value;S<c.value.top&&(S=c.value.top),S>c.value.bottom&&(S=c.value.bottom),t.value.y=S}const b=ot(t.value,["x","y"]);s("update:offset",b)}},{target:i});const $=()=>{d.value=!1,re(()=>{if(e.magnetic==="x"){const r=jt([c.value.left,c.value.right],t.value.x);t.value.x=r}if(e.magnetic==="y"){const r=jt([c.value.top,c.value.bottom],t.value.y);t.value.y=r}if(!v.isTap.value){const r=ot(t.value,["x","y"]);s("update:offset",r),(g!==r.x||y!==r.y)&&s("offsetChange",r)}})},B=r=>{v.isTap.value?s("click",r):r.stopPropagation()};we(()=>{m(),re(()=>{h=!0})}),G([De,We,()=>e.gap,()=>e.offset],m,{deep:!0});const V=I(!0);return Et(()=>{V.value=!0}),Tt(()=>{e.teleport&&(V.value=!1)}),()=>{const r=Ae(o("div",gn({class:qt(),ref:i,onTouchstartPassive:u,onTouchend:$,onTouchcancel:$,onClickCapture:B,style:p.value},l),[n.default?n.default():o(_o,{name:e.icon,class:qt("icon")},null)]),[[Ue,V.value]]);return e.teleport?o(yo,{to:e.teleport},{default:()=>[r]}):r}}});const sa=$e(aa),[ia,bt]=ge("progress"),ra={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:_e,pivotColor:String,trackColor:String,strokeWidth:be,percentage:{type:be,default:0,validator:e=>+e>=0&&+e<=100}};var ca=z({name:ia,props:ra,setup(e){const n=E(()=>e.inactive?void 0:e.color),s=()=>{const{textColor:l,pivotText:i,pivotColor:t,percentage:c}=e,d=i??`${c}%`;if(e.showPivot&&d){const h={color:l,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:t||n.value};return o("span",{style:h,class:bt("pivot",{inactive:e.inactive})},[d])}};return()=>{const{trackColor:l,percentage:i,strokeWidth:t}=e,c={background:l,height:Ke(t)},d={width:`${i}%`,background:n.value};return o("div",{class:bt(),style:c},[o("span",{class:bt("portion",{inactive:e.inactive}),style:d},null),s()])}}});const ua=$e(ca),[Ln,Kt]=ge("steps"),da={active:he(0),direction:He("horizontal"),activeIcon:He("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},zn=Symbol(Ln);var va=z({name:Ln,props:da,emits:["clickStep"],setup(e,{emit:n,slots:s}){const{linkChildren:l}=xt(zn);return l({props:e,onClickStep:t=>n("clickStep",t)}),()=>{var t;return o("div",{class:Kt([e.direction])},[o("div",{class:Kt("items")},[(t=s.default)==null?void 0:t.call(s)])])}}});const[fa,Ce]=ge("step");var pa=z({name:fa,setup(e,{slots:n}){const{parent:s,index:l}=Pt(zn);if(!s)return;const i=s.props,t=()=>{const v=+i.active;return l.value<v?"finish":l.value===v?"process":"waiting"},c=()=>t()==="process",d=E(()=>({background:t()==="finish"?i.activeColor:i.inactiveColor})),h=E(()=>{if(c())return{color:i.activeColor};if(t()==="waiting")return{color:i.inactiveColor}}),p=()=>s.onClickStep(l.value),m=()=>{const{iconPrefix:v,finishIcon:g,activeIcon:y,activeColor:u,inactiveIcon:f}=i;return c()?n["active-icon"]?n["active-icon"]():o(ft,{class:Ce("icon","active"),name:y,color:u,classPrefix:v},null):t()==="finish"&&(g||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():o(ft,{class:Ce("icon","finish"),name:g,color:u,classPrefix:v},null):n["inactive-icon"]?n["inactive-icon"]():f?o(ft,{class:Ce("icon"),name:f,classPrefix:v},null):o("i",{class:Ce("circle"),style:d.value},null)};return()=>{var v;const g=t();return o("div",{class:[ko,Ce([i.direction,{[g]:g}])]},[o("div",{class:Ce("title",{active:c()}),style:h.value,onClick:p},[(v=n.default)==null?void 0:v.call(n)]),o("div",{class:Ce("circle-container"),onClick:p},[m()]),o("div",{class:Ce("line"),style:d.value},null)])}}});const ma=$e(pa),ba=$e(va),ga=wo("ulCounter",()=>{const e=I(JSON.parse(localStorage.getItem("ulCounter"))||0);return{ulCounter:e,changeCounter:l=>{e.value+=l,localStorage.setItem("ulCounter",JSON.stringify(l))},clearStore:()=>{e.value=0,localStorage.removeItem("ulCounter")}}}),ha={key:0},_a=["src"],ya={key:1,class:"main"},ka={class:"video-grid"},wa=["onMouseenter","onClick"],$a={class:"thumbnail"},Ca={class:"video-id"},Sa={key:0,class:"overlay"},Ta=["onClick"],xa=["src"],Ea={__name:"VideoList",props:{videos:{type:Array,default:()=>[],required:!0}},emits:["delete-video"],setup(e,{emit:n}){const s=E(()=>Ne()),l=e,i=n,t=I(null),c=I(!1),d=I(""),h=m=>{const v=l.videos.find(g=>g.id===m);v&&(d.value=URL.createObjectURL(v.file),c.value=!0)},p=()=>{c.value=!1,URL.revokeObjectURL(d.value)};return(m,v)=>{const g=$n,y=It,u=hn,f=kn,$=Qe,B=Je,V=_n,r=lt("CircleCheck"),b=fe,S=rt,C=Bt,F=Vt;return a(s)?(_(),R("div",ha,[o(f,{"finished-text":"没有更多了",style:{"margin-top":"1vh"}},{default:k(()=>[(_(!0),R(Te,null,xe(e.videos,T=>(_(),j(u,{key:T.id,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(y,{square:"",type:"danger",text:"删除",onClick:O=>i("delete-video",T.id)},null,8,["onClick"])]),default:k(()=>[o(g,{border:!1,icon:"video-o",title:T.id,value:T.isUploaded?"已上传":"",onClick:O=>h(T.id)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1}),o(B,{show:a(c),"onUpdate:show":v[1]||(v[1]=T=>ce(c)?c.value=T:null),position:"bottom",style:{height:"50vh"},closeable:"","close-on-click-overlay":!1},{default:k(()=>[o($,null,{default:k(()=>v[4]||(v[4]=[w("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),a(d)?(_(),R("video",{key:0,src:a(d),controls:"",style:{width:"100%"},onError:v[0]||(v[0]=(...T)=>m.handleVideoError&&m.handleVideoError(...T))}," 您的浏览器不支持视频播放 ",40,_a)):X("",!0)]),_:1},8,["show"]),e.videos.length===0?(_(),j(V,{key:0,description:"暂无视频"})):X("",!0)])):(_(),R("div",ya,[w("div",ka,[(_(!0),R(Te,null,xe(e.videos,T=>(_(),R("div",{key:T.id,class:"video-item",onMouseenter:O=>t.value=T.id,onMouseleave:v[2]||(v[2]=O=>t.value=null),onClick:O=>h(T.id)},[w("div",$a,[v[6]||(v[6]=w("i",{class:"iconfont icon-shipin"},null,-1)),w("span",Ca,"#"+ne(T.id),1),a(t)===T.id?(_(),R("div",Sa,[w("button",{class:"dltBtn",onClick:je(O=>i("delete-video",T.id),["stop"])},v[5]||(v[5]=[w("i",{class:"iconfont icon-shanchu1",style:{color:"red","font-size":"1.75rem"}},null,-1)]),8,Ta)])):X("",!0),T.isUploaded?(_(),j(b,{key:1},{default:k(()=>[o(r)]),_:1})):X("",!0)])],40,wa))),128)),o(C,{modelValue:a(c),"onUpdate:modelValue":v[3]||(v[3]=T=>ce(c)?c.value=T:null),title:"视频预览","close-on-click-modal":!1},{footer:k(()=>[o(S,{onClick:p},{default:k(()=>v[7]||(v[7]=[L("关闭")])),_:1})]),default:k(()=>[w("video",{src:a(d),controls:"",class:"video-player",preload:"auto"}," 您的浏览器不支持视频播放 ",8,xa)]),_:1},8,["modelValue"])]),e.videos.length===0?(_(),j(F,{key:0,description:"暂无视频",style:{padding:"0"}})):X("",!0)]))}}},Yt=Me(Ea,[["__scopeId","data-v-fe0b2793"]]),Pa={key:0},Ia={key:1},Ra={class:"dataset-container"},Ba={__name:"DataSet",setup(e){const n=I([]),s=I(!1),l=I(1),i=ga(),t=ct(),c=E(()=>Ne()),d=I(!1),h=y=>{n.value.push({id:`video_${new Date().getTime()}${l.value++}`,file:y,isUploaded:!1,type:"file",timeStamp:new Date})},p=y=>{const u=Date.now(),f=new File([y],`${u}.avi`,{type:"video/x-msvideo"});h(f),s.value=!1},m=async()=>{const y=n.value.filter(f=>!f.isUploaded),u=y.length;if(u===0){at("无可上传视频");return}try{await Promise.all(y.map(g)),y.every(f=>f.isUploaded)&&(Le("全部上传成功"),i.changeCounter(u))}catch(f){console.error("上传失败:",f),te("上传失败，请检查网络连接")}},v=y=>{kt("视频").then(()=>{n.value=n.value.filter(u=>u.id!==y),Le("删除成功")})},g=y=>{const u=new FormData;return u.append("video",y.file),u.append("videoId",y.id),u.append("modelId",t.processedModel.id),Oe.video.uploadAllVideos(u).then(f=>(f.code==="200"?y.isUploaded=!0:(console.log(f.msg),te(`${y.id}上传失败`)),f)).catch(f=>{console.error("上传失败:",y.id,f)})};return(y,u)=>{const f=Nt,$=Mt,B=yn,V=Qe,r=lt("Star"),b=fe,S=Je,C=Bt,F=Rt;return a(c)?(_(),R("div",Pa,[o(B,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:u[0]||(u[0]=T=>d.value=!0)},{default:k(()=>[o($,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o(f,null,{default:k(()=>u[5]||(u[5]=[L("视频数量限制为100，超出该数量的视频会被忽略")])),_:1}),o(f,null,{default:k(()=>u[6]||(u[6]=[L("视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳")])),_:1}),o(f,null,{default:k(()=>u[7]||(u[7]=[L("每个标签的视频数量最少10份，否则训练效果可能一般")])),_:1}),o(f,null,{default:k(()=>u[8]||(u[8]=[L("每个标签的视频数量尽量接近")])),_:1})]),_:1})]),_:1}),o(Lt,{onAddVideo:h,onUpload:m}),o(Yt,{videos:a(n),onDeleteVideo:v},null,8,["videos"]),o(S,{show:a(d),"onUpdate:show":u[1]||(u[1]=T=>ce(d)?d.value=T:null),position:"bottom",style:{height:"40%"},closeable:""},{default:k(()=>[o(V,null,{default:k(()=>u[9]||(u[9]=[w("span",{style:{color:"black","font-size":"large"}},"数据采集",-1)])),_:1}),w("div",null,[w("ul",null,[w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[10]||(u[10]=L(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[11]||(u[11]=L(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[12]||(u[12]=L(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[13]||(u[13]=L(" 每个标签的视频数量尽量接近 "))])])])]),_:1},8,["show"]),o(C,{modelValue:a(s),"onUpdate:modelValue":u[2]||(u[2]=T=>ce(s)?s.value=T:null),title:"摄像头录制","close-on-click-modal":!1},{default:k(()=>[a(s)?(_(),j(zt,{key:0,onRecordComplete:p})):X("",!0)]),_:1},8,["modelValue"])])):(_(),R("div",Ia,[u[18]||(u[18]=w("h2",{style:{"margin-bottom":"10px"}},null,-1)),w("div",null,[w("ul",null,[w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[14]||(u[14]=L(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[15]||(u[15]=L(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[16]||(u[16]=L(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),w("li",null,[o(b,null,{default:k(()=>[o(r)]),_:1}),u[17]||(u[17]=L(" 每个标签的视频数量尽量接近 "))])])]),w("div",Ra,[o(Lt,{onAddVideo:h,onStartRecording:u[3]||(u[3]=T=>s.value=!0),onUpload:m}),o(F,{style:{margin:"2% auto"}}),o(Yt,{videos:a(n),onDeleteVideo:v},null,8,["videos"]),o(C,{modelValue:a(s),"onUpdate:modelValue":u[4]||(u[4]=T=>ce(s)?s.value=T:null),title:"摄像头录制","close-on-click-modal":!1},{default:k(()=>[a(s)?(_(),j(zt,{key:0,onRecordComplete:p})):X("",!0)]),_:1},8,["modelValue"])])]))}}},Xt=Me(Ba,[["__scopeId","data-v-470bc221"]]);function Va(e){return{all:e=e||new Map,on:function(n,s){var l=e.get(n);l?l.push(s):e.set(n,[s])},off:function(n,s){var l=e.get(n);l&&(s?l.splice(l.indexOf(s)>>>0,1):e.set(n,[]))},emit:function(n,s){var l=e.get(n);l&&l.slice().map(function(i){i(s)}),(l=e.get("*"))&&l.slice().map(function(i){i(n,s)})}}}const ve=Va(),Ma={key:0},Na={style:{color:"black","font-size":"large"}},Oa=["src"],Aa={key:1},Ua={class:"Show-head"},Da={key:0,style:{"font-size":"20px"}},La={class:"video-show"},za=["src"],Fa={key:1,class:"video-placeholder"},ja={__name:"VideoShow",props:{videoUrl:{type:String,default:null},showObject:{type:Object,default:null}},emits:["update:videoUrl"],setup(e,{emit:n}){const s=E(()=>Ne()),l=e,i=I(!1);bn(()=>{i.value=l.videoUrl!==null&&l.videoUrl!==""});const t=()=>{l.videoUrl.value&&URL.revokeObjectURL(l.videoUrl.value)},c=n,d=p=>{switch(p.target.error.code){case p.target.error.MEDIA_ERR_ABORTED:te("视频加载被中止");break;case p.target.error.MEDIA_ERR_NETWORK:te("网络错误，无法加载视频");break;case p.target.error.MEDIA_ERR_DECODE:te("视频解码错误，可能是格式不支持");break;case p.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:te("视频格式不支持");break;default:te("未知错误")}c("update:videoUrl",null)},h=()=>{if(!l.videoUrl){at("请先选择视频");return}ve.emit("add")};return(p,m)=>{const v=Qe,g=Je,y=rt,u=Rt,f=Vt;return a(s)?(_(),R("div",Ma,[o(g,{show:a(i),"onUpdate:show":m[0]||(m[0]=$=>ce(i)?i.value=$:null),position:"bottom",style:{height:"60vh"},closeable:"","close-on-click-overlay":!1,onClose:t},{default:k(()=>[o(v,null,{default:k(()=>[w("span",Na,ne(e.showObject.title),1)]),_:1}),e.videoUrl?(_(),R("video",{key:0,src:e.videoUrl,controls:"",style:{width:"100%"},onError:d}," 您的浏览器不支持视频播放 ",40,Oa)):X("",!0),w("div",null,"标注："+ne(e.showObject.tag===!0?e.showObject.number:"暂无"),1)]),_:1},8,["show"])])):(_(),R("div",Aa,[w("div",Ua,[e.showObject?(_(),R("span",Da,ne(e.showObject.title),1)):X("",!0),o(y,{type:"primary",onClick:h},{default:k(()=>{var $;return[L(ne(($=e.showObject)!=null&&$.tag?"更改":"新增")+"注解",1)]}),_:1})]),o(u,{style:{margin:"5% auto"}}),w("div",La,[e.videoUrl?(_(),R("video",{key:0,src:e.videoUrl,controls:"",class:"video-player",onError:d}," 您的浏览器不支持视频播放 ",40,za)):(_(),R("div",Fa,[o(f,{description:"没有选择视频"})]))])]))}}},Zt=Me(ja,[["__scopeId","data-v-ba89c027"]]),Wa={key:0},Ha={key:0,style:{height:"62vh","overflow-y":"auto","margin-top":"1vh"}},qa={key:0,style:{height:"62vh","overflow-y":"auto","margin-top":"1vh"}},Ka={key:0,style:{height:"62vh","overflow-y":"auto","margin-top":"1vh"}},Ya={class:"tips-content"},Xa={key:1},Za={style:{"margin-bottom":"10px"}},Ga={style:{color:"red"}},Ja={class:"tag-body"},Qa=["onClick","onMouseenter","onMouseleave"],es=["onClick"],ts=["onClick"],ns={class:"tag-body"},os=["onClick","onMouseenter","onMouseleave"],ls=["onClick"],as=["onClick"],ss={class:"tag-body"},is=["onClick","onMouseenter","onMouseleave"],rs=["onClick"],cs={__name:"VideoTag",props:{videoList:{type:Array,default:()=>[]},isTagged:{type:Array,default:()=>[]},noTagged:{type:Array,default:()=>[]}},emits:["video-selected"],setup(e,{emit:n}){const s=I(!1),l=e,i=n,t=I([]),c=I("all"),d=I("a"),h=I(null),p=E(()=>Ne()),m=E(()=>{switch(c.value){case"tagged":return l.isTagged;case"noTagged":return l.noTagged;default:return l.videoList}}),v=u=>{ve.emit("changeDialogVisible",u)},g=u=>{ve.emit("deleteVideo",u)},y=u=>{h.value=u,i("video-selected",u),ve.emit("touch",u),console.log(u)};return(u,f)=>{const $=Nt,B=Mt,V=yn,r=$n,b=It,S=hn,C=kn,F=_n,T=ta,O=na,M=Qe,W=lt("Star"),A=fe,K=Je,ae=lt("Promotion"),ee=$o,Q=Vt,J=Bl,ye=Rl;return a(p)?(_(),R("div",Wa,[o(V,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:f[0]||(f[0]=N=>s.value=!0)},{default:k(()=>[o(B,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[o($,null,{default:k(()=>f[4]||(f[4]=[L("请选择对应的视频进行相应意思标注方便模型训练")])),_:1}),o($,null,{default:k(()=>f[5]||(f[5]=[L("标注字数请勿超过15字")])),_:1}),o($,null,{default:k(()=>f[6]||(f[6]=[L("如果想要更改标注可以左滑点击标记进行更改")])),_:1})]),_:1})]),_:1}),o(O,{active:a(d),"onUpdate:active":f[1]||(f[1]=N=>ce(d)?d.value=N:null)},{default:k(()=>[o(T,{title:"全部 "+e.videoList.length.toString(),name:"a"},{default:k(()=>[e.videoList.length?(_(),R("div",Ha,[o(C,{"finished-text":"没有更多了"},{default:k(()=>[(_(!0),R(Te,null,xe(e.videoList,(N,Y)=>(_(),j(S,{key:Y,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(b,{square:"",type:"danger",text:"删除",onClick:x=>g(N.title)},null,8,["onClick"]),o(b,{square:"",type:"primary",text:"标记",onClick:x=>v(N)},null,8,["onClick"])]),default:k(()=>[o(r,{icon:"video-o",border:!1,title:N.title,value:N.tag===!0?"已标记":"",onClick:x=>y(N)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})])):(_(),j(F,{key:1,description:"暂无视频"}))]),_:1},8,["title"]),o(T,{title:"已标记 "+e.isTagged.length.toString(),name:"b"},{default:k(()=>[e.isTagged.length?(_(),R("div",qa,[o(C,{"finished-text":"没有更多了"},{default:k(()=>[(_(!0),R(Te,null,xe(e.isTagged,(N,Y)=>(_(),j(S,{key:Y,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(b,{square:"",type:"danger",text:"删除",onClick:x=>g(N.title)},null,8,["onClick"]),o(b,{square:"",type:"primary",text:"标记",onClick:x=>v(N)},null,8,["onClick"])]),default:k(()=>[o(r,{icon:"video-o",border:!1,title:N.title,value:"已标记",onClick:x=>y(N)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(_(),j(F,{key:1,description:"暂无已标记视频"}))]),_:1},8,["title"]),o(T,{title:"未标记 "+e.noTagged.length.toString(),name:"c"},{default:k(()=>[e.noTagged.length?(_(),R("div",Ka,[o(C,{"finished-text":"没有更多了"},{default:k(()=>[(_(!0),R(Te,null,xe(e.noTagged,(N,Y)=>(_(),j(S,{key:Y,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[o(b,{square:"",type:"danger",text:"删除",onClick:x=>g(N.title)},null,8,["onClick"]),o(b,{square:"",type:"primary",text:"标记",onClick:x=>v(N)},null,8,["onClick"])]),default:k(()=>[o(r,{icon:"video-o",border:!1,title:N.title,onClick:x=>y(N)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(_(),j(F,{key:1,description:"暂无未标记视频"}))]),_:1},8,["title"])]),_:1},8,["active"]),o(K,{show:a(s),"onUpdate:show":f[2]||(f[2]=N=>ce(s)?s.value=N:null),position:"bottom",style:{height:"30%"},closeable:""},{default:k(()=>[o(M,null,{default:k(()=>f[7]||(f[7]=[w("span",{style:{color:"black","font-size":"large"}},"标注事宜",-1)])),_:1}),w("div",Ya,[w("ul",null,[w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[8]||(f[8]=L(" 请选择对应的视频进行相应意思标注方便模型训练 "))]),w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[9]||(f[9]=L(" 标注字数请勿超过15字 "))]),w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[10]||(f[10]=L(" 如果想要更改标注可以右滑点击标记进行更改 "))])])])]),_:1},8,["show"])])):(_(),R("div",Xa,[w("h2",Za,[o(A,null,{default:k(()=>[o(ae)]),_:1}),f[11]||(f[11]=L(" 标注事宜 "))]),w("div",Ga,[w("ul",null,[w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[12]||(f[12]=L(" 请选择对应的视频进行相应的意思标注方便模型训练 "))]),w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[13]||(f[13]=L(" 标注字数请勿超过15字 "))]),w("li",null,[o(A,null,{default:k(()=>[o(W)]),_:1}),f[14]||(f[14]=L(" 如果想要更改标注可以点击视频标签上的标识图案 "))])])]),o(ye,{modelValue:a(c),"onUpdate:modelValue":f[3]||(f[3]=N=>ce(c)?c.value=N:null)},{default:k(()=>[o(J,{label:"全部 "+e.videoList.length,name:"all"},{default:k(()=>[w("div",Ja,[(_(!0),R(Te,null,xe(a(m),(N,Y)=>(_(),R("div",{key:Y,class:D(["videoinf",{actived:a(h)===N}]),onClick:x=>y(N),onMouseenter:x=>a(t)[Y]=!0,onMouseleave:x=>a(t)[Y]=!1},[w("span",null,ne(N.title),1),Ae(w("span",{onClick:je(x=>g(N.title),["stop"]),class:"right"},f[15]||(f[15]=[w("i",{class:"iconfont icon-shanchu"},null,-1)]),8,es),[[Ue,a(t)[Y]]]),N.tag===!0?(_(),j(ee,{key:0,class:"box-item",effect:"dark",content:N.number,placement:"top"},{default:k(()=>[N.tag===!0?(_(),R("span",{key:0,onClick:x=>v(N),class:"right"},f[16]||(f[16]=[w("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,ts)):X("",!0)]),_:2},1032,["content"])):X("",!0)],42,Qa))),128)),e.videoList.length===0?(_(),j(Q,{key:0,description:"暂无视频"})):X("",!0)])]),_:1},8,["label"]),o(J,{label:"已标记 "+e.isTagged.length,name:"tagged"},{default:k(()=>[w("div",ns,[(_(!0),R(Te,null,xe(a(m),(N,Y)=>(_(),R("div",{key:Y,class:D(["videoinf",{actived:a(h)===N}]),onClick:x=>y(N),onMouseenter:x=>a(t)[Y]=!0,onMouseleave:x=>a(t)[Y]=!1},[w("span",null,ne(N.title),1),Ae(w("span",{onClick:je(x=>g(N.title),["stop"]),class:"right"},f[17]||(f[17]=[w("i",{class:"iconfont icon-shanchu"},null,-1)]),8,ls),[[Ue,a(t)[Y]]]),o(ee,{class:"box-item",effect:"dark",content:N.number,placement:"top"},{default:k(()=>[w("span",{onClick:je(x=>v(N),["stop"]),class:"right"},f[18]||(f[18]=[w("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,as)]),_:2},1032,["content"])],42,os))),128)),e.isTagged.length===0?(_(),j(Q,{key:0,description:"暂无已标记视频"})):X("",!0)])]),_:1},8,["label"]),o(J,{label:"未标记 "+e.noTagged.length,name:"noTagged"},{default:k(()=>[w("div",ss,[(_(!0),R(Te,null,xe(a(m),(N,Y)=>(_(),R("div",{key:Y,class:D(["videoinf",{actived:a(h)===N}]),onClick:x=>y(N),onMouseenter:x=>a(t)[Y]=!0,onMouseleave:x=>a(t)[Y]=!1},[w("span",null,ne(N.title),1),Ae(w("span",{onClick:je(x=>g(N.title),["stop"]),class:"right"},f[19]||(f[19]=[w("i",{class:"iconfont icon-shanchu"},null,-1)]),8,rs),[[Ue,a(t)[Y]]])],42,is))),128)),e.noTagged.length===0?(_(),j(Q,{key:0,description:"暂无未标记视频"})):X("",!0)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]))}}},Gt=Me(cs,[["__scopeId","data-v-42440c0c"]]),us={key:0},ds={style:{color:"black"}},vs={style:{display:"flex","justify-content":"center",gap:"30px","margin-top":"8vh"}},fs={key:1,class:"tagbody"},ps={class:"common-layout"},ms={key:0},bs={key:1},gs={style:{margin:"10px 0"}},hs={class:"dialog-footer"},_s="/api",ys={__name:"Tag",setup(e){const n=I([]),s=I(null),l=I(!1),i=I({}),t=I(1),c=I(""),d=ct(),h=E(()=>Ne()),p=E(()=>n.value.filter(r=>r.tag===!0)),m=E(()=>n.value.filter(r=>r.tag===!1)),v=()=>{Oe.video.getAllVideos({params:{modelId:d.processedModel.id}}).then(r=>{r.code==="200"&&Array.isArray(r.data)?n.value=r.data:(console.error("视频列表加载失败:",r.msg),te(r.msg))}).catch(r=>{console.log(r.message),te("加载视频列表失败")})},g=r=>{Oe.video.getSelectVideo({params:{videoTitle:r.title}}).then(b=>{b.code==="200"?s.value=_s+b.url:(console.log(b.msg),te(b.msg))}).catch(b=>{console.log(b.message),te("视频展示出错")})},y=r=>{i.value=r,t.value=0,i.value.tag?c.value=i.value.number:c.value="",l.value=!0},u=()=>{i.value?i.value.tag===!0?y(i.value):(c.value="",l.value=!0,t.value=1):at("请先选择要操作的视频")},f=r=>{i.value=r},$=()=>{if(c.value===""||c.value.length>15){at("输入的标识字数需要大于0且小于15");return}let r={...i.value};r.tag=!0,r.number=c.value,Oe.video.updateVideoTag(r).then(b=>{b.code==="200"?(i.value.tag=!0,i.value.number=c.value,Le("标注成功"),l.value=!1):te("标注失败")}).catch(b=>{console.log(b),te("标注失败")})},B=r=>{kt("视频").then(()=>{Oe.video.deleteVideo({params:{videoTitle:r}}).then(b=>{b.code==="200"?(Le("删除成功"),i.value={},n.value=n.value.filter(S=>S.title!==r)):(console.log(b.msg),te("删除失败"))}).catch(b=>{console.log(b),te("删除失败")})})},V=()=>{if(!i.value||i.value.tag===null)return;let r=i.value.title;kt("标识").then(()=>{Oe.video.deleteVideoTag({params:{videoTitle:r}}).then(b=>{b.code==="200"?(l.value=!1,Le("删除标识成功"),i.value.number="",i.value.tag=!1,v()):(console.log(b.msg),te("删除标识失败"))}).catch(b=>{console.log(b.message),te("删除标识失败")})})};return we(()=>{v(),ve.on("changeDialogVisible",y),ve.on("add",u),ve.on("touch",f),ve.on("deleteVideo",B)}),Ze(()=>{ve.off("deleteVideo",B),ve.off("changeDialogVisible",y),ve.off("add",u),ve.off("touch",f)}),(r,b)=>{const S=Qe,C=Ro,F=Io,T=It,O=Je,M=el,W=Rt,A=tl,K=Qo,ae=Co,ee=rt,Q=Bt;return a(h)?(_(),R("div",us,[o(Gt,{videoList:a(n),isTagged:a(p),noTagged:a(m),onVideoSelected:g},null,8,["videoList","isTagged","noTagged"]),o(O,{show:a(l),"onUpdate:show":b[2]||(b[2]=J=>ce(l)?l.value=J:null),position:"bottom",style:{height:"50%"},closeable:""},{default:k(()=>[o(S,null,{default:k(()=>[w("span",ds,ne(a(i).title),1)]),_:1}),o(F,{inset:"",style:{"margin-top":"10%"}},{default:k(()=>[o(C,{modelValue:a(c),"onUpdate:modelValue":b[0]||(b[0]=J=>ce(c)?c.value=J:null),rows:"2",autosize:"",label:"标注",type:"textarea",maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),w("div",vs,[o(T,{type:"warning",style:{width:"100px"},onClick:b[1]||(b[1]=J=>l.value=!1)},{default:k(()=>b[6]||(b[6]=[L("取消")])),_:1}),o(T,{type:"success",style:{width:"100px"},onClick:$},{default:k(()=>b[7]||(b[7]=[L("确认")])),_:1})])]),_:1},8,["show"]),o(Zt,{videoUrl:a(s),showObject:a(i)},null,8,["videoUrl","showObject"])])):(_(),R("div",fs,[w("div",ps,[o(K,null,{default:k(()=>[o(M,{width:"500px"},{default:k(()=>[o(Zt,{videoUrl:a(s),showObject:a(i)},null,8,["videoUrl","showObject"])]),_:1}),o(W,{style:{margin:"2% 3vw",height:"60vh"},direction:"vertical"}),o(K,null,{default:k(()=>[o(A,{style:{padding:"0"}},{default:k(()=>[o(Gt,{videoList:a(n),isTagged:a(p),noTagged:a(m),onVideoSelected:g},null,8,["videoList","isTagged","noTagged"])]),_:1})]),_:1})]),_:1})]),o(Q,{modelValue:a(l),"onUpdate:modelValue":b[5]||(b[5]=J=>ce(l)?l.value=J:null),top:"30vh",width:"500",class:"diaglog",draggable:!0,"align-center":!0},{footer:k(()=>[w("div",hs,[a(i).tag===!0?(_(),j(ee,{key:0,type:"danger",onClick:V},{default:k(()=>b[8]||(b[8]=[L("删除标签")])),_:1})):X("",!0),o(ee,{onClick:b[4]||(b[4]=J=>l.value=!1)},{default:k(()=>b[9]||(b[9]=[L("取消")])),_:1}),o(ee,{type:"primary",onClick:$},{default:k(()=>b[10]||(b[10]=[L("确认")])),_:1})])]),default:k(()=>[a(t)===1?(_(),R("h2",ms,"新增注解")):X("",!0),a(t)===0?(_(),R("h2",bs,"更改注解")):X("",!0),w("h3",gs,ne(a(i).title),1),w("div",null,[o(ae,{type:"text",modelValue:a(c),"onUpdate:modelValue":b[3]||(b[3]=J=>ce(c)?c.value=J:null),placeholder:"请输入标注（字数小于15）"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]))}}},Jt=Me(ys,[["__scopeId","data-v-e7992919"]]),ks={key:0},ws={class:"header",style:{"margin-top":"10vh"}},$s={key:1},Cs={class:"header"},Ss={key:0,class:"progress-icon-container"},Ts={__name:"Infer",setup(e){const n=I(!1),s=I(!1),l=I(0),i=I(!1),t=E(()=>Ne()),c=ct(),d=()=>{i.value=!0,n.value=!0,s.value=!0,h()},h=()=>{Po.trainModel({params:{modelid:c.processedModel.id}}).then(v=>{if(v.code==="200")l.value+=4;else{te("训练失败");return}}).catch(v=>{console.log(v),te("训练失败")});let p=0;const m=setInterval(()=>{p>=24?(l.value===100&&(i.value=!1,Le("训练成功")),clearInterval(m)):(l.value+=4,p++)},100)};return(p,m)=>{const v=rt,g=ua,y=sl;return a(t)?(_(),R("div",ks,[w("div",ws,[w("span",null,"模型训练 "+ne(a(l))+"%",1),o(v,{type:"success",onClick:d,disabled:a(i)},{default:k(()=>m[0]||(m[0]=[L("开始训练")])),_:1},8,["disabled"])]),o(g,{percentage:a(l),"stroke-width":"8",color:"lightgreen",style:{width:"80%",transition:"width 1s ease",margin:"auto"}},null,8,["percentage"])])):(_(),R("div",$s,[w("div",Cs,[w("span",null,"模型训练 "+ne(a(l))+"%",1),o(v,{type:"success",onClick:d,disabled:a(i)},{default:k(()=>m[1]||(m[1]=[L("开始训练")])),_:1},8,["disabled"])]),a(s)?(_(),R("div",Ss,[o(y,{percentage:a(l),"stroke-width":15,status:"success",striped:"","striped-flow":a(l)<100,duration:10,style:{width:"90%",transition:"width 1s ease"}},null,8,["percentage","striped-flow"])])):X("",!0)]))}}},Qt=Me(Ts,[["__scopeId","data-v-e2e19559"]]),xs={key:0},Es={style:{height:"76vh","overflow-y":"auto","overflow-x":"hidden"}},Ps={key:1},Is={style:{"font-size":"1.2rem"}},Rs={class:"step"},Bs={__name:"NewModels",setup(e){const n=I(0),s=ct(),l=E(()=>Ne()),i=E(()=>s.processedModel.name),t=So(),c=I({x:300,y:400}),d=()=>{n.value=(n.value+1)%3};return(h,p)=>{const m=xo,v=ma,g=ba,y=sa,u=Lo,f=Do,$=bl,B=ml,V=To;return a(l)?(_(),R("div",xs,[o(m,{title:a(i),"left-arrow":"",onClickLeft:p[0]||(p[0]=r=>a(t).go(-1))},null,8,["title"]),o(g,{active:a(n)},{default:k(()=>[o(v,{onClick:p[1]||(p[1]=r=>n.value=0)},{default:k(()=>p[8]||(p[8]=[L("数据采集")])),_:1}),o(v,{onClick:p[2]||(p[2]=r=>n.value=1)},{default:k(()=>p[9]||(p[9]=[L("语料定义")])),_:1}),o(v,{onClick:p[3]||(p[3]=r=>n.value=2)},{default:k(()=>p[10]||(p[10]=[L("模型训练")])),_:1})]),_:1},8,["active"]),o(y,{axis:"xy",icon:"arrow",magnetic:"x",onClick:d,offset:a(c),"onUpdate:offset":p[4]||(p[4]=r=>ce(c)?c.value=r:null)},null,8,["offset"]),w("div",Es,[(_(),j(Dt,null,[a(n)===0?(_(),j(Xt,{key:0})):a(n)===1?(_(),j(Jt,{key:1})):(_(),j(Qt,{key:2}))],1024))])])):(_(),R("div",Ps,[o(f,{"separator-icon":a(an)},{default:k(()=>[o(u,{to:{path:"/implents/models/myModels"}},{default:k(()=>p[11]||(p[11]=[L("我的模型")])),_:1}),o(u,null,{default:k(()=>[w("span",Is,ne(a(i)),1)]),_:1})]),_:1},8,["separator-icon"]),o(V,{class:"models-body"},{header:k(()=>[w("div",Rs,[o(B,{active:a(n),"align-center":""},{default:k(()=>[o($,{title:"数据采集",class:"step-item",onClick:p[5]||(p[5]=r=>n.value=0)}),o($,{title:"语料定义",class:"step-item",onClick:p[6]||(p[6]=r=>n.value=1)}),o($,{title:"模型训练",class:"step-item",onClick:p[7]||(p[7]=r=>n.value=2)})]),_:1},8,["active"])])]),default:k(()=>[(_(),j(Dt,null,[a(n)===0?(_(),j(Xt,{key:0})):a(n)===1?(_(),j(Jt,{key:1})):(_(),j(Qt,{key:2}))],1024))]),_:1})]))}}},zs=Me(Bs,[["__scopeId","data-v-07925301"]]);export{zs as default};
