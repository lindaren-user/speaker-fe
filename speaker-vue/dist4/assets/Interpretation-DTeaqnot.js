import{co as Wt,m as He,q as Ut,T as vt,aT as Q,aM as Ie,C as Re,aW as te,cp as re,bK as be,aU as Ge,aV as qe,H as Ke,I as ce,bB as Ct,K as Pe,r as P,N as Qe,aZ as Ze,b as T,aX as $e,J as et,aY as It,L as ne,Y as he,$ as Kt,c as B,o as p,aF as mt,a9 as j,f as k,e as t,cq as Ce,R as H,Q as ye,w as I,a8 as Y,az as Yt,cr as Xt,aD as se,cs as jt,bO as Dt,ct as Ht,b2 as Te,E as Tt,U as xe,X as tt,z as Ve,cu as qt,ae as nt,y as Ne,D as we,cv as Nt,V as Mt,cw as Ue,a2 as ge,at as ve,O as Je,a as z,ac as ae,aE as xt,ab as pe,aC as Jt,bC as ee,b0 as Bt,M as Gt,a1 as ze,bk as Ye,A as Oe,aI as Ae,cx as Qt,a6 as Zt,aa as Ee,cy as en,cz as ft,_ as at,d as lt,bh as tn,g as nn,b3 as ue,B as an,bj as ln,j as ot,i as ie,bp as on,k as oe,bq as pt,S as Rt,cA as sn,cB as rn,aB as st,cC as Pt,cD as me,aK as it,Z as un,h as Me,c0 as cn,cE as dn,bi as vn,aQ as mn}from"./index-W0IEFz95.js";import{N as fn,C as bt,b as gt,f as Lt,c as pn,T as bn}from"./index-D9n3MFKJ.js";import{a as $t,S as gn,b as hn,E as zt,D as yn}from"./index-u__Q2BrB.js";import{C as wn}from"./index-Cvs2uSQ1.js";import"./el-tooltip-l0sNRNKZ.js";import{yiyu as Fe}from"https://avatar.gbqr.net/yiyu.js";var Vn=/\s/;function _n(e){for(var n=e.length;n--&&Vn.test(e.charAt(n)););return n}var Sn=/^\s+/;function kn(e){return e&&e.slice(0,_n(e)+1).replace(Sn,"")}var ht=NaN,En=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,In=/^0o[0-7]+$/i,Tn=parseInt;function yt(e){if(typeof e=="number")return e;if(Wt(e))return ht;if(He(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=He(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=kn(e);var l=Cn.test(e);return l||In.test(e)?Tn(e.slice(2),l?2:8):En.test(e)?ht:+e}var Xe=function(){return Ut.Date.now()},Nn="Expected a function",Mn=Math.max,xn=Math.min;function wt(e,n,l){var a,v,i,s,o,c,u=0,m=!1,f=!1,b=!0;if(typeof e!="function")throw new TypeError(Nn);n=yt(n)||0,He(l)&&(m=!!l.leading,f="maxWait"in l,i=f?Mn(yt(l.maxWait)||0,n):i,b="trailing"in l?!!l.trailing:b);function N(g){var K=a,q=v;return a=v=void 0,u=g,s=e.apply(q,K),s}function M(g){return u=g,o=setTimeout(E,n),m?N(g):s}function O(g){var K=g-c,q=g-u,D=n-K;return f?xn(D,i-q):D}function R(g){var K=g-c,q=g-u;return c===void 0||K>=n||K<0||f&&q>=i}function E(){var g=Xe();if(R(g))return h(g);o=setTimeout(E,O(g))}function h(g){return o=void 0,b&&a?N(g):(a=v=void 0,s)}function C(){o!==void 0&&clearTimeout(o),u=0,a=c=v=o=void 0}function w(){return o===void 0?s:h(Xe())}function d(){var g=Xe(),K=R(g);if(a=arguments,v=this,c=g,K){if(o===void 0)return M(c);if(f)return clearTimeout(o),o=setTimeout(E,n),N(c)}return o===void 0&&(o=setTimeout(E,n)),s}return d.cancel=C,d.flush=w,d}const Bn=100,Rn=600,Vt={beforeMount(e,n){const l=n.value,{interval:a=Bn,delay:v=Rn}=vt(l)?{}:l;let i,s;const o=()=>vt(l)?l():l.handler(),c=()=>{s&&(clearTimeout(s),s=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(c(),o(),document.addEventListener("mouseup",()=>c(),{once:!0}),s=setTimeout(()=>{i=setInterval(()=>{o()},a)},v))})}},Pn=Re({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:qe,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Q(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Ge(["ariaLabel"])}),Ln={[be]:(e,n)=>n!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[re]:e=>Q(e)||Ie(e),[te]:e=>Q(e)||Ie(e)},$n=ce({name:"ElInputNumber"}),zn=ce({...$n,props:Pn,emits:Ln,setup(e,{expose:n,emit:l}){const a=e,{t:v}=Ct(),i=Pe("input-number"),s=P(),o=Qe({currentValue:a.modelValue,userInput:null}),{formItem:c}=Ze(),u=T(()=>Q(a.modelValue)&&a.modelValue<=a.min),m=T(()=>Q(a.modelValue)&&a.modelValue>=a.max),f=T(()=>{const r=E(a.step);return $e(a.precision)?Math.max(E(a.modelValue),r):(r>a.precision,a.precision)}),b=T(()=>a.controls&&a.controlsPosition==="right"),N=et(),M=It(),O=T(()=>{if(o.userInput!==null)return o.userInput;let r=o.currentValue;if(Ie(r))return"";if(Q(r)){if(Number.isNaN(r))return"";$e(a.precision)||(r=r.toFixed(a.precision))}return r}),R=(r,y)=>{if($e(y)&&(y=f.value),y===0)return Math.round(r);let x=String(r);const W=x.indexOf(".");if(W===-1||!x.replace(".","").split("")[W+y])return r;const U=x.length;return x.charAt(U-1)==="5"&&(x=`${x.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(x).toFixed(y))},E=r=>{if(Ie(r))return 0;const y=r.toString(),x=y.indexOf(".");let W=0;return x!==-1&&(W=y.length-x-1),W},h=(r,y=1)=>Q(r)?R(r+a.step*y):o.currentValue,C=()=>{if(a.readonly||M.value||m.value)return;const r=Number(O.value)||0,y=h(r);g(y),l(re,o.currentValue),A()},w=()=>{if(a.readonly||M.value||u.value)return;const r=Number(O.value)||0,y=h(r,-1);g(y),l(re,o.currentValue),A()},d=(r,y)=>{const{max:x,min:W,step:F,precision:X,stepStrictly:U,valueOnClear:Z}=a;x<W&&tt("InputNumber","min should not be greater than max.");let S=Number(r);if(Ie(r)||Number.isNaN(S))return null;if(r===""){if(Z===null)return null;S=Ve(Z)?{min:W,max:x}[Z]:Z}return U&&(S=R(Math.round(S/F)*F,X),S!==r&&y&&l(te,S)),$e(X)||(S=R(S,X)),(S>x||S<W)&&(S=S>x?x:W,y&&l(te,S)),S},g=(r,y=!0)=>{var x;const W=o.currentValue,F=d(r);if(!y){l(te,F);return}W===F&&r||(o.userInput=null,l(te,F),W!==F&&l(be,F,W),a.validateEvent&&((x=c==null?void 0:c.validate)==null||x.call(c,"change").catch(X=>xe())),o.currentValue=F)},K=r=>{o.userInput=r;const y=r===""?null:Number(r);l(re,y),g(y,!1)},q=r=>{const y=r!==""?Number(r):"";(Q(y)&&!Number.isNaN(y)||r==="")&&g(y),A(),o.userInput=null},D=()=>{var r,y;(y=(r=s.value)==null?void 0:r.focus)==null||y.call(r)},V=()=>{var r,y;(y=(r=s.value)==null?void 0:r.blur)==null||y.call(r)},G=r=>{l("focus",r)},_=r=>{var y,x;o.userInput=null,qt()&&o.currentValue===null&&((y=s.value)!=null&&y.input)&&(s.value.input.value=""),l("blur",r),a.validateEvent&&((x=c==null?void 0:c.validate)==null||x.call(c,"blur").catch(W=>xe()))},A=()=>{o.currentValue!==a.modelValue&&(o.currentValue=a.modelValue)},L=r=>{document.activeElement===r.target&&r.preventDefault()};return ne(()=>a.modelValue,(r,y)=>{const x=d(r,!0);o.userInput===null&&x!==y&&(o.currentValue=x)},{immediate:!0}),he(()=>{var r;const{min:y,max:x,modelValue:W}=a,F=(r=s.value)==null?void 0:r.input;if(F.setAttribute("role","spinbutton"),Number.isFinite(x)?F.setAttribute("aria-valuemax",String(x)):F.removeAttribute("aria-valuemax"),Number.isFinite(y)?F.setAttribute("aria-valuemin",String(y)):F.removeAttribute("aria-valuemin"),F.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),F.setAttribute("aria-disabled",String(M.value)),!Q(W)&&W!=null){let X=Number(W);Number.isNaN(X)&&(X=null),l(te,X)}F.addEventListener("wheel",L,{passive:!1})}),Kt(()=>{var r,y;const x=(r=s.value)==null?void 0:r.input;x==null||x.setAttribute("aria-valuenow",`${(y=o.currentValue)!=null?y:""}`)}),n({focus:D,blur:V}),(r,y)=>(p(),B("div",{class:H([t(i).b(),t(i).m(t(N)),t(i).is("disabled",t(M)),t(i).is("without-controls",!r.controls),t(i).is("controls-right",t(b))]),onDragstart:Te(()=>{},["prevent"])},[r.controls?mt((p(),B("span",{key:0,role:"button","aria-label":t(v)("el.inputNumber.decrease"),class:H([t(i).e("decrease"),t(i).is("disabled",t(u))]),onKeydown:Ce(w,["enter"])},[ye(r.$slots,"decrease-icon",{},()=>[k(t(se),null,{default:I(()=>[t(b)?(p(),Y(t(Yt),{key:0})):(p(),Y(t(Xt),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[t(Vt),w]]):j("v-if",!0),r.controls?mt((p(),B("span",{key:1,role:"button","aria-label":t(v)("el.inputNumber.increase"),class:H([t(i).e("increase"),t(i).is("disabled",t(m))]),onKeydown:Ce(C,["enter"])},[ye(r.$slots,"increase-icon",{},()=>[k(t(se),null,{default:I(()=>[t(b)?(p(),Y(t(jt),{key:0})):(p(),Y(t(Dt),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[t(Vt),C]]):j("v-if",!0),k(t(Tt),{id:r.id,ref_key:"input",ref:s,type:"number",step:r.step,"model-value":t(O),placeholder:r.placeholder,readonly:r.readonly,disabled:t(M),size:t(N),max:r.max,min:r.min,name:r.name,"aria-label":r.ariaLabel,"validate-event":!1,onKeydown:[Ce(Te(C,["prevent"]),["up"]),Ce(Te(w,["prevent"]),["down"])],onBlur:_,onFocus:G,onInput:K,onChange:q},Ht({_:2},[r.$slots.prefix?{name:"prefix",fn:I(()=>[ye(r.$slots,"prefix")])}:void 0,r.$slots.suffix?{name:"suffix",fn:I(()=>[ye(r.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var An=Ke(zn,[["__file","input-number.vue"]]);const Fn=nt(An),At=Symbol("sliderContextKey"),On=Re({modelValue:{type:we([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:qe,inputSize:qe,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:we(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:we(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Nt,default:"top"},marks:{type:we(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Ge(["ariaLabel"])}),je=e=>Q(e)||Ne(e)&&e.every(Q),Wn={[te]:je,[re]:je,[be]:je},Un=Re({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Nt,default:"top"}}),Kn={[te]:e=>Q(e)},Yn=(e,n,l)=>{const a=P(),v=P(!1),i=T(()=>n.value instanceof Function),s=T(()=>i.value&&n.value(e.modelValue)||e.modelValue),o=wt(()=>{l.value&&(v.value=!0)},50),c=wt(()=>{l.value&&(v.value=!1)},50);return{tooltip:a,tooltipVisible:v,formatValue:s,displayTooltip:o,hideTooltip:c}},Xn=(e,n,l)=>{const{disabled:a,min:v,max:i,step:s,showTooltip:o,persistent:c,precision:u,sliderSize:m,formatTooltip:f,emitChange:b,resetSize:N,updateDragging:M}=Mt(At),{tooltip:O,tooltipVisible:R,formatValue:E,displayTooltip:h,hideTooltip:C}=Yn(e,f,o),w=P(),d=T(()=>`${(e.modelValue-v.value)/(i.value-v.value)*100}%`),g=T(()=>e.vertical?{bottom:d.value}:{left:d.value}),K=()=>{n.hovering=!0,h()},q=()=>{n.hovering=!1,n.dragging||C()},D=S=>{a.value||(S.preventDefault(),F(S),window.addEventListener("mousemove",X),window.addEventListener("touchmove",X),window.addEventListener("mouseup",U),window.addEventListener("touchend",U),window.addEventListener("contextmenu",U),w.value.focus())},V=S=>{a.value||(n.newPosition=Number.parseFloat(d.value)+S/(i.value-v.value)*100,Z(n.newPosition),b())},G=()=>{V(-s.value)},_=()=>{V(s.value)},A=()=>{V(-s.value*4)},L=()=>{V(s.value*4)},r=()=>{a.value||(Z(0),b())},y=()=>{a.value||(Z(100),b())},x=S=>{let J=!0;switch(S.code){case ve.left:case ve.down:G();break;case ve.right:case ve.up:_();break;case ve.home:r();break;case ve.end:y();break;case ve.pageDown:A();break;case ve.pageUp:L();break;default:J=!1;break}J&&S.preventDefault()},W=S=>{let J,le;return S.type.startsWith("touch")?(le=S.touches[0].clientY,J=S.touches[0].clientX):(le=S.clientY,J=S.clientX),{clientX:J,clientY:le}},F=S=>{n.dragging=!0,n.isClick=!0;const{clientX:J,clientY:le}=W(S);e.vertical?n.startY=le:n.startX=J,n.startPosition=Number.parseFloat(d.value),n.newPosition=n.startPosition},X=S=>{if(n.dragging){n.isClick=!1,h(),N();let J;const{clientX:le,clientY:de}=W(S);e.vertical?(n.currentY=de,J=(n.startY-n.currentY)/m.value*100):(n.currentX=le,J=(n.currentX-n.startX)/m.value*100),n.newPosition=n.startPosition+J,Z(n.newPosition)}},U=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||C(),n.isClick||Z(n.newPosition),b()},0),window.removeEventListener("mousemove",X),window.removeEventListener("touchmove",X),window.removeEventListener("mouseup",U),window.removeEventListener("touchend",U),window.removeEventListener("contextmenu",U))},Z=async S=>{if(S===null||Number.isNaN(+S))return;S<0?S=0:S>100&&(S=100);const J=100/((i.value-v.value)/s.value);let de=Math.round(S/J)*J*(i.value-v.value)*.01+v.value;de=Number.parseFloat(de.toFixed(u.value)),de!==e.modelValue&&l(te,de),!n.dragging&&e.modelValue!==n.oldValue&&(n.oldValue=e.modelValue),await ge(),n.dragging&&h(),O.value.updatePopper()};return ne(()=>n.dragging,S=>{M(S)}),Ue(w,"touchstart",D,{passive:!1}),{disabled:a,button:w,tooltip:O,tooltipVisible:R,showTooltip:o,persistent:c,wrapperStyle:g,formatValue:E,handleMouseEnter:K,handleMouseLeave:q,onButtonDown:D,onKeyDown:x,setPosition:Z}},jn=ce({name:"ElSliderButton"}),Dn=ce({...jn,props:Un,emits:Kn,setup(e,{expose:n,emit:l}){const a=e,v=Pe("slider"),i=Qe({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:a.modelValue}),s=T(()=>m.value?f.value:!1),{disabled:o,button:c,tooltip:u,showTooltip:m,persistent:f,tooltipVisible:b,wrapperStyle:N,formatValue:M,handleMouseEnter:O,handleMouseLeave:R,onButtonDown:E,onKeyDown:h,setPosition:C}=Xn(a,i,l),{hovering:w,dragging:d}=Je(i);return n({onButtonDown:E,onKeyDown:h,setPosition:C,hovering:w,dragging:d}),(g,K)=>(p(),B("div",{ref_key:"button",ref:c,class:H([t(v).e("button-wrapper"),{hover:t(w),dragging:t(d)}]),style:pe(t(N)),tabindex:t(o)?-1:0,onMouseenter:t(O),onMouseleave:t(R),onMousedown:t(E),onFocus:t(O),onBlur:t(R),onKeydown:t(h)},[k(t(xt),{ref_key:"tooltip",ref:u,visible:t(b),placement:g.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":g.tooltipClass,disabled:!t(m),persistent:t(s)},{content:I(()=>[z("span",null,ae(t(M)),1)]),default:I(()=>[z("div",{class:H([t(v).e("button"),{hover:t(w),dragging:t(d)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var _t=Ke(Dn,[["__file","button.vue"]]);const Hn=Re({mark:{type:we([String,Object]),default:void 0}});var qn=ce({name:"ElSliderMarker",props:Hn,setup(e){const n=Pe("slider"),l=T(()=>Ve(e.mark)?e.mark:e.mark.label),a=T(()=>Ve(e.mark)?void 0:e.mark.style);return()=>Jt("div",{class:n.e("marks-text"),style:a.value},l.value)}});const Jn=(e,n,l)=>{const{form:a,formItem:v}=Ze(),i=ee(),s=P(),o=P(),c={firstButton:s,secondButton:o},u=T(()=>e.disabled||(a==null?void 0:a.disabled)||!1),m=T(()=>Math.min(n.firstValue,n.secondValue)),f=T(()=>Math.max(n.firstValue,n.secondValue)),b=T(()=>e.range?`${100*(f.value-m.value)/(e.max-e.min)}%`:`${100*(n.firstValue-e.min)/(e.max-e.min)}%`),N=T(()=>e.range?`${100*(m.value-e.min)/(e.max-e.min)}%`:"0%"),M=T(()=>e.vertical?{height:e.height}:{}),O=T(()=>e.vertical?{height:b.value,bottom:N.value}:{width:b.value,left:N.value}),R=()=>{i.value&&(n.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},E=_=>{const A=e.min+_*(e.max-e.min)/100;if(!e.range)return s;let L;return Math.abs(m.value-A)<Math.abs(f.value-A)?L=n.firstValue<n.secondValue?"firstButton":"secondButton":L=n.firstValue>n.secondValue?"firstButton":"secondButton",c[L]},h=_=>{const A=E(_);return A.value.setPosition(_),A},C=_=>{n.firstValue=_??e.min,d(e.range?[m.value,f.value]:_??e.min)},w=_=>{n.secondValue=_,e.range&&d([m.value,f.value])},d=_=>{l(te,_),l(re,_)},g=async()=>{await ge(),l(be,e.range?[m.value,f.value]:e.modelValue)},K=_=>{var A,L,r,y,x,W;if(u.value||n.dragging)return;R();let F=0;if(e.vertical){const X=(r=(L=(A=_.touches)==null?void 0:A.item(0))==null?void 0:L.clientY)!=null?r:_.clientY;F=(i.value.getBoundingClientRect().bottom-X)/n.sliderSize*100}else{const X=(W=(x=(y=_.touches)==null?void 0:y.item(0))==null?void 0:x.clientX)!=null?W:_.clientX,U=i.value.getBoundingClientRect().left;F=(X-U)/n.sliderSize*100}if(!(F<0||F>100))return h(F)};return{elFormItem:v,slider:i,firstButton:s,secondButton:o,sliderDisabled:u,minValue:m,maxValue:f,runwayStyle:M,barStyle:O,resetSize:R,setPosition:h,emitChange:g,onSliderWrapperPrevent:_=>{var A,L;((A=c.firstButton.value)!=null&&A.dragging||(L=c.secondButton.value)!=null&&L.dragging)&&_.preventDefault()},onSliderClick:_=>{K(_)&&g()},onSliderDown:async _=>{const A=K(_);A&&(await ge(),A.value.onButtonDown(_))},onSliderMarkerDown:_=>{u.value||n.dragging||h(_)},setFirstValue:C,setSecondValue:w}},Gn=(e,n,l,a)=>({stops:T(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),c=Array.from({length:s-1}).map((u,m)=>(m+1)*o);return e.range?c.filter(u=>u<100*(l.value-e.min)/(e.max-e.min)||u>100*(a.value-e.min)/(e.max-e.min)):c.filter(u=>u>100*(n.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),Qn=e=>T(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((l,a)=>l-a).filter(l=>l<=e.max&&l>=e.min).map(l=>({point:l,position:(l-e.min)*100/(e.max-e.min),mark:e.marks[l]})):[]),Zn=(e,n,l,a,v,i)=>{const s=u=>{v(te,u),v(re,u)},o=()=>e.range?![l.value,a.value].every((u,m)=>u===n.oldValue[m]):e.modelValue!==n.oldValue,c=()=>{var u,m;e.min>e.max&&tt("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Ne(f)?f[1]<e.min?s([e.min,e.min]):f[0]>e.max?s([e.max,e.max]):f[0]<e.min?s([e.min,f[1]]):f[1]>e.max?s([f[0],e.max]):(n.firstValue=f[0],n.secondValue=f[1],o()&&(e.validateEvent&&((u=i==null?void 0:i.validate)==null||u.call(i,"change").catch(b=>xe())),n.oldValue=f.slice())):!e.range&&Q(f)&&!Number.isNaN(f)&&(f<e.min?s(e.min):f>e.max?s(e.max):(n.firstValue=f,o()&&(e.validateEvent&&((m=i==null?void 0:i.validate)==null||m.call(i,"change").catch(b=>xe())),n.oldValue=f)))};c(),ne(()=>n.dragging,u=>{u||c()}),ne(()=>e.modelValue,(u,m)=>{n.dragging||Ne(u)&&Ne(m)&&u.every((f,b)=>f===m[b])&&n.firstValue===u[0]&&n.secondValue===u[1]||c()},{deep:!0}),ne(()=>[e.min,e.max],()=>{c()})},ea=(e,n,l)=>{const a=P();return he(async()=>{e.range?(Ne(e.modelValue)?(n.firstValue=Math.max(e.min,e.modelValue[0]),n.secondValue=Math.min(e.max,e.modelValue[1])):(n.firstValue=e.min,n.secondValue=e.max),n.oldValue=[n.firstValue,n.secondValue]):(!Q(e.modelValue)||Number.isNaN(e.modelValue)?n.firstValue=e.min:n.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),n.oldValue=n.firstValue),Ue(window,"resize",l),await ge(),l()}),{sliderWrapper:a}},ta=ce({name:"ElSlider"}),na=ce({...ta,props:On,emits:Wn,setup(e,{expose:n,emit:l}){const a=e,v=Pe("slider"),{t:i}=Ct(),s=Qe({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:c,firstButton:u,secondButton:m,sliderDisabled:f,minValue:b,maxValue:N,runwayStyle:M,barStyle:O,resetSize:R,emitChange:E,onSliderWrapperPrevent:h,onSliderClick:C,onSliderDown:w,onSliderMarkerDown:d,setFirstValue:g,setSecondValue:K}=Jn(a,s,l),{stops:q,getStopStyle:D}=Gn(a,s,b,N),{inputId:V,isLabeledByFormItem:G}=Bt(a,{formItemContext:o}),_=et(),A=T(()=>a.inputSize||_.value),L=T(()=>a.ariaLabel||i("el.slider.defaultLabel",{min:a.min,max:a.max})),r=T(()=>a.range?a.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):L.value),y=T(()=>a.formatValueText?a.formatValueText(S.value):`${S.value}`),x=T(()=>a.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),W=T(()=>a.formatValueText?a.formatValueText(J.value):`${J.value}`),F=T(()=>[v.b(),v.m(_.value),v.is("vertical",a.vertical),{[v.m("with-input")]:a.showInput}]),X=Qn(a);Zn(a,s,b,N,l,o);const U=T(()=>{const $=[a.min,a.max,a.step].map(ct=>{const Se=`${ct}`.split(".")[1];return Se?Se.length:0});return Math.max.apply(null,$)}),{sliderWrapper:Z}=ea(a,s,R),{firstValue:S,secondValue:J,sliderSize:le}=Je(s),de=$=>{s.dragging=$};return Ue(Z,"touchstart",h,{passive:!1}),Ue(Z,"touchmove",h,{passive:!1}),Gt(At,{...Je(a),sliderSize:le,disabled:f,precision:U,emitChange:E,resetSize:R,updateDragging:de}),n({onSliderClick:C}),($,ct)=>{var Se,dt;return p(),B("div",{id:$.range?t(V):void 0,ref_key:"sliderWrapper",ref:Z,class:H(t(F)),role:$.range?"group":void 0,"aria-label":$.range&&!t(G)?t(L):void 0,"aria-labelledby":$.range&&t(G)?(Se=t(o))==null?void 0:Se.labelId:void 0},[z("div",{ref_key:"slider",ref:c,class:H([t(v).e("runway"),{"show-input":$.showInput&&!$.range},t(v).is("disabled",t(f))]),style:pe(t(M)),onMousedown:t(w),onTouchstartPassive:t(w)},[z("div",{class:H(t(v).e("bar")),style:pe(t(O))},null,6),k(_t,{id:$.range?void 0:t(V),ref_key:"firstButton",ref:u,"model-value":t(S),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":$.range||!t(G)?t(r):void 0,"aria-labelledby":!$.range&&t(G)?(dt=t(o))==null?void 0:dt.labelId:void 0,"aria-valuemin":$.min,"aria-valuemax":$.range?t(J):$.max,"aria-valuenow":t(S),"aria-valuetext":t(y),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":t(f),"onUpdate:modelValue":t(g)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),$.range?(p(),Y(_t,{key:0,ref_key:"secondButton",ref:m,"model-value":t(J),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":t(x),"aria-valuemin":t(S),"aria-valuemax":$.max,"aria-valuenow":t(J),"aria-valuetext":t(W),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":t(f),"onUpdate:modelValue":t(K)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):j("v-if",!0),$.showStops?(p(),B("div",{key:1},[(p(!0),B(ze,null,Ye(t(q),(fe,ke)=>(p(),B("div",{key:ke,class:H(t(v).e("stop")),style:pe(t(D)(fe))},null,6))),128))])):j("v-if",!0),t(X).length>0?(p(),B(ze,{key:2},[z("div",null,[(p(!0),B(ze,null,Ye(t(X),(fe,ke)=>(p(),B("div",{key:ke,style:pe(t(D)(fe.position)),class:H([t(v).e("stop"),t(v).e("marks-stop")])},null,6))),128))]),z("div",{class:H(t(v).e("marks"))},[(p(!0),B(ze,null,Ye(t(X),(fe,ke)=>(p(),Y(t(qn),{key:ke,mark:fe.mark,style:pe(t(D)(fe.position)),onMousedown:Te(vl=>t(d)(fe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):j("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),$.showInput&&!$.range?(p(),Y(t(Fn),{key:0,ref:"input","model-value":t(S),class:H(t(v).e("input")),step:$.step,disabled:t(f),controls:$.showInputControls,min:$.min,max:$.max,precision:t(U),debounce:$.debounce,size:t(A),"onUpdate:modelValue":t(g),onChange:t(E)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):j("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var aa=Ke(na,[["__file","slider.vue"]]);const la=nt(aa),oa=Re({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Qt},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Ae},activeActionIcon:{type:Ae},activeIcon:{type:Ae},inactiveIcon:{type:Ae},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:we(Function)},id:String,tabindex:{type:[String,Number]},...Ge(["ariaLabel"])}),sa={[te]:e=>Oe(e)||Ve(e)||Q(e),[be]:e=>Oe(e)||Ve(e)||Q(e),[re]:e=>Oe(e)||Ve(e)||Q(e)},Ft="ElSwitch",ia=ce({name:Ft}),ra=ce({...ia,props:oa,emits:sa,setup(e,{expose:n,emit:l}){const a=e,{formItem:v}=Ze(),i=et(),s=Pe("switch"),{inputId:o}=Bt(a,{formItemContext:v}),c=It(T(()=>a.loading)),u=P(a.modelValue!==!1),m=P(),f=P(),b=T(()=>[s.b(),s.m(i.value),s.is("disabled",c.value),s.is("checked",E.value)]),N=T(()=>[s.e("label"),s.em("label","left"),s.is("active",!E.value)]),M=T(()=>[s.e("label"),s.em("label","right"),s.is("active",E.value)]),O=T(()=>({width:Zt(a.width)}));ne(()=>a.modelValue,()=>{u.value=!0});const R=T(()=>u.value?a.modelValue:!1),E=T(()=>R.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(R.value)||(l(te,a.inactiveValue),l(be,a.inactiveValue),l(re,a.inactiveValue)),ne(E,d=>{var g;m.value.checked=d,a.validateEvent&&((g=v==null?void 0:v.validate)==null||g.call(v,"change").catch(K=>xe()))});const h=()=>{const d=E.value?a.inactiveValue:a.activeValue;l(te,d),l(be,d),l(re,d),ge(()=>{m.value.checked=E.value})},C=()=>{if(c.value)return;const{beforeChange:d}=a;if(!d){h();return}const g=d();[ft(g),Oe(g)].includes(!0)||tt(Ft,"beforeChange must return type `Promise<boolean>` or `boolean`"),ft(g)?g.then(q=>{q&&h()}).catch(q=>{}):g&&h()},w=()=>{var d,g;(g=(d=m.value)==null?void 0:d.focus)==null||g.call(d)};return he(()=>{m.value.checked=E.value}),n({focus:w,checked:E}),(d,g)=>(p(),B("div",{class:H(t(b)),onClick:Te(C,["prevent"])},[z("input",{id:t(o),ref_key:"input",ref:m,class:H(t(s).e("input")),type:"checkbox",role:"switch","aria-checked":t(E),"aria-disabled":t(c),"aria-label":d.ariaLabel,name:d.name,"true-value":d.activeValue,"false-value":d.inactiveValue,disabled:t(c),tabindex:d.tabindex,onChange:h,onKeydown:Ce(C,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!d.inlinePrompt&&(d.inactiveIcon||d.inactiveText)?(p(),B("span",{key:0,class:H(t(N))},[d.inactiveIcon?(p(),Y(t(se),{key:0},{default:I(()=>[(p(),Y(Ee(d.inactiveIcon)))]),_:1})):j("v-if",!0),!d.inactiveIcon&&d.inactiveText?(p(),B("span",{key:1,"aria-hidden":t(E)},ae(d.inactiveText),9,["aria-hidden"])):j("v-if",!0)],2)):j("v-if",!0),z("span",{ref_key:"core",ref:f,class:H(t(s).e("core")),style:pe(t(O))},[d.inlinePrompt?(p(),B("div",{key:0,class:H(t(s).e("inner"))},[d.activeIcon||d.inactiveIcon?(p(),Y(t(se),{key:0,class:H(t(s).is("icon"))},{default:I(()=>[(p(),Y(Ee(t(E)?d.activeIcon:d.inactiveIcon)))]),_:1},8,["class"])):d.activeText||d.inactiveText?(p(),B("span",{key:1,class:H(t(s).is("text")),"aria-hidden":!t(E)},ae(t(E)?d.activeText:d.inactiveText),11,["aria-hidden"])):j("v-if",!0)],2)):j("v-if",!0),z("div",{class:H(t(s).e("action"))},[d.loading?(p(),Y(t(se),{key:0,class:H(t(s).is("loading"))},{default:I(()=>[k(t(en))]),_:1},8,["class"])):t(E)?ye(d.$slots,"active-action",{key:1},()=>[d.activeActionIcon?(p(),Y(t(se),{key:0},{default:I(()=>[(p(),Y(Ee(d.activeActionIcon)))]),_:1})):j("v-if",!0)]):t(E)?j("v-if",!0):ye(d.$slots,"inactive-action",{key:2},()=>[d.inactiveActionIcon?(p(),Y(t(se),{key:0},{default:I(()=>[(p(),Y(Ee(d.inactiveActionIcon)))]),_:1})):j("v-if",!0)])],2)],6),!d.inlinePrompt&&(d.activeIcon||d.activeText)?(p(),B("span",{key:1,class:H(t(M))},[d.activeIcon?(p(),Y(t(se),{key:0},{default:I(()=>[(p(),Y(Ee(d.activeIcon)))]),_:1})):j("v-if",!0),!d.activeIcon&&d.activeText?(p(),B("span",{key:1,"aria-hidden":!t(E)},ae(d.activeText),9,["aria-hidden"])):j("v-if",!0)],2)):j("v-if",!0)],10,["onClick"]))}});var ua=Ke(ra,[["__file","switch.vue"]]);const ca=nt(ua),da={key:0},va={key:0},ma={key:1},fa={style:{border:"1px solid black",height:"20vh"}},pa={style:{border:"1px solid black",height:"40vh"}},ba=["src"],ga=["src"],ha={key:1,class:"body"},ya={class:"header"},wa={key:0},Va={key:1},_a={class:"video-show"},Sa=["src"],ka={key:1,class:"video-placeholder"},Ea={class:"btnCenter"},Ca={style:{height:"30px"}},Ia={key:0},Ta={key:1},Na={class:"video-show"},Ma={style:{height:"1.875rem"}},xa=["src"],Ba={key:1,class:"video-placeholder"},Ra="/api",Pa={__name:"Sign2Text",setup(e){const n=T(()=>lt()),l=P(null),a=P(!1),v=P(1),i=P(""),s=P(""),o=P(!1),c=P(""),u=tn(),m=nn(),f=P(!1),b=T(()=>u.usedModel&&u.usedModel.length!==0),N=P(!1),M=C=>{l.value={id:`video_${new Date().getTime()}${v.value++}`,file:C,isUploaded:!1,type:"file",timeStamp:new Date},i.value=URL.createObjectURL(C)},O=C=>{const w=Date.now(),d=new File([C],`${w}.avi`,{type:"video/x-msvideo"});M(d),a.value=!1},R=()=>{on("视频").then(()=>{URL.revokeObjectURL(i.value),i.value="",l.value=null})},E=()=>{if(!l.value){pt("请先选择视频");return}if(!b.value){pt("未选择模型"),N.value=!0,setTimeout(()=>{N.value=!1},2e3);return}o.value=!0;const C=new FormData;C.append("video",l.value.file),C.append("models",u.usedModel),Lt.video.uploadVideo(C).then(w=>{w.code==="200"?(Rt("上传成功"),s.value=Ra+w.data.url,c.value=w.data.result,console.log(s.value)):(console.log(w.msg),oe(w.msg))}).catch(w=>{console.error("上传失败:",l.value.id,w),oe("上传失败")}).finally(()=>o.value=!1)},h=C=>{switch(C.target.error.code){case C.target.error.MEDIA_ERR_ABORTED:oe("视频加载被中止");break;case C.target.error.MEDIA_ERR_NETWORK:oe("网络错误，无法加载视频");break;case C.target.error.MEDIA_ERR_DECODE:oe("视频解码错误，可能是格式不支持");break;case C.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:oe("视频格式不支持");break;default:oe("未知错误")}};return(C,w)=>{const d=fn,g=$t,K=wn,q=an,D=gn,V=ln,G=ot,_=hn,A=zt;return t(n)?(p(),B("div",da,[k(d,{color:"#1989fa",background:"#ecf9ff","left-icon":"info-o",mode:"link",onClick:w[0]||(w[0]=L=>t(m).push("/implents/models"))},{default:I(()=>[t(b)?(p(),B("span",va,"已选择"+ae(t(u).usedModel.length)+"个模型",1)):(p(),B("span",ma,"没有选择模型"))]),_:1}),k(bt,{onAddVideo:M,onUpload:E}),k(g,{modelValue:t(a),"onUpdate:modelValue":w[1]||(w[1]=L=>ue(a)?a.value=L:null),title:"摄像头录制","close-on-click-modal":!1},{default:I(()=>[t(a)?(p(),Y(gt,{key:0,onRecordComplete:O})):j("",!0)]),_:1},8,["modelValue"]),z("div",fa,[t(l)?(p(),Y(D,{key:0},{right:I(()=>[k(q,{square:"",type:"danger",text:"删除",onClick:R})]),default:I(()=>[k(K,{border:!1,title:t(l).id,onClick:w[2]||(w[2]=L=>f.value=!0)},null,8,["title"])]),_:1})):j("",!0)]),z("div",pa,[t(s)?(p(),B("video",{key:0,src:t(s),controls:"",style:{width:"100%"},onError:h}," 您的浏览器不支持视频播放 ",40,ba)):j("",!0),z("div",null,"转换结果："+ae(t(c)),1)]),k(V,{show:t(f),"onUpdate:show":w[3]||(w[3]=L=>ue(f)?f.value=L:null),position:"bottom",style:{height:"60vh"},closeable:"","close-on-click-overlay":!1},{default:I(()=>[t(i)?(p(),B("video",{key:0,src:t(i),controls:"",style:{width:"100%"},onError:h}," 您的浏览器不支持视频播放 ",40,ga)):j("",!0)]),_:1},8,["show"])])):(p(),B("div",ha,[k(A,{class:"lCard"},{header:I(()=>[z("div",ya,[t(b)?(p(),B("span",wa,"已选择"+ae(t(u).usedModel.length)+"个模型",1)):(p(),B("span",Va,"没有选择模型")),k(G,{type:"primary",class:H(t(N)&&!t(b)?"blink-btn":""),onClick:w[4]||(w[4]=L=>t(m).push("/implents/models/myModels"))},{default:I(()=>[ie(ae(t(b)?"重新选择":"前往选择"),1)]),_:1},8,["class"])])]),default:I(()=>[k(bt,{onAddVideo:M,onStartRecording:w[5]||(w[5]=L=>a.value=!0),onUpload:E}),k(g,{modelValue:t(a),"onUpdate:modelValue":w[6]||(w[6]=L=>ue(a)?a.value=L:null),title:"摄像头录制","close-on-click-modal":!1},{default:I(()=>[t(a)?(p(),Y(gt,{key:0,onRecordComplete:O})):j("",!0)]),_:1},8,["modelValue"]),z("div",_a,[t(i)?(p(),B("video",{key:0,src:t(i),controls:"",class:"video-player",onError:h}," 您的浏览器不支持视频播放 ",40,Sa)):(p(),B("div",ka,[k(_,{description:"没有选择视频"})]))]),z("div",Ea,[t(i)?(p(),Y(G,{key:0,type:"danger",onClick:R,style:{margin:"20px auto"}},{default:I(()=>w[7]||(w[7]=[ie("删除")])),_:1})):j("",!0)])]),_:1}),k(A,{class:"rCard"},{header:I(()=>[z("div",Ca,[t(o)?(p(),B("span",Ia,"转换中...")):(p(),B("span",Ta,"转换结果"))])]),default:I(()=>[z("div",Na,[z("div",Ma,ae(t(c)),1),t(s)?(p(),B("video",{key:0,src:t(s),controls:"",class:"video-player",onError:h}," 您的浏览器不支持视频播放 ",40,xa)):(p(),B("div",Ba,[k(_,{description:"暂无结果"})]))])]),_:1})]))}}},St=at(Pa,[["__scopeId","data-v-c880ae2e"]]);function rt(e){return sn()?(rn(e),!0):!1}const De=new WeakMap,La=(...e)=>{var n;const l=e[0],a=(n=st())==null?void 0:n.proxy;if(a==null&&!Pt())throw new Error("injectLocal must be called in setup");return a&&De.has(a)&&l in De.get(a)?De.get(a)[l]:Mt(...e)},$a=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const za=e=>e!=null,Aa=Object.prototype.toString,Fa=e=>Aa.call(e)==="[object Object]";function kt(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function We(e){return Array.isArray(e)?e:[e]}function Oa(e){return st()}function Ot(e,n=!0,l){Oa()?he(e,l):n?e():ge(e)}function Wa(e,n,l){return ne(e,n,{...l,immediate:!0})}const Le=$a?window:void 0;function _e(e){var n;const l=me(e);return(n=l==null?void 0:l.$el)!=null?n:l}function Be(...e){const n=[],l=()=>{n.forEach(o=>o()),n.length=0},a=(o,c,u,m)=>(o.addEventListener(c,u,m),()=>o.removeEventListener(c,u,m)),v=T(()=>{const o=We(me(e[0])).filter(c=>c!=null);return o.every(c=>typeof c!="string")?o:void 0}),i=Wa(()=>{var o,c;return[(c=(o=v.value)==null?void 0:o.map(u=>_e(u)))!=null?c:[Le].filter(u=>u!=null),We(me(v.value?e[1]:e[0])),We(t(v.value?e[2]:e[1])),me(v.value?e[3]:e[2])]},([o,c,u,m])=>{if(l(),!(o!=null&&o.length)||!(c!=null&&c.length)||!(u!=null&&u.length))return;const f=Fa(m)?{...m}:m;n.push(...o.flatMap(b=>c.flatMap(N=>u.map(M=>a(b,N,M,f)))))},{flush:"post"}),s=()=>{i(),l()};return rt(l),s}function Ua(){const e=ee(!1),n=st();return n&&he(()=>{e.value=!0},n),e}function ut(e){const n=Ua();return T(()=>(n.value,!!e()))}function Ka(e,n,l={}){const{window:a=Le,...v}=l;let i;const s=ut(()=>a&&"MutationObserver"in a),o=()=>{i&&(i.disconnect(),i=void 0)},c=T(()=>{const b=me(e),N=We(b).map(_e).filter(za);return new Set(N)}),u=ne(()=>c.value,b=>{o(),s.value&&b.size&&(i=new MutationObserver(n),b.forEach(N=>i.observe(N,v)))},{immediate:!0,flush:"post"}),m=()=>i==null?void 0:i.takeRecords(),f=()=>{u(),o()};return rt(f),{isSupported:s,stop:f,takeRecords:m}}const Ya=Symbol("vueuse-ssr-width");function Xa(){const e=Pt()?La(Ya,null):null;return typeof e=="number"?e:void 0}function ja(e,n={}){const{window:l=Le,ssrWidth:a=Xa()}=n,v=ut(()=>l&&"matchMedia"in l&&typeof l.matchMedia=="function"),i=ee(typeof a=="number"),s=ee(),o=ee(!1),c=u=>{o.value=u.matches};return it(()=>{if(i.value){i.value=!v.value;const u=me(e).split(",");o.value=u.some(m=>{const f=m.includes("not all"),b=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),N=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let M=!!(b||N);return b&&M&&(M=a>=kt(b[1])),N&&M&&(M=a<=kt(N[1])),f?!M:M});return}v.value&&(s.value=l.matchMedia(me(e)),o.value=s.value.matches)}),Be(s,"change",c,{passive:!0}),T(()=>o.value)}function Da(e,n,l={}){const{window:a=Le,...v}=l;let i;const s=ut(()=>a&&"ResizeObserver"in a),o=()=>{i&&(i.disconnect(),i=void 0)},c=T(()=>{const f=me(e);return Array.isArray(f)?f.map(b=>_e(b)):[_e(f)]}),u=ne(c,f=>{if(o(),s.value&&a){i=new ResizeObserver(n);for(const b of f)b&&i.observe(b,v)}},{immediate:!0,flush:"post"}),m=()=>{o(),u()};return rt(m),{isSupported:s,stop:m}}function Ha(e,n={}){const{reset:l=!0,windowResize:a=!0,windowScroll:v=!0,immediate:i=!0,updateTiming:s="sync"}=n,o=ee(0),c=ee(0),u=ee(0),m=ee(0),f=ee(0),b=ee(0),N=ee(0),M=ee(0);function O(){const E=_e(e);if(!E){l&&(o.value=0,c.value=0,u.value=0,m.value=0,f.value=0,b.value=0,N.value=0,M.value=0);return}const h=E.getBoundingClientRect();o.value=h.height,c.value=h.bottom,u.value=h.left,m.value=h.right,f.value=h.top,b.value=h.width,N.value=h.x,M.value=h.y}function R(){s==="sync"?O():s==="next-frame"&&requestAnimationFrame(()=>O())}return Da(e,R),ne(()=>_e(e),E=>!E&&R()),Ka(e,R,{attributeFilter:["style","class"]}),v&&Be("scroll",R,{capture:!0,passive:!0}),a&&Be("resize",R,{passive:!0}),Ot(()=>{i&&R()}),{height:o,bottom:c,left:u,right:m,top:f,width:b,x:N,y:M,update:R}}function qa(e={}){const{window:n=Le,initialWidth:l=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:v=!0,includeScrollbar:i=!0,type:s="inner"}=e,o=ee(l),c=ee(a),u=()=>{if(n)if(s==="outer")o.value=n.outerWidth,c.value=n.outerHeight;else if(s==="visual"&&n.visualViewport){const{width:f,height:b,scale:N}=n.visualViewport;o.value=Math.round(f*N),c.value=Math.round(b*N)}else i?(o.value=n.innerWidth,c.value=n.innerHeight):(o.value=n.document.documentElement.clientWidth,c.value=n.document.documentElement.clientHeight)};u(),Ot(u);const m={passive:!0};if(Be("resize",u,m),n&&s==="visual"&&n.visualViewport&&Be(n.visualViewport,"resize",u,m),v){const f=ja("(orientation: portrait)");ne(f,()=>u())}return{width:o,height:c}}const Ja={class:"audioRecorder"},Ga={key:2,class:"recording-time"},Qa={__name:"AudioRecorder",emits:["record-complete"],setup(e,{emit:n}){const l=P(!1),a=P(0),v=P(null),i=P(null),s=P([]),o=P(!1);let c;const u=n;he(()=>f()),un(()=>b());const m=async()=>{l.value?M():N()},f=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(h=>{i.value=new MediaRecorder(h),i.value.ondataavailable=C=>{s.value.push(C.data)},i.value.onstop=()=>{c=new Blob(s.value,{type:"audio/wav"})}}).catch(h=>{console.error("麦克风访问失败:",h),oe("无法访问麦克风")})},b=()=>{var h;(h=i.value)!=null&&h.stream&&i.value.stream.getTracks().forEach(C=>C.stop())},N=()=>{var h;(h=i.value)!=null&&h.stream&&(i.value.start(),R(),l.value=!0,o.value=!1,v.value=setInterval(()=>{a.value++},1e3))},M=()=>{i.value&&(i.value.stop(),clearInterval(v.value),l.value=!1,o.value=!0,a.value=0)},O=()=>{u("record-complete",c),s.value=[],o.value=!1},R=()=>{s.value=[],o.value=!1},E=h=>{const C=Math.floor(h/60),w=h%60;return`${C}:${w.toString().padStart(2,"0")}`};return(h,C)=>{const w=Me("Microphone"),d=se,g=Me("Mute"),K=xt,q=ot;return p(),B("div",Ja,[k(K,{content:t(l)?"点击停止":"点击开始"},{default:I(()=>[z("span",{onClick:m},[t(l)?(p(),Y(d,{key:0,size:30,class:"microphone blinking"},{default:I(()=>[k(w)]),_:1})):(p(),Y(d,{key:1,size:30,class:"microphone"},{default:I(()=>[k(g)]),_:1})),t(l)?(p(),B("span",Ga,ae(E(t(a))),1)):j("",!0)])]),_:1},8,["content"]),z("span",null,[k(q,{type:"primary",onClick:O,disabled:!t(o)},{default:I(()=>C[0]||(C[0]=[ie("识别")])),_:1},8,["disabled"]),k(q,{type:"danger",onClick:R,disabled:!t(o)},{default:I(()=>C[1]||(C[1]=[ie("清除")])),_:1},8,["disabled"])])])}}},Za=at(Qa,[["__scopeId","data-v-45e71ba1"]]),el=cn("yiyu",()=>{const e=P(!1);try{Fe.init({name:"Jop+waWe6cOFzz92RpqptN/D029oP9i81SifDLndpFFqqh0s93JRBZzWWWouTNMFOfotGPcyaDRJ+T/cUjwosfwYM9IqCEajgNSRJaxnykb2eOEAp5CrNFrq2Mmrv8BktC8SdK008WoBYGqlJgza+tFtLxVQNRY2YSTzJkcetbY=",readLocalResource:!1}),Fe.onAppReady(()=>{Fe.disableYiyuApp(),e.value=!0,console.log("yiyu 初始化成功")})}catch(n){console.error("yiyu 初始化失败",n)}return{isSuccess:e,yiyu:Fe}}),tl={key:0},nl={key:1,class:"body"},al={class:"center"},ll={class:"btn"},ol={class:"header"},sl={class:"dialog-footer"},il=427.5,rl=332.5,ul={__name:"Text2Sign",setup(e){const n=P(""),l=P(!1),a=P(!1),v=P(1.5),i=dn("rCard"),{width:s,height:o}=qa(),c=T(()=>lt()),u=el(),m=u.yiyu,f=P(25),b=P(!0),N=P(!0),M=P(25),O=P(!1),R=P(!1),E=()=>{a.value=!1,m.modifyPlaySpeed(v.value),b.value?m.enableTextSelection():m.disableTextSelection(),Rt("设置成功")},h=()=>{f.value=25,b.value=!0,N.value=!0},C=D=>(v.value=(1+D/50).toFixed(1),v.value),w=()=>{n.value=""},d=()=>{l.value&&m.cancelTranslation(),m.startTranslate(n.value)},g=()=>{const{width:D,height:V,left:G,top:_}=Ha(i),A=G.value+D.value/2,L=_.value+V.value/2;return{centerX:A,centerY:L}},K=()=>{const{centerX:D,centerY:V}=g();m.setPosition(`${V-il/2}px`,`${D-rl/2}px`)},q=D=>{const V=new File([D],"audio.wav",{type:"audio/wav"}),G=new FormData;G.append("audio",V),Lt.audio.toText(G).then(_=>{_.code==="200"?n.value=_.data:(console.log(_.msg),oe(_.msg))}).catch(_=>{console.log(_.message),oe("识别失败")})};return it(async()=>{u.isSuccess&&(await ge(),K(),m.enableYiyuApp(),b.value||m.disableTextSelection())}),he(()=>{m.setAvatarSize(1)}),vn(()=>{u.isSuccess&&m.setAvatarSize(3)}),ne([s,o],()=>{K()}),(D,V)=>{const G=Tt,_=Me("Delete"),A=se,L=ot,r=Me("Switch"),y=zt,x=Me("Setting"),W=la,F=ca,X=$t;return t(c)?(p(),B("div",tl)):(p(),B("div",nl,[k(y,{class:"lCard"},{header:I(()=>V[6]||(V[6]=[ie(" 目标文本 ")])),default:I(()=>[k(Za,{onRecordComplete:q}),z("div",al,[k(G,{modelValue:t(n),"onUpdate:modelValue":V[0]||(V[0]=U=>ue(n)?n.value=U:null),placeholder:"输入文本......","show-word-limit":"",type:"textarea",maxlength:"450",resize:"none"},null,8,["modelValue"]),z("div",ll,[k(L,{type:"danger",onClick:w},{default:I(()=>[k(A,null,{default:I(()=>[k(_)]),_:1}),V[7]||(V[7]=ie(" 清空 "))]),_:1}),k(L,{type:"primary",disabled:!t(n)||!t(u).isSuccess,onClick:d},{default:I(()=>[k(A,null,{default:I(()=>[k(r)]),_:1}),V[8]||(V[8]=ie(" 转化 "))]),_:1},8,["disabled"])])])]),_:1}),k(y,{class:"rCard",ref_key:"rCard",ref:i},{header:I(()=>[z("div",ol,[V[10]||(V[10]=z("span",null,"手语数字人",-1)),k(L,{round:"",onClick:V[1]||(V[1]=U=>a.value=!0),disabled:!t(u).isSuccess},{default:I(()=>[k(A,null,{default:I(()=>[k(x)]),_:1}),V[9]||(V[9]=ie(" 设置"))]),_:1},8,["disabled"])])]),_:1},512),k(X,{modelValue:t(a),"onUpdate:modelValue":V[5]||(V[5]=U=>ue(a)?a.value=U:null),title:"设置",width:"30%",draggable:"","close-on-click-modal":!1},{footer:I(()=>[z("span",sl,[k(L,{onClick:h},{default:I(()=>V[13]||(V[13]=[ie("重置")])),_:1}),k(L,{type:"primary",onClick:E},{default:I(()=>V[14]||(V[14]=[ie("保存")])),_:1})])]),default:I(()=>[z("ul",null,[z("li",null,[z("span",null,"手语翻译速度 x"+ae(t(v)),1),k(W,{modelValue:t(M),"onUpdate:modelValue":V[2]||(V[2]=U=>ue(M)?M.value=U:null),"format-tooltip":C,size:"small",class:"slider"},null,8,["modelValue"])]),z("li",null,[V[11]||(V[11]=z("span",null," 划词翻译 ",-1)),k(F,{modelValue:t(O),"onUpdate:modelValue":V[3]||(V[3]=U=>ue(O)?O.value=U:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),z("li",null,[V[12]||(V[12]=z("span",null," 跟随翻译 ",-1)),k(F,{modelValue:t(R),"onUpdate:modelValue":V[4]||(V[4]=U=>ue(R)?R.value=U:null),size:"small","inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])])])]),_:1},8,["modelValue"])]))}}},Et=at(ul,[["__scopeId","data-v-83085543"]]),cl={key:0},dl={key:1},yl={__name:"Interpretation",setup(e){const n=P(""),l=mn(),a=T(()=>lt()),v=P(0);return it(()=>{n.value=l.params.id,v.value=n.value-1}),(i,s)=>{const o=yn,c=bn,u=pn;return t(a)?(p(),B("div",cl,[k(o,null,{default:I(()=>s[1]||(s[1]=[z("span",{style:{color:"black","font-size":"large",margin:"0"}},"翻译",-1)])),_:1}),k(u,{active:t(v),"onUpdate:active":s[0]||(s[0]=m=>ue(v)?v.value=m:null)},{default:I(()=>[k(c,{title:"手语→文本"},{default:I(()=>[k(St)]),_:1}),k(c,{title:"文本→手语"},{default:I(()=>[k(Et)]),_:1})]),_:1},8,["active"])])):(p(),B("div",dl,[t(n)==="1"?(p(),Y(St,{key:0})):(p(),Y(Et,{key:1}))]))}}};export{yl as default};
