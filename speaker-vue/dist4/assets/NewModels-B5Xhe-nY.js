import{C as le,aI as yt,H as ne,I as R,bB as Xt,K as Q,r as x,Y as he,c as k,o as f,Q as G,e,R as M,M as He,D as pe,V as Te,aB as ye,a as g,a8 as U,w as p,aa as Xe,aD as oe,ac as K,ae as xe,af as fe,bC as Yt,aL as Gt,bD as Jt,bE as Qt,a3 as kt,b as T,ab as te,bF as Zt,bG as eo,bH as to,bI as $t,bJ as Ye,T as oo,z as Fe,a9 as F,bK as Ct,aT as Ge,L as se,Z as Je,N as wt,f as t,i as O,aO as St,X as Qe,a0 as je,a2 as Se,bL as no,bM as so,$ as lo,bN as ao,aA as Tt,at as re,bO as io,aX as nt,aW as xt,bP as st,bi as ro,aF as Ce,aG as we,b7 as We,bQ as co,ai as Me,bR as De,bS as Re,bd as qe,bT as uo,bU as vo,bV as po,bW as fo,bX as mo,aq as bo,bY as go,bZ as _o,bf as lt,an as Ie,ah as at,ag as ho,b_ as yo,aj as ko,be as $o,b$ as Co,bc as Ae,c0 as wo,_ as me,d as be,h as Ve,a1 as ce,bk as ue,B as Ze,b3 as Z,bj as Ee,j as Be,b2 as $e,bg as Oe,bo as et,bq as Ne,S as _e,k as q,bp as Ke,aK as So,aE as To,E as xo,g as Eo,c1 as it}from"./index-W0IEFz95.js";import{S as Et,D as Pe,a as tt,b as ot,E as Po}from"./index-u__Q2BrB.js";import{N as Vo}from"./index-D5o0l4dn.js";import{S as Pt,a as Vt,N as Nt,C as rt,b as ct,f as ge,T as No,c as Mo}from"./index-D9n3MFKJ.js";import{L as Mt,E as Io,m as Bo}from"./models_service-B5XGi7CG.js";import{C as It}from"./index-Cvs2uSQ1.js";import{C as Oo,F as Uo}from"./index-DYeBoaBS.js";import"./el-tooltip-l0sNRNKZ.js";const Bt=Symbol("breadcrumbKey"),Do=le({separator:{type:String,default:"/"},separatorIcon:{type:yt}}),Ro=R({name:"ElBreadcrumb"}),Ao=R({...Ro,props:Do,setup(o){const n=o,{t:a}=Xt(),l=Q("breadcrumb"),i=x();return He(Bt,n),he(()=>{const r=i.value.querySelectorAll(`.${l.e("item")}`);r.length&&r[r.length-1].setAttribute("aria-current","page")}),(r,c)=>(f(),k("div",{ref_key:"breadcrumb",ref:i,class:M(e(l).b()),"aria-label":e(a)("el.breadcrumb.label"),role:"navigation"},[G(r.$slots,"default")],10,["aria-label"]))}});var Lo=ne(Ao,[["__file","breadcrumb.vue"]]);const zo=le({to:{type:pe([String,Object]),default:""},replace:Boolean}),Fo=R({name:"ElBreadcrumbItem"}),jo=R({...Fo,props:zo,setup(o){const n=o,a=ye(),l=Te(Bt,void 0),i=Q("breadcrumb"),r=a.appContext.config.globalProperties.$router,c=x(),_=()=>{!n.to||!r||(n.replace?r.replace(n.to):r.push(n.to))};return(m,V)=>{var C,b;return f(),k("span",{class:M(e(i).e("item"))},[g("span",{ref_key:"link",ref:c,class:M([e(i).e("inner"),e(i).is("link",!!m.to)]),role:"link",onClick:_},[G(m.$slots,"default")],2),(C=e(l))!=null&&C.separatorIcon?(f(),U(e(oe),{key:0,class:M(e(i).e("separator"))},{default:p(()=>[(f(),U(Xe(e(l).separatorIcon)))]),_:1},8,["class"])):(f(),k("span",{key:1,class:M(e(i).e("separator")),role:"presentation"},K((b=e(l))==null?void 0:b.separator),3))],2)}}});var Ot=ne(jo,[["__file","breadcrumb-item.vue"]]);const Wo=xe(Lo,{BreadcrumbItem:Ot}),qo=fe(Ot),Ko=(o,n,a)=>Gt(o.subTree).filter(r=>{var c;return Jt(r)&&((c=r.type)==null?void 0:c.name)===n&&!!r.component}).map(r=>r.component.uid).map(r=>a[r]).filter(r=>!!r),Ut=(o,n)=>{const a={},l=Yt([]);return{children:l,addChild:c=>{a[c.uid]=c,l.value=Ko(o,n,a)},removeChild:c=>{delete a[c],l.value=l.value.filter(_=>_.uid!==c)}}},de=o=>Qt(o),Ho=R({name:"ElContainer"}),Xo=R({...Ho,props:{direction:{type:String}},setup(o){const n=o,a=kt(),l=Q("container"),i=T(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:a&&a.default?a.default().some(c=>{const _=c.type.name;return _==="ElHeader"||_==="ElFooter"}):!1);return(r,c)=>(f(),k("section",{class:M([e(l).b(),e(l).is("vertical",e(i))])},[G(r.$slots,"default")],2))}});var Yo=ne(Xo,[["__file","container.vue"]]);const Go=R({name:"ElAside"}),Jo=R({...Go,props:{width:{type:String,default:null}},setup(o){const n=o,a=Q("aside"),l=T(()=>n.width?a.cssVarBlock({width:n.width}):{});return(i,r)=>(f(),k("aside",{class:M(e(a).b()),style:te(e(l))},[G(i.$slots,"default")],6))}});var Dt=ne(Jo,[["__file","aside.vue"]]);const Qo=R({name:"ElFooter"}),Zo=R({...Qo,props:{height:{type:String,default:null}},setup(o){const n=o,a=Q("footer"),l=T(()=>n.height?a.cssVarBlock({height:n.height}):{});return(i,r)=>(f(),k("footer",{class:M(e(a).b()),style:te(e(l))},[G(i.$slots,"default")],6))}});var Rt=ne(Zo,[["__file","footer.vue"]]);const en=R({name:"ElHeader"}),tn=R({...en,props:{height:{type:String,default:null}},setup(o){const n=o,a=Q("header"),l=T(()=>n.height?a.cssVarBlock({height:n.height}):{});return(i,r)=>(f(),k("header",{class:M(e(a).b()),style:te(e(l))},[G(i.$slots,"default")],6))}});var At=ne(tn,[["__file","header.vue"]]);const on=R({name:"ElMain"}),nn=R({...on,setup(o){const n=Q("main");return(a,l)=>(f(),k("main",{class:M(e(n).b())},[G(a.$slots,"default")],2))}});var Lt=ne(nn,[["__file","main.vue"]]);const sn=xe(Yo,{Aside:Dt,Footer:Rt,Header:At,Main:Lt}),ln=fe(Dt);fe(Rt);fe(At);const an=fe(Lt),rn=le({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:o=>o>=0&&o<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:pe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:pe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:pe(Function),default:o=>`${o}%`}}),cn=R({name:"ElProgress"}),un=R({...cn,props:rn,setup(o){const n=o,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=Q("progress"),i=T(()=>{const s={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},v=I(n.percentage);return v.includes("gradient")?s.background=v:s.backgroundColor=v,s}),r=T(()=>(n.strokeWidth/n.width*100).toFixed(1)),c=T(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),_=T(()=>{const s=c.value,v=n.type==="dashboard";return`
          M 50 50
          m 0 ${v?"":"-"}${s}
          a ${s} ${s} 0 1 1 0 ${v?"-":""}${s*2}
          a ${s} ${s} 0 1 1 0 ${v?"":"-"}${s*2}
          `}),m=T(()=>2*Math.PI*c.value),V=T(()=>n.type==="dashboard"?.75:1),C=T(()=>`${-1*m.value*(1-V.value)/2}px`),b=T(()=>({strokeDasharray:`${m.value*V.value}px, ${m.value}px`,strokeDashoffset:C.value})),$=T(()=>({strokeDasharray:`${m.value*V.value*(n.percentage/100)}px, ${m.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=T(()=>{let s;return n.color?s=I(n.percentage):s=a[n.status]||a.default,s}),d=T(()=>n.status==="warning"?Zt:n.type==="line"?n.status==="success"?eo:to:n.status==="success"?$t:Ye),u=T(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),D=T(()=>n.format(n.percentage));function P(s){const v=100/s.length;return s.map((y,N)=>Fe(y)?{color:y,percentage:(N+1)*v}:y).sort((y,N)=>y.percentage-N.percentage)}const I=s=>{var v;const{color:w}=n;if(oo(w))return w(s);if(Fe(w))return w;{const y=P(w);for(const N of y)if(N.percentage>s)return N.color;return(v=y[y.length-1])==null?void 0:v.color}};return(s,v)=>(f(),k("div",{class:M([e(l).b(),e(l).m(s.type),e(l).is(s.status),{[e(l).m("without-text")]:!s.showText,[e(l).m("text-inside")]:s.textInside}]),role:"progressbar","aria-valuenow":s.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[s.type==="line"?(f(),k("div",{key:0,class:M(e(l).b("bar"))},[g("div",{class:M(e(l).be("bar","outer")),style:te({height:`${s.strokeWidth}px`})},[g("div",{class:M([e(l).be("bar","inner"),{[e(l).bem("bar","inner","indeterminate")]:s.indeterminate},{[e(l).bem("bar","inner","striped")]:s.striped},{[e(l).bem("bar","inner","striped-flow")]:s.stripedFlow}]),style:te(e(i))},[(s.showText||s.$slots.default)&&s.textInside?(f(),k("div",{key:0,class:M(e(l).be("bar","innerText"))},[G(s.$slots,"default",{percentage:s.percentage},()=>[g("span",null,K(e(D)),1)])],2)):F("v-if",!0)],6)],6)],2)):(f(),k("div",{key:1,class:M(e(l).b("circle")),style:te({height:`${s.width}px`,width:`${s.width}px`})},[(f(),k("svg",{viewBox:"0 0 100 100"},[g("path",{class:M(e(l).be("circle","track")),d:e(_),stroke:`var(${e(l).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":s.strokeLinecap,"stroke-width":e(r),fill:"none",style:te(e(b))},null,14,["d","stroke","stroke-linecap","stroke-width"]),g("path",{class:M(e(l).be("circle","path")),d:e(_),stroke:e(h),fill:"none",opacity:s.percentage?1:0,"stroke-linecap":s.strokeLinecap,"stroke-width":e(r),style:te(e($))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(s.showText||s.$slots.default)&&!s.textInside?(f(),k("div",{key:2,class:M(e(l).e("text")),style:te({fontSize:`${e(u)}px`})},[G(s.$slots,"default",{percentage:s.percentage},()=>[s.status?(f(),U(e(oe),{key:1},{default:p(()=>[(f(),U(Xe(e(d))))]),_:1})):(f(),k("span",{key:0},K(e(D)),1))])],6)):F("v-if",!0)],10,["aria-valuenow"]))}});var dn=ne(un,[["__file","progress.vue"]]);const vn=xe(dn),pn=le({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),fn={[Ct]:(o,n)=>[o,n].every(Ge)},mn=R({name:"ElSteps"}),bn=R({...mn,props:pn,emits:fn,setup(o,{emit:n}){const a=o,l=Q("steps"),{children:i,addChild:r,removeChild:c}=Ut(ye(),"ElStep");return se(i,()=>{i.value.forEach((_,m)=>{_.setIndex(m)})}),He("ElSteps",{props:a,steps:i,addStep:r,removeStep:c}),se(()=>a.active,(_,m)=>{n(Ct,_,m)}),(_,m)=>(f(),k("div",{class:M([e(l).b(),e(l).m(_.simple?"simple":_.direction)])},[G(_.$slots,"default")],2))}});var gn=ne(bn,[["__file","steps.vue"]]);const _n=le({title:{type:String,default:""},icon:{type:yt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),hn=R({name:"ElStep"}),yn=R({...hn,props:_n,setup(o){const n=o,a=Q("step"),l=x(-1),i=x({}),r=x(""),c=Te("ElSteps"),_=ye();he(()=>{se([()=>c.props.active,()=>c.props.processStatus,()=>c.props.finishStatus],([y])=>{v(y)},{immediate:!0})}),Je(()=>{c.removeStep(w.uid)});const m=T(()=>n.status||r.value),V=T(()=>{const y=c.steps.value[l.value-1];return y?y.currentStatus:"wait"}),C=T(()=>c.props.alignCenter),b=T(()=>c.props.direction==="vertical"),$=T(()=>c.props.simple),h=T(()=>c.steps.value.length),d=T(()=>{var y;return((y=c.steps.value[h.value-1])==null?void 0:y.uid)===(_==null?void 0:_.uid)}),u=T(()=>$.value?"":c.props.space),D=T(()=>[a.b(),a.is($.value?"simple":c.props.direction),a.is("flex",d.value&&!u.value&&!C.value),a.is("center",C.value&&!b.value&&!$.value)]),P=T(()=>{const y={flexBasis:Ge(u.value)?`${u.value}px`:u.value?u.value:`${100/(h.value-(C.value?0:1))}%`};return b.value||d.value&&(y.maxWidth=`${100/h.value}%`),y}),I=y=>{l.value=y},s=y=>{const N=y==="wait",S={transitionDelay:`${N?"-":""}${150*l.value}ms`},A=y===c.props.processStatus||N?0:100;S.borderWidth=A&&!$.value?"1px":0,S[c.props.direction==="vertical"?"height":"width"]=`${A}%`,i.value=S},v=y=>{y>l.value?r.value=c.props.finishStatus:y===l.value&&V.value!=="error"?r.value=c.props.processStatus:r.value="wait";const N=c.steps.value[l.value-1];N&&N.calcProgress(r.value)},w=wt({uid:_.uid,currentStatus:m,setIndex:I,calcProgress:s});return c.addStep(w),(y,N)=>(f(),k("div",{style:te(e(P)),class:M(e(D))},[F(" icon & line "),g("div",{class:M([e(a).e("head"),e(a).is(e(m))])},[e($)?F("v-if",!0):(f(),k("div",{key:0,class:M(e(a).e("line"))},[g("i",{class:M(e(a).e("line-inner")),style:te(i.value)},null,6)],2)),g("div",{class:M([e(a).e("icon"),e(a).is(y.icon||y.$slots.icon?"icon":"text")])},[G(y.$slots,"icon",{},()=>[y.icon?(f(),U(e(oe),{key:0,class:M(e(a).e("icon-inner"))},{default:p(()=>[(f(),U(Xe(y.icon)))]),_:1},8,["class"])):e(m)==="success"?(f(),U(e(oe),{key:1,class:M([e(a).e("icon-inner"),e(a).is("status")])},{default:p(()=>[t(e($t))]),_:1},8,["class"])):e(m)==="error"?(f(),U(e(oe),{key:2,class:M([e(a).e("icon-inner"),e(a).is("status")])},{default:p(()=>[t(e(Ye))]),_:1},8,["class"])):e($)?F("v-if",!0):(f(),k("div",{key:3,class:M(e(a).e("icon-inner"))},K(l.value+1),3))])],2)],2),F(" title & description "),g("div",{class:M(e(a).e("main"))},[g("div",{class:M([e(a).e("title"),e(a).is(e(m))])},[G(y.$slots,"title",{},()=>[O(K(y.title),1)])],2),e($)?(f(),k("div",{key:0,class:M(e(a).e("arrow"))},null,2)):(f(),k("div",{key:1,class:M([e(a).e("description"),e(a).is(e(m))])},[G(y.$slots,"description",{},()=>[O(K(y.description),1)])],2))],2)],6))}});var zt=ne(yn,[["__file","item.vue"]]);const kn=xe(gn,{Step:zt}),$n=fe(zt),Ue=Symbol("tabsRootContextKey"),Cn=le({tabs:{type:pe(Array),default:()=>St([])}}),Ft="ElTabBar",wn=R({name:Ft}),Sn=R({...wn,props:Cn,setup(o,{expose:n}){const a=o,l=ye(),i=Te(Ue);i||Qe(Ft,"<el-tabs><el-tab-bar /></el-tabs>");const r=Q("tabs"),c=x(),_=x(),m=()=>{let h=0,d=0;const u=["top","bottom"].includes(i.props.tabPosition)?"width":"height",D=u==="width"?"x":"y",P=D==="x"?"left":"top";return a.tabs.every(I=>{var s,v;const w=(v=(s=l.parent)==null?void 0:s.refs)==null?void 0:v[`tab-${I.uid}`];if(!w)return!1;if(!I.active)return!0;h=w[`offset${de(P)}`],d=w[`client${de(u)}`];const y=window.getComputedStyle(w);return u==="width"&&(d-=Number.parseFloat(y.paddingLeft)+Number.parseFloat(y.paddingRight),h+=Number.parseFloat(y.paddingLeft)),!1}),{[u]:`${d}px`,transform:`translate${de(D)}(${h}px)`}},V=()=>_.value=m(),C=[],b=()=>{var h;C.forEach(u=>u.stop()),C.length=0;const d=(h=l.parent)==null?void 0:h.refs;if(d){for(const u in d)if(u.startsWith("tab-")){const D=d[u];D&&C.push(je(D,V))}}};se(()=>a.tabs,async()=>{await Se(),V(),b()},{immediate:!0});const $=je(c,()=>V());return Je(()=>{C.forEach(h=>h.stop()),C.length=0,$.stop()}),n({ref:c,update:V}),(h,d)=>(f(),k("div",{ref_key:"barRef",ref:c,class:M([e(r).e("active-bar"),e(r).is(e(i).props.tabPosition)]),style:te(_.value)},null,6))}});var Tn=ne(Sn,[["__file","tab-bar.vue"]]);const xn=le({panes:{type:pe(Array),default:()=>St([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),En={tabClick:(o,n,a)=>a instanceof Event,tabRemove:(o,n)=>n instanceof Event},ut="ElTabNav",Pn=R({name:ut,props:xn,emits:En,setup(o,{expose:n,emit:a}){const l=Te(Ue);l||Qe(ut,"<el-tabs><tab-nav /></el-tabs>");const i=Q("tabs"),r=no(),c=so(),_=x(),m=x(),V=x(),C=x(),b=x(!1),$=x(0),h=x(!1),d=x(!0),u=T(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),D=T(()=>({transform:`translate${u.value==="width"?"X":"Y"}(-${$.value}px)`})),P=()=>{if(!_.value)return;const S=_.value[`offset${de(u.value)}`],A=$.value;if(!A)return;const B=A>S?A-S:0;$.value=B},I=()=>{if(!_.value||!m.value)return;const S=m.value[`offset${de(u.value)}`],A=_.value[`offset${de(u.value)}`],B=$.value;if(S-B<=A)return;const j=S-B>A*2?B+A:S-A;$.value=j},s=async()=>{const S=m.value;if(!b.value||!V.value||!_.value||!S)return;await Se();const A=V.value.querySelector(".is-active");if(!A)return;const B=_.value,j=["top","bottom"].includes(l.props.tabPosition),L=A.getBoundingClientRect(),H=B.getBoundingClientRect(),ae=j?S.offsetWidth-H.width:S.offsetHeight-H.height,J=$.value;let Y=J;j?(L.left<H.left&&(Y=J-(H.left-L.left)),L.right>H.right&&(Y=J+L.right-H.right)):(L.top<H.top&&(Y=J-(H.top-L.top)),L.bottom>H.bottom&&(Y=J+(L.bottom-H.bottom))),Y=Math.max(Y,0),$.value=Math.min(Y,ae)},v=()=>{var S;if(!m.value||!_.value)return;o.stretch&&((S=C.value)==null||S.update());const A=m.value[`offset${de(u.value)}`],B=_.value[`offset${de(u.value)}`],j=$.value;B<A?(b.value=b.value||{},b.value.prev=j,b.value.next=j+B<A,A-j<B&&($.value=A-B)):(b.value=!1,j>0&&($.value=0))},w=S=>{let A=0;switch(S.code){case re.left:case re.up:A=-1;break;case re.right:case re.down:A=1;break;default:return}const B=Array.from(S.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let L=B.indexOf(S.target)+A;L<0?L=B.length-1:L>=B.length&&(L=0),B[L].focus({preventScroll:!0}),B[L].click(),y()},y=()=>{d.value&&(h.value=!0)},N=()=>h.value=!1;return se(r,S=>{S==="hidden"?d.value=!1:S==="visible"&&setTimeout(()=>d.value=!0,50)}),se(c,S=>{S?setTimeout(()=>d.value=!0,50):d.value=!1}),je(V,v),he(()=>setTimeout(()=>s(),0)),lo(()=>v()),n({scrollToActiveTab:s,removeFocus:N}),()=>{const S=b.value?[t("span",{class:[i.e("nav-prev"),i.is("disabled",!b.value.prev)],onClick:P},[t(oe,null,{default:()=>[t(ao,null,null)]})]),t("span",{class:[i.e("nav-next"),i.is("disabled",!b.value.next)],onClick:I},[t(oe,null,{default:()=>[t(Tt,null,null)]})])]:null,A=o.panes.map((B,j)=>{var L,H,ae,J;const Y=B.uid,X=B.props.disabled,ke=(H=(L=B.props.name)!=null?L:B.index)!=null?H:`${j}`,E=!X&&(B.isClosable||o.editable);B.index=`${j}`;const W=E?t(oe,{class:"is-icon-close",onClick:ve=>a("tabRemove",B,ve)},{default:()=>[t(Ye,null,null)]}):null,z=((J=(ae=B.slots).label)==null?void 0:J.call(ae))||B.props.label,Ht=!X&&B.active?0:-1;return t("div",{ref:`tab-${Y}`,class:[i.e("item"),i.is(l.props.tabPosition),i.is("active",B.active),i.is("disabled",X),i.is("closable",E),i.is("focus",h.value)],id:`tab-${ke}`,key:`tab-${Y}`,"aria-controls":`pane-${ke}`,role:"tab","aria-selected":B.active,tabindex:Ht,onFocus:()=>y(),onBlur:()=>N(),onClick:ve=>{N(),a("tabClick",B,ke,ve)},onKeydown:ve=>{E&&(ve.code===re.delete||ve.code===re.backspace)&&a("tabRemove",B,ve)}},[z,W])});return t("div",{ref:V,class:[i.e("nav-wrap"),i.is("scrollable",!!b.value),i.is(l.props.tabPosition)]},[S,t("div",{class:i.e("nav-scroll"),ref:_},[t("div",{class:[i.e("nav"),i.is(l.props.tabPosition),i.is("stretch",o.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:m,style:D.value,role:"tablist",onKeydown:w},[o.type?null:t(Tn,{ref:C,tabs:[...o.panes]},null),A])])])}}}),Vn=le({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:pe(Function),default:()=>!0},stretch:Boolean}),Le=o=>Fe(o)||Ge(o),Nn={[xt]:o=>Le(o),tabClick:(o,n)=>n instanceof Event,tabChange:o=>Le(o),edit:(o,n)=>["remove","add"].includes(n),tabRemove:o=>Le(o),tabAdd:()=>!0},Mn=R({name:"ElTabs",props:Vn,emits:Nn,setup(o,{emit:n,slots:a,expose:l}){var i;const r=Q("tabs"),c=T(()=>["left","right"].includes(o.tabPosition)),{children:_,addChild:m,removeChild:V}=Ut(ye(),"ElTabPane"),C=x(),b=x((i=o.modelValue)!=null?i:"0"),$=async(P,I=!1)=>{var s,v;if(!(b.value===P||nt(P)))try{let w;if(o.beforeLeave){const y=o.beforeLeave(P,b.value);w=y instanceof Promise?await y:y}else w=!0;w!==!1&&(b.value=P,I&&(n(xt,P),n("tabChange",P)),(v=(s=C.value)==null?void 0:s.removeFocus)==null||v.call(s))}catch{}},h=(P,I,s)=>{P.props.disabled||($(I,!0),n("tabClick",P,s))},d=(P,I)=>{P.props.disabled||nt(P.props.name)||(I.stopPropagation(),n("edit",P.props.name,"remove"),n("tabRemove",P.props.name))},u=()=>{n("edit",void 0,"add"),n("tabAdd")};se(()=>o.modelValue,P=>$(P)),se(b,async()=>{var P;await Se(),(P=C.value)==null||P.scrollToActiveTab()}),He(Ue,{props:o,currentName:b,registerPane:P=>{_.value.push(P)},sortPane:m,unregisterPane:V}),l({currentName:b});const D=({render:P})=>P();return()=>{const P=a["add-icon"],I=o.editable||o.addable?t("div",{class:[r.e("new-tab"),c.value&&r.e("new-tab-vertical")],tabindex:"0",onClick:u,onKeydown:w=>{[re.enter,re.numpadEnter].includes(w.code)&&u()}},[P?G(a,"add-icon"):t(oe,{class:r.is("icon-plus")},{default:()=>[t(io,null,null)]})]):null,s=t("div",{class:[r.e("header"),c.value&&r.e("header-vertical"),r.is(o.tabPosition)]},[t(D,{render:()=>{const w=_.value.some(y=>y.slots.label);return t(Pn,{ref:C,currentName:b.value,editable:o.editable,type:o.type,panes:_.value,stretch:o.stretch,onTabClick:h,onTabRemove:d},{$stable:!w})}},null),I]),v=t("div",{class:r.e("content")},[G(a,"default")]);return t("div",{class:[r.b(),r.m(o.tabPosition),{[r.m("card")]:o.type==="card",[r.m("border-card")]:o.type==="border-card"}]},[v,s])}}});var In=Mn;const Bn=le({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),jt="ElTabPane",On=R({name:jt}),Un=R({...On,props:Bn,setup(o){const n=o,a=ye(),l=kt(),i=Te(Ue);i||Qe(jt,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const r=Q("tab-pane"),c=x(),_=T(()=>n.closable||i.props.closable),m=st(()=>{var h;return i.currentName.value===((h=n.name)!=null?h:c.value)}),V=x(m.value),C=T(()=>{var h;return(h=n.name)!=null?h:c.value}),b=st(()=>!n.lazy||V.value||m.value);se(m,h=>{h&&(V.value=!0)});const $=wt({uid:a.uid,slots:l,props:n,paneName:C,active:m,index:c,isClosable:_});return i.registerPane($),he(()=>{i.sortPane($)}),ro(()=>{i.unregisterPane($.uid)}),(h,d)=>e(b)?Ce((f(),k("div",{key:0,id:`pane-${e(C)}`,class:M(e(r).b()),role:"tabpanel","aria-hidden":!e(m),"aria-labelledby":`tab-${e(C)}`},[G(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[we,e(m)]]):F("v-if",!0)}});var Wt=ne(Un,[["__file","tab-pane.vue"]]);const Dn=xe(In,{TabPane:Wt}),Rn=fe(Wt);function dt(o,n){return o.reduce((a,l)=>Math.abs(a-n)<Math.abs(l-n)?a:l)}const An={gap:co(24),icon:String,axis:We("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[Ln,vt]=Me("floating-bubble");var zn=R({name:Ln,inheritAttrs:!1,props:An,emits:["click","update:offset","offsetChange"],setup(o,{slots:n,emit:a,attrs:l}){const i=x(),r=x({x:0,y:0,width:0,height:0}),c=T(()=>({top:o.gap,right:Re.value-r.value.width-o.gap,bottom:De.value-r.value.height-o.gap,left:o.gap})),_=x(!1);let m=!1;const V=T(()=>{const s={},v=qe(r.value.x),w=qe(r.value.y);return s.transform=`translate3d(${v}, ${w}, 0)`,(_.value||!m)&&(s.transition="none"),s}),C=()=>{if(!I.value)return;const{width:s,height:v}=_o(i.value),{offset:w}=o;r.value={x:w.x>-1?w.x:Re.value-s-o.gap,y:w.y>-1?w.y:De.value-v-o.gap,width:s,height:v}},b=uo();let $=0,h=0;const d=s=>{b.start(s),_.value=!0,$=r.value.x,h=r.value.y};vo("touchmove",s=>{if(s.preventDefault(),b.move(s),o.axis!=="lock"&&!b.isTap.value){if(o.axis==="x"||o.axis==="xy"){let w=$+b.deltaX.value;w<c.value.left&&(w=c.value.left),w>c.value.right&&(w=c.value.right),r.value.x=w}if(o.axis==="y"||o.axis==="xy"){let w=h+b.deltaY.value;w<c.value.top&&(w=c.value.top),w>c.value.bottom&&(w=c.value.bottom),r.value.y=w}const v=lt(r.value,["x","y"]);a("update:offset",v)}},{target:i});const D=()=>{_.value=!1,Se(()=>{if(o.magnetic==="x"){const s=dt([c.value.left,c.value.right],r.value.x);r.value.x=s}if(o.magnetic==="y"){const s=dt([c.value.top,c.value.bottom],r.value.y);r.value.y=s}if(!b.isTap.value){const s=lt(r.value,["x","y"]);a("update:offset",s),($!==s.x||h!==s.y)&&a("offsetChange",s)}})},P=s=>{b.isTap.value?a("click",s):s.stopPropagation()};he(()=>{C(),Se(()=>{m=!0})}),se([Re,De,()=>o.gap,()=>o.offset],C,{deep:!0});const I=x(!0);return po(()=>{I.value=!0}),fo(()=>{o.teleport&&(I.value=!1)}),()=>{const s=Ce(t("div",bo({class:vt(),ref:i,onTouchstartPassive:d,onTouchend:D,onTouchcancel:D,onClickCapture:P,style:V.value},l),[n.default?n.default():t(mo,{name:o.icon,class:vt("icon")},null)]),[[we,I.value]]);return o.teleport?t(go,{to:o.teleport},{default:()=>[s]}):s}}});const Fn=Ie(zn),[jn,ze]=Me("progress"),Wn={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:ho,pivotColor:String,trackColor:String,strokeWidth:at,percentage:{type:at,default:0,validator:o=>+o>=0&&+o<=100}};var qn=R({name:jn,props:Wn,setup(o){const n=T(()=>o.inactive?void 0:o.color),a=()=>{const{textColor:l,pivotText:i,pivotColor:r,percentage:c}=o,_=i??`${c}%`;if(o.showPivot&&_){const m={color:l,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:r||n.value};return t("span",{style:m,class:ze("pivot",{inactive:o.inactive})},[_])}};return()=>{const{trackColor:l,percentage:i,strokeWidth:r}=o,c={background:l,height:qe(r)},_={width:`${i}%`,background:n.value};return t("div",{class:ze(),style:c},[t("span",{class:ze("portion",{inactive:o.inactive}),style:_},null),a()])}}});const Kn=Ie(qn),[qt,pt]=Me("steps"),Hn={active:yo(0),direction:We("horizontal"),activeIcon:We("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Kt=Symbol(qt);var Xn=R({name:qt,props:Hn,emits:["clickStep"],setup(o,{emit:n,slots:a}){const{linkChildren:l}=ko(Kt);return l({props:o,onClickStep:r=>n("clickStep",r)}),()=>{var r;return t("div",{class:pt([o.direction])},[t("div",{class:pt("items")},[(r=a.default)==null?void 0:r.call(a)])])}}});const[Yn,ie]=Me("step");var Gn=R({name:Yn,setup(o,{slots:n}){const{parent:a,index:l}=$o(Kt);if(!a)return;const i=a.props,r=()=>{const b=+i.active;return l.value<b?"finish":l.value===b?"process":"waiting"},c=()=>r()==="process",_=T(()=>({background:r()==="finish"?i.activeColor:i.inactiveColor})),m=T(()=>{if(c())return{color:i.activeColor};if(r()==="waiting")return{color:i.inactiveColor}}),V=()=>a.onClickStep(l.value),C=()=>{const{iconPrefix:b,finishIcon:$,activeIcon:h,activeColor:d,inactiveIcon:u}=i;return c()?n["active-icon"]?n["active-icon"]():t(Ae,{class:ie("icon","active"),name:h,color:d,classPrefix:b},null):r()==="finish"&&($||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():t(Ae,{class:ie("icon","finish"),name:$,color:d,classPrefix:b},null):n["inactive-icon"]?n["inactive-icon"]():u?t(Ae,{class:ie("icon"),name:u,classPrefix:b},null):t("i",{class:ie("circle"),style:_.value},null)};return()=>{var b;const $=r();return t("div",{class:[Co,ie([i.direction,{[$]:$}])]},[t("div",{class:ie("title",{active:c()}),style:m.value,onClick:V},[(b=n.default)==null?void 0:b.call(n)]),t("div",{class:ie("circle-container"),onClick:V},[C()]),t("div",{class:ie("line"),style:_.value},null)])}}});const Jn=Ie(Gn),Qn=Ie(Xn),Zn=wo("ulCounter",()=>{const o=x(JSON.parse(localStorage.getItem("ulCounter"))||0);return{ulCounter:o,changeCounter:l=>{o.value+=l,localStorage.setItem("ulCounter",JSON.stringify(l))},clearStore:()=>{o.value=0,localStorage.removeItem("ulCounter")}}}),es={key:0},ts=["src"],os={key:1,class:"main"},ns={class:"video-grid"},ss=["onMouseenter","onClick"],ls={class:"thumbnail"},as={class:"video-id"},is={key:0,class:"overlay"},rs=["onClick"],cs=["src"],us={__name:"VideoList",props:{videos:{type:Array,default:()=>[],required:!0}},emits:["delete-video"],setup(o,{emit:n}){const a=T(()=>be()),l=o,i=n,r=x(null),c=x(!1),_=x(""),m=C=>{const b=l.videos.find($=>$.id===C);b&&(_.value=URL.createObjectURL(b.file),c.value=!0)},V=()=>{c.value=!1,URL.revokeObjectURL(_.value)};return(C,b)=>{const $=It,h=Ze,d=Et,u=Mt,D=Pe,P=Ee,I=Ve("CircleCheck"),s=oe,v=Be,w=tt,y=ot;return e(a)?(f(),k("div",es,[t(u,{"finished-text":"没有更多了"},{default:p(()=>[(f(!0),k(ce,null,ue(o.videos,N=>(f(),U(d,{key:N.id,style:{"border-bottom":"1px solid lightgray"}},{right:p(()=>[t(h,{square:"",type:"danger",text:"删除",onClick:S=>i("delete-video",N.id)},null,8,["onClick"])]),default:p(()=>[t($,{border:!1,title:N.id,value:N.isUploaded===!0?"已上传":"",onClick:S=>m(N.id)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1}),t(P,{show:e(c),"onUpdate:show":b[1]||(b[1]=N=>Z(c)?c.value=N:null),position:"bottom",style:{height:"60vh"},closeable:"","close-on-click-overlay":!1},{default:p(()=>[t(D,null,{default:p(()=>b[4]||(b[4]=[g("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1}),e(_)?(f(),k("video",{key:0,src:e(_),controls:"",style:{width:"100%"},onError:b[0]||(b[0]=(...N)=>C.handleVideoError&&C.handleVideoError(...N))}," 您的浏览器不支持视频播放 ",40,ts)):F("",!0)]),_:1},8,["show"])])):(f(),k("div",os,[g("div",ns,[(f(!0),k(ce,null,ue(o.videos,N=>(f(),k("div",{key:N.id,class:"video-item",onMouseenter:S=>r.value=N.id,onMouseleave:b[2]||(b[2]=S=>r.value=null),onClick:S=>m(N.id)},[g("div",ls,[b[6]||(b[6]=g("i",{class:"iconfont icon-shipin"},null,-1)),g("span",as,"#"+K(N.id),1),e(r)===N.id?(f(),k("div",is,[g("button",{class:"dltBtn",onClick:$e(S=>i("delete-video",N.id),["stop"])},b[5]||(b[5]=[g("i",{class:"iconfont icon-shanchu1",style:{color:"red","font-size":"1.75rem",cursor:"pointer"}},null,-1)]),8,rs)])):F("",!0),N.isUploaded?(f(),U(s,{key:1},{default:p(()=>[t(I)]),_:1})):F("",!0)])],40,ss))),128)),t(w,{modelValue:e(c),"onUpdate:modelValue":b[3]||(b[3]=N=>Z(c)?c.value=N:null),title:"视频预览","close-on-click-modal":!1},{footer:p(()=>[t(v,{onClick:V},{default:p(()=>b[7]||(b[7]=[O("关闭")])),_:1})]),default:p(()=>[g("video",{src:e(_),controls:"",class:"video-player",preload:"auto"}," 您的浏览器不支持视频播放 ",8,cs)]),_:1},8,["modelValue"])]),o.videos.length===0?(f(),U(y,{key:0,description:"暂无视频",style:{padding:"0"}})):F("",!0)]))}}},ft=me(us,[["__scopeId","data-v-90a0f9a8"]]),ds={key:0},vs={key:1},ps={class:"dataset-container"},fs={__name:"DataSet",setup(o){const n=x([]),a=x(!1),l=x(1),i=Zn(),r=Oe(),c=T(()=>be()),_=x(!1),m=h=>{n.value.push({id:`video_${new Date().getTime()}${l.value++}`,file:h,isUploaded:!1,type:"file",timeStamp:new Date})},V=h=>{const d=Date.now(),u=new File([h],`${d}.avi`,{type:"video/x-msvideo"});m(u),a.value=!1},C=async()=>{const h=n.value.filter(u=>!u.isUploaded),d=h.length;if(d===0){Ne("无可上传视频");return}try{await Promise.all(h.map($)),h.every(u=>u.isUploaded)&&(_e("全部上传成功"),i.changeCounter(d))}catch(u){console.error("上传失败:",u),q("上传失败，请检查网络连接")}},b=h=>{Ke("视频").then(()=>{n.value=n.value.filter(d=>d.id!==h),_e("删除成功")})},$=h=>{const d=new FormData;return d.append("video",h.file),d.append("videoId",h.id),d.append("modelId",r.processedModel.id),ge.video.uploadAllVideos(d).then(u=>(u.code==="200"?h.isUploaded=!0:(console.log(u.msg),q(`${h.id}上传失败`)),u)).catch(u=>{console.error("上传失败:",h.id,u)})};return(h,d)=>{const u=Vt,D=Pt,P=Nt,I=Pe,s=Ve("Star"),v=oe,w=Ee,y=tt,N=et;return e(c)?(f(),k("div",ds,[t(P,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:d[0]||(d[0]=S=>_.value=!0)},{default:p(()=>[t(D,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:p(()=>[t(u,null,{default:p(()=>d[5]||(d[5]=[O("视频数量限制为100，超出该数量的视频会被忽略")])),_:1}),t(u,null,{default:p(()=>d[6]||(d[6]=[O("视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳")])),_:1}),t(u,null,{default:p(()=>d[7]||(d[7]=[O("每个标签的视频数量最少10份，否则训练效果可能一般")])),_:1}),t(u,null,{default:p(()=>d[8]||(d[8]=[O("每个标签的视频数量尽量接近")])),_:1})]),_:1})]),_:1}),t(rt,{onAddVideo:m,onUpload:C}),t(ft,{videos:e(n),onDeleteVideo:b},null,8,["videos"]),t(w,{show:e(_),"onUpdate:show":d[1]||(d[1]=S=>Z(_)?_.value=S:null),position:"bottom",style:{height:"40%"},closeable:""},{default:p(()=>[t(I,null,{default:p(()=>d[9]||(d[9]=[g("span",{style:{color:"black","font-size":"large"}},"数据采集",-1)])),_:1}),g("div",null,[g("ul",null,[g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[10]||(d[10]=O(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[11]||(d[11]=O(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[12]||(d[12]=O(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[13]||(d[13]=O(" 每个标签的视频数量尽量接近 "))])])])]),_:1},8,["show"]),t(y,{modelValue:e(a),"onUpdate:modelValue":d[2]||(d[2]=S=>Z(a)?a.value=S:null),title:"摄像头录制","close-on-click-modal":!1},{default:p(()=>[e(a)?(f(),U(ct,{key:0,onRecordComplete:V})):F("",!0)]),_:1},8,["modelValue"])])):(f(),k("div",vs,[d[18]||(d[18]=g("h2",{style:{"margin-bottom":"10px"}},null,-1)),g("div",null,[g("ul",null,[g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[14]||(d[14]=O(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[15]||(d[15]=O(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[16]||(d[16]=O(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),g("li",null,[t(v,null,{default:p(()=>[t(s)]),_:1}),d[17]||(d[17]=O(" 每个标签的视频数量尽量接近 "))])])]),g("div",ps,[t(rt,{onAddVideo:m,onStartRecording:d[3]||(d[3]=S=>a.value=!0),onUpload:C}),t(N,{style:{margin:"2% auto"}}),t(ft,{videos:e(n),onDeleteVideo:b},null,8,["videos"]),t(y,{modelValue:e(a),"onUpdate:modelValue":d[4]||(d[4]=S=>Z(a)?a.value=S:null),title:"摄像头录制","close-on-click-modal":!1},{default:p(()=>[e(a)?(f(),U(ct,{key:0,onRecordComplete:V})):F("",!0)]),_:1},8,["modelValue"])])]))}}},mt=me(fs,[["__scopeId","data-v-2cecbd28"]]);function ms(o){return{all:o=o||new Map,on:function(n,a){var l=o.get(n);l?l.push(a):o.set(n,[a])},off:function(n,a){var l=o.get(n);l&&(a?l.splice(l.indexOf(a)>>>0,1):o.set(n,[]))},emit:function(n,a){var l=o.get(n);l&&l.slice().map(function(i){i(a)}),(l=o.get("*"))&&l.slice().map(function(i){i(n,a)})}}}const ee=ms(),bs={key:0},gs={style:{color:"black","font-size":"large"}},_s=["src"],hs={key:1},ys={class:"Show-head"},ks={key:0,style:{"font-size":"20px"}},$s={class:"video-show"},Cs=["src"],ws={key:1,class:"video-placeholder"},Ss={__name:"VideoShow",props:{videoUrl:{type:String,default:null},showObject:{type:Object,default:null}},emits:["update:videoUrl"],setup(o,{emit:n}){const a=T(()=>be()),l=o,i=x(!1);So(()=>{i.value=l.videoUrl!==null&&l.videoUrl!==""});const r=n,c=m=>{switch(m.target.error.code){case m.target.error.MEDIA_ERR_ABORTED:q("视频加载被中止");break;case m.target.error.MEDIA_ERR_NETWORK:q("网络错误，无法加载视频");break;case m.target.error.MEDIA_ERR_DECODE:q("视频解码错误，可能是格式不支持");break;case m.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:q("视频格式不支持");break;default:q("未知错误")}r("update:videoUrl",null)},_=()=>{if(!l.videoUrl){Ne("请先选择视频");return}ee.emit("add")};return(m,V)=>{const C=Pe,b=Ee,$=Be,h=et,d=ot;return e(a)?(f(),k("div",bs,[t(b,{show:e(i),"onUpdate:show":V[0]||(V[0]=u=>Z(i)?i.value=u:null),position:"bottom",style:{height:"60vh"},closeable:"","close-on-click-overlay":!1},{default:p(()=>[t(C,null,{default:p(()=>[g("span",gs,K(o.showObject.title),1)]),_:1}),o.videoUrl?(f(),k("video",{key:0,src:o.videoUrl,controls:"",style:{width:"100%"},onError:c}," 您的浏览器不支持视频播放 ",40,_s)):F("",!0),g("div",null,"标注："+K(o.showObject.tag===!0?o.showObject.number:"暂无"),1)]),_:1},8,["show"])])):(f(),k("div",hs,[g("div",ys,[o.showObject?(f(),k("span",ks,K(o.showObject.title),1)):F("",!0),t($,{type:"primary",onClick:_},{default:p(()=>{var u;return[O(K((u=o.showObject)!=null&&u.tag?"更改":"新增")+"注解",1)]}),_:1})]),t(h,{style:{margin:"5% auto"}}),g("div",$s,[o.videoUrl?(f(),k("video",{key:0,src:o.videoUrl,controls:"",class:"video-player",onError:c}," 您的浏览器不支持视频播放 ",40,Cs)):(f(),k("div",ws,[t(d,{description:"没有选择视频"})]))])]))}}},bt=me(Ss,[["__scopeId","data-v-f20d1cc4"]]),Ts={key:0},xs={key:0,style:{height:"62vh","overflow-y":"auto"}},Es={key:0,style:{height:"62vh","overflow-y":"auto"}},Ps={key:0,style:{height:"62vh","overflow-y":"auto"}},Vs={class:"tips-content"},Ns={key:1},Ms={style:{"margin-bottom":"10px"}},Is={style:{color:"red"}},Bs={class:"tag-body"},Os=["onClick","onMouseenter","onMouseleave"],Us=["onClick"],Ds=["onClick"],Rs={class:"tag-body"},As=["onClick","onMouseenter","onMouseleave"],Ls=["onClick"],zs=["onClick"],Fs={class:"tag-body"},js=["onClick","onMouseenter","onMouseleave"],Ws=["onClick"],qs={__name:"VideoTag",props:{videoList:{type:Array,default:()=>[]},isTagged:{type:Array,default:()=>[]},noTagged:{type:Array,default:()=>[]}},emits:["video-selected"],setup(o,{emit:n}){const a=x(!1),l=o,i=n,r=x([]),c=x("all"),_=x("a"),m=x(null),V=T(()=>be()),C=T(()=>{switch(c.value){case"tagged":return l.isTagged;case"noTagged":return l.noTagged;default:return l.videoList}}),b=d=>{ee.emit("changeDialogVisible",d)},$=d=>{ee.emit("deleteVideo",d)},h=d=>{m.value=d,i("video-selected",d),ee.emit("touch",d)};return(d,u)=>{const D=Vt,P=Pt,I=Nt,s=It,v=Ze,w=Et,y=Mt,N=Io,S=No,A=Mo,B=Pe,j=Ve("Star"),L=oe,H=Ee,ae=Ve("Promotion"),J=To,Y=ot,X=Rn,ke=Dn;return e(V)?(f(),k("div",Ts,[t(I,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:u[0]||(u[0]=E=>a.value=!0)},{default:p(()=>[t(P,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:p(()=>[t(D,null,{default:p(()=>u[4]||(u[4]=[O("请选择对应的视频进行相应意思标注方便模型训练")])),_:1}),t(D,null,{default:p(()=>u[5]||(u[5]=[O("标注字数请勿超过15字")])),_:1}),t(D,null,{default:p(()=>u[6]||(u[6]=[O("如果想要更改标注可以右滑点击标记进行更改")])),_:1})]),_:1})]),_:1}),t(A,{active:e(_),"onUpdate:active":u[1]||(u[1]=E=>Z(_)?_.value=E:null)},{default:p(()=>[t(S,{title:"全部 "+o.videoList.length.toString(),name:"a"},{default:p(()=>[o.videoList.length?(f(),k("div",xs,[t(y,{"finished-text":"没有更多了"},{default:p(()=>[(f(!0),k(ce,null,ue(o.videoList,(E,W)=>(f(),U(w,{key:W,style:{"border-bottom":"1px solid lightgray"}},{right:p(()=>[t(v,{square:"",type:"danger",text:"删除",onClick:z=>$(E.title)},null,8,["onClick"]),t(v,{square:"",type:"primary",text:"标记",onClick:z=>b(E)},null,8,["onClick"])]),default:p(()=>[t(s,{border:!1,title:E.title,value:E.tag===!0?"已标记":"",onClick:z=>h(E)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})])):(f(),U(N,{key:1,description:"暂无视频"}))]),_:1},8,["title"]),t(S,{title:"已标记 "+o.isTagged.length.toString(),name:"b"},{default:p(()=>[o.isTagged.length?(f(),k("div",Es,[t(y,{"finished-text":"没有更多了"},{default:p(()=>[(f(!0),k(ce,null,ue(o.isTagged,(E,W)=>(f(),U(w,{key:W,style:{"border-bottom":"1px solid lightgray"}},{right:p(()=>[t(v,{square:"",type:"danger",text:"删除",onClick:z=>$(E.title)},null,8,["onClick"]),t(v,{square:"",type:"primary",text:"标记",onClick:z=>b(E)},null,8,["onClick"])]),default:p(()=>[t(s,{border:!1,title:E.title,value:"已标记",onClick:z=>h(E)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(f(),U(N,{key:1,description:"暂无已标记视频"}))]),_:1},8,["title"]),t(S,{title:"未标记 "+o.noTagged.length.toString(),name:"c"},{default:p(()=>[o.noTagged.length?(f(),k("div",Ps,[t(y,{"finished-text":"没有更多了"},{default:p(()=>[(f(!0),k(ce,null,ue(o.noTagged,(E,W)=>(f(),U(w,{key:W,style:{"border-bottom":"1px solid lightgray"}},{right:p(()=>[t(v,{square:"",type:"danger",text:"删除",onClick:z=>$(E.title)},null,8,["onClick"]),t(v,{square:"",type:"primary",text:"标记",onClick:z=>b(E)},null,8,["onClick"])]),default:p(()=>[t(s,{border:!1,title:E.title,onClick:z=>h(E)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(f(),U(N,{key:1,description:"暂无未标记视频"}))]),_:1},8,["title"])]),_:1},8,["active"]),t(H,{show:e(a),"onUpdate:show":u[2]||(u[2]=E=>Z(a)?a.value=E:null),position:"bottom",style:{height:"30%"},closeable:""},{default:p(()=>[t(B,null,{default:p(()=>u[7]||(u[7]=[g("span",{style:{color:"black","font-size":"large"}},"标注事宜",-1)])),_:1}),g("div",Vs,[g("ul",null,[g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[8]||(u[8]=O(" 请选择对应的视频进行相应意思标注方便模型训练 "))]),g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[9]||(u[9]=O(" 标注字数请勿超过15字 "))]),g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[10]||(u[10]=O(" 如果想要更改标注可以右滑点击标记进行更改 "))])])])]),_:1},8,["show"])])):(f(),k("div",Ns,[g("h2",Ms,[t(L,null,{default:p(()=>[t(ae)]),_:1}),u[11]||(u[11]=O(" 标注事宜 "))]),g("div",Is,[g("ul",null,[g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[12]||(u[12]=O(" 请选择对应的视频进行相应的意思标注方便模型训练 "))]),g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[13]||(u[13]=O(" 标注字数请勿超过15字 "))]),g("li",null,[t(L,null,{default:p(()=>[t(j)]),_:1}),u[14]||(u[14]=O(" 如果想要更改标注可以点击视频标签上的标识图案 "))])])]),t(ke,{modelValue:e(c),"onUpdate:modelValue":u[3]||(u[3]=E=>Z(c)?c.value=E:null)},{default:p(()=>[t(X,{label:"全部 "+o.videoList.length,name:"all"},{default:p(()=>[g("div",Bs,[(f(!0),k(ce,null,ue(e(C),(E,W)=>(f(),k("div",{key:W,class:M(["videoinf",{actived:e(m)===E}]),onClick:z=>h(E),onMouseenter:z=>e(r)[W]=!0,onMouseleave:z=>e(r)[W]=!1},[g("span",null,K(E.title),1),Ce(g("span",{onClick:$e(z=>$(E.title),["stop"]),class:"right"},u[15]||(u[15]=[g("i",{class:"iconfont icon-shanchu"},null,-1)]),8,Us),[[we,e(r)[W]]]),E.tag===!0?(f(),U(J,{key:0,class:"box-item",effect:"dark",content:E.number,placement:"top"},{default:p(()=>[E.tag===!0?(f(),k("span",{key:0,onClick:z=>b(E),class:"right"},u[16]||(u[16]=[g("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,Ds)):F("",!0)]),_:2},1032,["content"])):F("",!0)],42,Os))),128)),o.videoList.length===0?(f(),U(Y,{key:0,description:"暂无视频"})):F("",!0)])]),_:1},8,["label"]),t(X,{label:"已标记 "+o.isTagged.length,name:"tagged"},{default:p(()=>[g("div",Rs,[(f(!0),k(ce,null,ue(e(C),(E,W)=>(f(),k("div",{key:W,class:M(["videoinf",{actived:e(m)===E}]),onClick:z=>h(E),onMouseenter:z=>e(r)[W]=!0,onMouseleave:z=>e(r)[W]=!1},[g("span",null,K(E.title),1),Ce(g("span",{onClick:$e(z=>$(E.title),["stop"]),class:"right"},u[17]||(u[17]=[g("i",{class:"iconfont icon-shanchu"},null,-1)]),8,Ls),[[we,e(r)[W]]]),t(J,{class:"box-item",effect:"dark",content:E.number,placement:"top"},{default:p(()=>[g("span",{onClick:$e(z=>b(E),["stop"]),class:"right"},u[18]||(u[18]=[g("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,zs)]),_:2},1032,["content"])],42,As))),128)),o.isTagged.length===0?(f(),U(Y,{key:0,description:"暂无已标记视频"})):F("",!0)])]),_:1},8,["label"]),t(X,{label:"未标记 "+o.noTagged.length,name:"noTagged"},{default:p(()=>[g("div",Fs,[(f(!0),k(ce,null,ue(e(C),(E,W)=>(f(),k("div",{key:W,class:M(["videoinf",{actived:e(m)===E}]),onClick:z=>h(E),onMouseenter:z=>e(r)[W]=!0,onMouseleave:z=>e(r)[W]=!1},[g("span",null,K(E.title),1),Ce(g("span",{onClick:$e(z=>$(E.title),["stop"]),class:"right"},u[19]||(u[19]=[g("i",{class:"iconfont icon-shanchu"},null,-1)]),8,Ws),[[we,e(r)[W]]])],42,js))),128)),o.noTagged.length===0?(f(),U(Y,{key:0,description:"暂无未标记视频"})):F("",!0)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]))}}},gt=me(qs,[["__scopeId","data-v-aecd9366"]]),Ks={key:0},Hs={style:{color:"black"}},Xs={style:{display:"flex","justify-content":"center",gap:"30px","margin-top":"8vh"}},Ys={key:1,class:"tagbody"},Gs={class:"common-layout"},Js={key:0},Qs={key:1},Zs={style:{margin:"10px 0"}},el={class:"dialog-footer"},tl="/api",ol={__name:"Tag",setup(o){const n=x([]),a=x(null),l=x(!1),i=x({}),r=x(1),c=x(""),_=Oe(),m=T(()=>be()),V=T(()=>n.value.filter(s=>s.tag===!0)),C=T(()=>n.value.filter(s=>s.tag===!1)),b=()=>{ge.video.getAllVideos({params:{modelId:_.processedModel.id}}).then(s=>{s.code==="200"&&Array.isArray(s.data)?n.value=s.data:(console.error("视频列表加载失败:",s.msg),q(s.msg))}).catch(s=>{console.log(s.message),q("加载视频列表失败")})},$=s=>{ge.video.getSelectVideo({params:{videoTitle:s.title}}).then(v=>{v.code==="200"?a.value=tl+v.url:(console.log(v.msg),q(v.msg))}).catch(v=>{console.log(v.message),q("视频展示出错")})},h=s=>{i.value=s,r.value=0,i.value.tag?c.value=i.value.number:c.value="",l.value=!0},d=()=>{i.value?i.value.tag===!0?h(i.value):(c.value="",l.value=!0,r.value=1):Ne("请先选择要操作的视频")},u=s=>{i.value=s},D=()=>{if(c.value===""||c.value.length>15){Ne("输入的标识字数需要大于0且小于15");return}let s={...i.value};s.tag=!0,s.number=c.value,ge.video.updateVideoTag(s).then(v=>{v.code==="200"?(i.value.tag=!0,i.value.number=c.value,_e("标注成功"),l.value=!1):q("标注失败")}).catch(v=>{console.log(v),q("标注失败")})},P=s=>{Ke("视频").then(()=>{ge.video.deleteVideo({params:{videoTitle:s}}).then(v=>{v.code==="200"?(_e("删除成功"),i.value={},n.value=n.value.filter(w=>w.title!==s)):(console.log(v.msg),q("删除失败"))}).catch(v=>{console.log(v),q("删除失败")})})},I=()=>{if(!i.value||i.value.tag===null)return;let s=i.value.title;Ke("标识").then(()=>{ge.video.deleteVideoTag({params:{videoTitle:s}}).then(v=>{v.code==="200"?(l.value=!1,_e("删除标识成功"),i.value.number="",i.value.tag=!1,b()):(console.log(v.msg),q("删除标识失败"))}).catch(v=>{console.log(v.message),q("删除标识失败")})})};return he(()=>{b(),ee.on("changeDialogVisible",h),ee.on("add",d),ee.on("touch",u),ee.on("deleteVideo",P)}),Je(()=>{ee.off("deleteVideo",P),ee.off("changeDialogVisible",h),ee.off("add",d),ee.off("touch",u)}),(s,v)=>{const w=Pe,y=Uo,N=Oo,S=Ze,A=Ee,B=ln,j=et,L=an,H=sn,ae=xo,J=Be,Y=tt;return e(m)?(f(),k("div",Ks,[t(gt,{videoList:e(n),isTagged:e(V),noTagged:e(C),onVideoSelected:$},null,8,["videoList","isTagged","noTagged"]),t(A,{show:e(l),"onUpdate:show":v[2]||(v[2]=X=>Z(l)?l.value=X:null),position:"bottom",style:{height:"50%"},closeable:""},{default:p(()=>[t(w,null,{default:p(()=>[g("span",Hs,K(e(i).title),1)]),_:1}),t(N,{inset:"",style:{"margin-top":"10%"}},{default:p(()=>[t(y,{modelValue:e(c),"onUpdate:modelValue":v[0]||(v[0]=X=>Z(c)?c.value=X:null),rows:"2",autosize:"",label:"标注",type:"textarea",maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),g("div",Xs,[t(S,{type:"warning",style:{width:"100px"},onClick:v[1]||(v[1]=X=>l.value=!1)},{default:p(()=>v[6]||(v[6]=[O("取消")])),_:1}),t(S,{type:"success",style:{width:"100px"},onClick:D},{default:p(()=>v[7]||(v[7]=[O("确认")])),_:1})])]),_:1},8,["show"]),t(bt,{videoUrl:e(a),showObject:e(i)},null,8,["videoUrl","showObject"])])):(f(),k("div",Ys,[g("div",Gs,[t(H,null,{default:p(()=>[t(B,{width:"500px"},{default:p(()=>[t(bt,{videoUrl:e(a),showObject:e(i)},null,8,["videoUrl","showObject"])]),_:1}),t(j,{style:{margin:"2% 3vw",height:"60vh"},direction:"vertical"}),t(H,null,{default:p(()=>[t(L,{style:{padding:"0"}},{default:p(()=>[t(gt,{videoList:e(n),isTagged:e(V),noTagged:e(C),onVideoSelected:$},null,8,["videoList","isTagged","noTagged"])]),_:1})]),_:1})]),_:1})]),t(Y,{modelValue:e(l),"onUpdate:modelValue":v[5]||(v[5]=X=>Z(l)?l.value=X:null),top:"30vh",width:"500",class:"diaglog",draggable:!0,"align-center":!0},{footer:p(()=>[g("div",el,[e(i).tag===!0?(f(),U(J,{key:0,type:"danger",onClick:I},{default:p(()=>v[8]||(v[8]=[O("删除标签")])),_:1})):F("",!0),t(J,{onClick:v[4]||(v[4]=X=>l.value=!1)},{default:p(()=>v[9]||(v[9]=[O("取消")])),_:1}),t(J,{type:"primary",onClick:D},{default:p(()=>v[10]||(v[10]=[O("确认")])),_:1})])]),default:p(()=>[e(r)===1?(f(),k("h2",Js,"新增注解")):F("",!0),e(r)===0?(f(),k("h2",Qs,"更改注解")):F("",!0),g("h3",Zs,K(e(i).title),1),g("div",null,[t(ae,{type:"text",modelValue:e(c),"onUpdate:modelValue":v[3]||(v[3]=X=>Z(c)?c.value=X:null),placeholder:"请输入标注（字数小于15）"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]))}}},_t=me(ol,[["__scopeId","data-v-2b45c7f2"]]),nl={key:0},sl={class:"header",style:{"margin-top":"10vh"}},ll={key:1},al={class:"header"},il={key:0,class:"progress-icon-container"},rl={__name:"Infer",setup(o){const n=x(!1),a=x(!1),l=x(0),i=x(!1),r=T(()=>be()),c=Oe(),_=()=>{i.value=!0,n.value=!0,a.value=!0,m()},m=()=>{Bo.trainModel({params:{modelid:c.processedModel.id}}).then(b=>{if(b.code==="200")l.value+=4;else{q("训练失败");return}}).catch(b=>{console.log(b),q("训练失败")});let V=0;const C=setInterval(()=>{V>=24?(l.value===100&&(i.value=!1,_e("训练成功")),clearInterval(C)):(l.value+=4,V++)},100)};return(V,C)=>{const b=Be,$=Kn,h=vn;return e(r)?(f(),k("div",nl,[g("div",sl,[g("span",null,"模型训练 "+K(e(l))+"%",1),t(b,{type:"success",onClick:_,disabled:e(i)},{default:p(()=>C[0]||(C[0]=[O("开始训练")])),_:1},8,["disabled"])]),t($,{percentage:e(l),"stroke-width":"8",color:"lightgreen",style:{width:"80%",transition:"width 1s ease",margin:"auto"}},null,8,["percentage"])])):(f(),k("div",ll,[g("div",al,[g("span",null,"模型训练 "+K(e(l))+"%",1),t(b,{type:"success",onClick:_,disabled:e(i)},{default:p(()=>C[1]||(C[1]=[O("开始训练")])),_:1},8,["disabled"])]),e(a)?(f(),k("div",il,[t(h,{percentage:e(l),"stroke-width":15,status:"success",striped:"","striped-flow":e(l)<100,duration:10,style:{width:"90%",transition:"width 1s ease"}},null,8,["percentage","striped-flow"])])):F("",!0)]))}}},ht=me(rl,[["__scopeId","data-v-93ce527e"]]),cl={key:0},ul={style:{height:"76vh","overflow-y":"auto","overflow-x":"hidden"}},dl={key:1},vl={style:{"font-size":"1.2rem"}},pl={class:"step"},fl={__name:"NewModels",setup(o){const n=x(0),a=Oe(),l=T(()=>be()),i=T(()=>a.processedModel.name),r=Eo(),c=()=>{n.value=(n.value+1)%3};return(_,m)=>{const V=Vo,C=Jn,b=Qn,$=Fn,h=qo,d=Wo,u=$n,D=kn,P=Po;return e(l)?(f(),k("div",cl,[t(V,{title:e(i),"left-arrow":"",onClickLeft:m[0]||(m[0]=I=>e(r).go(-1))},null,8,["title"]),t(b,{active:e(n)},{default:p(()=>[t(C,{onClick:m[1]||(m[1]=I=>n.value=0)},{default:p(()=>m[7]||(m[7]=[O("数据采集")])),_:1}),t(C,{onClick:m[2]||(m[2]=I=>n.value=1)},{default:p(()=>m[8]||(m[8]=[O("语料定义")])),_:1}),t(C,{onClick:m[3]||(m[3]=I=>n.value=2)},{default:p(()=>m[9]||(m[9]=[O("模型训练")])),_:1})]),_:1},8,["active"]),t($,{icon:"arrow",onClick:c}),g("div",ul,[(f(),U(it,null,[e(n)===0?(f(),U(mt,{key:0})):e(n)===1?(f(),U(_t,{key:1})):(f(),U(ht,{key:2}))],1024))])])):(f(),k("div",dl,[t(d,{"separator-icon":e(Tt)},{default:p(()=>[t(h,{to:{path:"/implents/models/myModels"}},{default:p(()=>m[10]||(m[10]=[O("我的模型")])),_:1}),t(h,null,{default:p(()=>[g("span",vl,K(e(i)),1)]),_:1})]),_:1},8,["separator-icon"]),t(P,{class:"models-body"},{header:p(()=>[g("div",pl,[t(D,{active:e(n),"align-center":""},{default:p(()=>[t(u,{title:"数据采集",class:"step-item",onClick:m[4]||(m[4]=I=>n.value=0)}),t(u,{title:"语料定义",class:"step-item",onClick:m[5]||(m[5]=I=>n.value=1)}),t(u,{title:"模型训练",class:"step-item",onClick:m[6]||(m[6]=I=>n.value=2)})]),_:1},8,["active"])])]),default:p(()=>[(f(),U(it,null,[e(n)===0?(f(),U(mt,{key:0})):e(n)===1?(f(),U(_t,{key:1})):(f(),U(ht,{key:2}))],1024))]),_:1})]))}}},Cl=me(fl,[["__scopeId","data-v-6e2184bc"]]);export{Cl as default};
