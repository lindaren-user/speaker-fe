import{cF as be,cG as We,cH as He,cI as ct,r as C,cJ as ut,cK as dt,bW as Fe,Z as $e,cL as Be,I as X,b_ as V,b7 as je,ah as H,ai as K,c7 as Ue,N as fe,b as k,cM as Ye,ba as Ze,c4 as ft,L as A,bU as ye,f as w,c8 as de,bZ as q,a2 as L,bS as Pe,bR as qe,an as ne,ag as W,bT as vt,aj as Xe,ak as le,cN as ht,Y as Te,bV as Ke,cO as Ae,cP as te,am as gt,ci as ke,bb as Ie,bd as Ee,cg as we,cn as mt,cd as bt,cQ as ze,cR as wt,cS as yt,cT as Tt,be as Ge,aK as xt,R as St,cU as Ct,ab as pt,aF as Je,aG as Qe,aq as _t,bf as Me,aB as kt,cV as It,b9 as Rt,M as $t,bc as Oe,_ as et,d as Bt,c as ce,o as ae,a as Y,e as U,w as Z,i as ee,B as Pt,j as tt,aE as At,a1 as Et,k as at,a8 as zt,a9 as Ne,ac as Ve,cW as Mt,ca as se}from"./index-W0IEFz95.js";import{u as nt}from"./index-Cvs2uSQ1.js";import{T as Ot}from"./index-u__Q2BrB.js";import"./el-tooltip-l0sNRNKZ.js";function Nt(e,i,s){let n,o=0;const t=e.scrollLeft,u=s===0?1:Math.round(s*1e3/16);let r=t;function a(){We(n)}function g(){r+=(i-t)/u,e.scrollLeft=r,++o<u&&(n=be(g))}return g(),a}function Vt(e,i,s,n){let o,t=He(e);const u=t<i,r=s===0?1:Math.round(s*1e3/16),a=(i-t)/r;function g(){We(o)}function c(){t+=a,(u&&t>i||!u&&t<i)&&(t=i),ct(e,t),u&&t<i||!u&&t>i?o=be(c):n&&(o=be(n))}return c(),g}function Dt(){const e=C([]),i=[];return ut(()=>{e.value=[]}),[e,n=>(i[n]||(i[n]=o=>{e.value[n]=o}),i[n])]}function lt(e,i){if(!dt||!window.IntersectionObserver)return;const s=new IntersectionObserver(t=>{i(t[0].intersectionRatio>0)},{root:document.body}),n=()=>{e.value&&s.observe(e.value)},o=()=>{e.value&&s.unobserve(e.value)};Fe(o),$e(o),Be(n)}const[Lt,Wt]=K("sticky"),Ht={zIndex:H,position:je("top"),container:Object,offsetTop:V(0),offsetBottom:V(0)};var Ft=X({name:Lt,props:Ht,emits:["scroll","change"],setup(e,{emit:i,slots:s}){const n=C(),o=Ue(n),t=fe({fixed:!1,width:0,height:0,transform:0}),u=C(!1),r=k(()=>Ye(e.position==="top"?e.offsetTop:e.offsetBottom)),a=k(()=>{if(u.value)return;const{fixed:f,height:S,width:b}=t;if(f)return{width:`${b}px`,height:`${S}px`}}),g=k(()=>{if(!t.fixed||u.value)return;const f=Ze(ft(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),c=f=>i("scroll",{scrollTop:f,isFixed:t.fixed}),y=()=>{if(!n.value||de(n))return;const{container:f,position:S}=e,b=q(n),x=He(window);if(t.width=b.width,t.height=b.height,S==="top")if(f){const d=q(f),I=d.bottom-r.value-t.height;t.fixed=r.value>b.top&&d.bottom>0,t.transform=I<0?I:0}else t.fixed=r.value>b.top;else{const{clientHeight:d}=document.documentElement;if(f){const I=q(f),v=d-I.top-r.value-t.height;t.fixed=d-r.value<b.bottom&&d>I.top,t.transform=v<0?-v:0}else t.fixed=d-r.value<b.bottom}c(x)};return A(()=>t.fixed,f=>i("change",f)),ye("scroll",y,{target:o,passive:!0}),lt(n,y),A([Pe,qe],()=>{!n.value||de(n)||!t.fixed||(u.value=!0,L(()=>{const f=q(n);t.width=f.width,t.height=f.height,u.value=!1}))}),()=>{var f;return w("div",{ref:n,style:a.value},[w("div",{class:Wt({fixed:t.fixed&&!u.value}),style:g.value},[(f=s.default)==null?void 0:f.call(s)])])}}});const jt=ne(Ft),[ot,ge]=K("swipe"),Ut={loop:W,width:H,height:H,vertical:Boolean,autoplay:V(0),duration:V(500),touchable:W,lazyRender:Boolean,initialSwipe:V(0),indicatorColor:String,showIndicators:W,stopPropagation:W},it=Symbol(ot);var Yt=X({name:ot,props:Ut,emits:["change","dragStart","dragEnd"],setup(e,{emit:i,slots:s}){const n=C(),o=C(),t=fe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let u=!1;const r=vt(),{children:a,linkChildren:g}=Xe(it),c=k(()=>a.length),y=k(()=>t[e.vertical?"height":"width"]),f=k(()=>e.vertical?r.deltaY.value:r.deltaX.value),S=k(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-y.value*c.value:0),b=k(()=>y.value?Math.ceil(Math.abs(S.value)/y.value):c.value),x=k(()=>c.value*y.value),d=k(()=>(t.active+c.value)%c.value),I=k(()=>{const h=e.vertical?"vertical":"horizontal";return r.direction.value===h}),v=k(()=>{const h={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(y.value){const p=e.vertical?"height":"width",_=e.vertical?"width":"height";h[p]=`${x.value}px`,h[_]=e[_]?`${e[_]}px`:""}return h}),R=h=>{const{active:p}=t;return h?e.loop?ke(p+h,-1,c.value):ke(p+h,0,b.value):p},B=(h,p=0)=>{let _=h*y.value;e.loop||(_=Math.min(_,-S.value));let z=p-_;return e.loop||(z=ke(z,S.value,0)),z},$=({pace:h=0,offset:p=0,emitChange:_})=>{if(c.value<=1)return;const{active:z}=t,l=R(h),m=B(l,p);if(e.loop){if(a[0]&&m!==S.value){const T=m<S.value;a[0].setOffset(T?x.value:0)}if(a[c.value-1]&&m!==0){const T=m>0;a[c.value-1].setOffset(T?-x.value:0)}}t.active=l,t.offset=m,_&&l!==z&&i("change",d.value)},D=()=>{t.swiping=!0,t.active<=-1?$({pace:c.value}):t.active>=c.value&&$({pace:-c.value})},F=()=>{D(),r.reset(),te(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},oe=()=>{D(),r.reset(),te(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let j;const E=()=>clearTimeout(j),G=()=>{E(),+e.autoplay>0&&c.value>1&&(j=setTimeout(()=>{oe(),G()},+e.autoplay))},O=(h=+e.initialSwipe)=>{if(!n.value)return;const p=()=>{var _,z;if(!de(n)){const l={width:n.value.offsetWidth,height:n.value.offsetHeight};t.rect=l,t.width=+((_=e.width)!=null?_:l.width),t.height=+((z=e.height)!=null?z:l.height)}c.value&&(h=Math.min(c.value-1,h),h===-1&&(h=c.value-1)),t.active=h,t.swiping=!0,t.offset=B(h),a.forEach(l=>{l.setOffset(0)}),G()};de(n)?L().then(p):p()},J=()=>O(t.active);let ie;const xe=h=>{!e.touchable||h.touches.length>1||(r.start(h),u=!1,ie=Date.now(),E(),D())},Se=h=>{e.touchable&&t.swiping&&(r.move(h),I.value&&(!e.loop&&(t.active===0&&f.value>0||t.active===c.value-1&&f.value<0)||(gt(h,e.stopPropagation),$({offset:f.value}),u||(i("dragStart",{index:d.value}),u=!0))))},ve=()=>{if(!e.touchable||!t.swiping)return;const h=Date.now()-ie,p=f.value/h;if((Math.abs(p)>.25||Math.abs(f.value)>y.value/2)&&I.value){const z=e.vertical?r.offsetY.value:r.offsetX.value;let l=0;e.loop?l=z>0?f.value>0?-1:1:0:l=-Math[f.value>0?"ceil":"floor"](f.value/y.value),$({pace:l,emitChange:!0})}else f.value&&$({pace:0});u=!1,t.swiping=!1,i("dragEnd",{index:d.value}),G()},Ce=(h,p={})=>{D(),r.reset(),te(()=>{let _;e.loop&&h===c.value?_=t.active===0?0:h:_=h%c.value,p.immediate?te(()=>{t.swiping=!1}):t.swiping=!1,$({pace:_-t.active,emitChange:!0})})},pe=(h,p)=>{const _=p===d.value,z=_?{backgroundColor:e.indicatorColor}:void 0;return w("i",{style:z,class:ge("indicator",{active:_})},null)},_e=()=>{if(s.indicator)return s.indicator({active:d.value,total:c.value});if(e.showIndicators&&c.value>1)return w("div",{class:ge("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(pe)])};return le({prev:F,next:oe,state:t,resize:J,swipeTo:Ce}),g({size:y,props:e,count:c,activeIndicator:d}),A(()=>e.initialSwipe,h=>O(+h)),A(c,()=>O(t.active)),A(()=>e.autoplay,G),A([Pe,qe,()=>e.width,()=>e.height],J),A(ht(),h=>{h==="visible"?G():E()}),Te(O),Ke(()=>O(t.active)),Ae(()=>O(t.active)),Fe(E),$e(E),ye("touchmove",Se,{target:o}),()=>{var h;return w("div",{ref:n,class:ge()},[w("div",{ref:o,style:v.value,class:ge("track",{vertical:e.vertical}),onTouchstartPassive:xe,onTouchend:ve,onTouchcancel:ve},[(h=s.default)==null?void 0:h.call(s)]),_e()])}}});const Zt=ne(Yt),[qt,De]=K("tabs");var Xt=X({name:qt,props:{count:Ie(Number),inited:Boolean,animated:Boolean,duration:Ie(H),swipeable:Boolean,lazyRender:Boolean,currentIndex:Ie(Number)},emits:["change"],setup(e,{emit:i,slots:s}){const n=C(),o=r=>i("change",r),t=()=>{var r;const a=(r=s.default)==null?void 0:r.call(s);return e.animated||e.swipeable?w(Zt,{ref:n,loop:!1,class:De("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[a]}):a},u=r=>{const a=n.value;a&&a.state.active!==r&&a.swipeTo(r,{immediate:!e.inited})};return A(()=>e.currentIndex,u),Te(()=>{u(e.currentIndex)}),le({swipeRef:n}),()=>w("div",{class:De("content",{animated:e.animated||e.swipeable})},[t()])}});const[st,me]=K("tabs"),Kt={type:je("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:V(0),duration:V(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:V(0),background:String,lazyRender:W,showHeader:W,lineWidth:H,lineHeight:H,beforeChange:Function,swipeThreshold:V(5),titleActiveColor:String,titleInactiveColor:String},rt=Symbol(st);var Gt=X({name:st,props:Kt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:i,slots:s}){let n,o,t,u,r;const a=C(),g=C(),c=C(),y=C(),f=nt(),S=Ue(a),[b,x]=Dt(),{children:d,linkChildren:I}=Xe(rt),v=fe({inited:!1,position:"",lineStyle:{},currentIndex:-1}),R=k(()=>d.length>+e.swipeThreshold||!e.ellipsis||e.shrink),B=k(()=>({borderColor:e.color,background:e.background})),$=(l,m)=>{var T;return(T=l.name)!=null?T:m},D=k(()=>{const l=d[v.currentIndex];if(l)return $(l,v.currentIndex)}),F=k(()=>Ye(e.offsetTop)),oe=k(()=>e.sticky?F.value+n:0),j=l=>{const m=g.value,T=b.value;if(!R.value||!m||!T||!T[v.currentIndex])return;const M=T[v.currentIndex].$el,P=M.offsetLeft-(m.offsetWidth-M.offsetWidth)/2;u&&u(),u=Nt(m,P,l?0:+e.duration)},E=()=>{const l=v.inited;L(()=>{const m=b.value;if(!m||!m[v.currentIndex]||e.type!=="line"||de(a.value))return;const T=m[v.currentIndex].$el,{lineWidth:M,lineHeight:P}=e,N=T.offsetLeft+T.offsetWidth/2,Q={width:Ee(M),backgroundColor:e.color,transform:`translateX(${N}px) translateX(-50%)`};if(l&&(Q.transitionDuration=`${e.duration}s`),we(P)){const he=Ee(P);Q.height=he,Q.borderRadius=he}v.lineStyle=Q})},G=l=>{const m=l<v.currentIndex?-1:1;for(;l>=0&&l<d.length;){if(!d[l].disabled)return l;l+=m}},O=(l,m)=>{const T=G(l);if(!we(T))return;const M=d[T],P=$(M,T),N=v.currentIndex!==null;v.currentIndex!==T&&(v.currentIndex=T,m||j(),E()),P!==e.active&&(i("update:active",P),N&&i("change",P,M.title)),t&&!e.scrollspy&&bt(Math.ceil(ze(a.value)-F.value))},J=(l,m)=>{const T=d.find((P,N)=>$(P,N)===l),M=T?d.indexOf(T):0;O(M,m)},ie=(l=!1)=>{if(e.scrollspy){const m=d[v.currentIndex].$el;if(m&&S.value){const T=ze(m,S.value)-oe.value;o=!0,r&&r(),r=Vt(S.value,T,l?0:+e.duration,()=>{o=!1})}}},xe=(l,m,T)=>{const{title:M,disabled:P}=d[m],N=$(d[m],m);P||(wt(e.beforeChange,{args:[N],done:()=>{O(m),ie()}}),yt(l)),i("clickTab",{name:N,title:M,event:T,disabled:P})},Se=l=>{t=l.isFixed,i("scroll",l)},ve=l=>{L(()=>{J(l),ie(!0)})},Ce=()=>{for(let l=0;l<d.length;l++){const{top:m}=q(d[l].$el);if(m>oe.value)return l===0?0:l-1}return d.length-1},pe=()=>{if(e.scrollspy&&!o){const l=Ce();O(l)}},_e=()=>{if(e.type==="line"&&d.length)return w("div",{class:me("line"),style:v.lineStyle},null)},h=()=>{var l,m,T;const{type:M,border:P,sticky:N}=e,Q=[w("div",{ref:N?void 0:c,class:[me("wrap"),{[mt]:M==="line"&&P}]},[w("div",{ref:g,role:"tablist",class:me("nav",[M,{shrink:e.shrink,complete:R.value}]),style:B.value,"aria-orientation":"horizontal"},[(l=s["nav-left"])==null?void 0:l.call(s),d.map(he=>he.renderTitle(xe)),_e(),(m=s["nav-right"])==null?void 0:m.call(s)])]),(T=s["nav-bottom"])==null?void 0:T.call(s)];return N?w("div",{ref:c},[Q]):Q},p=()=>{E(),L(()=>{var l,m;j(!0),(m=(l=y.value)==null?void 0:l.swipeRef.value)==null||m.resize()})};A(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],E),A(Pe,p),A(()=>e.active,l=>{l!==D.value&&J(l)}),A(()=>d.length,()=>{v.inited&&(J(e.active),E(),L(()=>{j(!0)}))});const _=()=>{J(e.active,!0),L(()=>{v.inited=!0,c.value&&(n=q(c.value).height),j(!0)})},z=(l,m)=>i("rendered",l,m);return le({resize:p,scrollTo:ve}),Ke(E),Ae(E),Be(_),lt(a,E),ye("scroll",pe,{target:S,passive:!0}),I({id:f,props:e,setLine:E,scrollable:R,onRendered:z,currentName:D,setTitleRefs:x,scrollIntoView:j}),()=>w("div",{ref:a,class:me([e.type])},[e.showHeader?e.sticky?w(jt,{container:a.value,offsetTop:F.value,onScroll:Se},{default:()=>[h()]}):h():null,w(Xt,{ref:y,count:d.length,inited:v.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:v.currentIndex,onChange:O},{default:()=>{var l;return[(l=s.default)==null?void 0:l.call(s)]}})])}});const[Jt,Le]=K("tab"),Qt=X({name:Jt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:H,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:i}){const s=k(()=>{const o={},{type:t,color:u,disabled:r,isActive:a,activeColor:g,inactiveColor:c}=e;u&&t==="card"&&(o.borderColor=u,r||(a?o.backgroundColor=u:o.color=u));const f=a?g:c;return f&&(o.color=f),o}),n=()=>{const o=w("span",{class:Le("text",{ellipsis:!e.scrollable})},[i.title?i.title():e.title]);return e.dot||we(e.badge)&&e.badge!==""?w(Tt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>w("div",{id:e.id,role:"tab",class:[Le([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:s.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[n()])}}),[ea,ta]=K("swipe-item");var aa=X({name:ea,setup(e,{slots:i}){let s;const n=fe({offset:0,inited:!1,mounted:!1}),{parent:o,index:t}=Ge(it);if(!o)return;const u=k(()=>{const g={},{vertical:c}=o.props;return o.size.value&&(g[c?"height":"width"]=`${o.size.value}px`),n.offset&&(g.transform=`translate${c?"Y":"X"}(${n.offset}px)`),g}),r=k(()=>{const{loop:g,lazyRender:c}=o.props;if(!c||s)return!0;if(!n.mounted)return!1;const y=o.activeIndicator.value,f=o.count.value-1,S=y===0&&g?f:y-1,b=y===f&&g?0:y+1;return s=t.value===y||t.value===S||t.value===b,s}),a=g=>{n.offset=g};return Te(()=>{L(()=>{n.mounted=!0})}),le({setOffset:a}),()=>{var g;return w("div",{class:ta(),style:u.value},[r.value?(g=i.default)==null?void 0:g.call(i):null])}}});const na=ne(aa),[la,Re]=K("tab"),oa=Ze({},It,{dot:Boolean,name:H,badge:H,title:String,disabled:Boolean,titleClass:Rt,titleStyle:[String,Object],showZeroBadge:W});var ia=X({name:la,props:oa,setup(e,{slots:i}){const s=nt(),n=C(!1),o=kt(),{parent:t,index:u}=Ge(rt);if(!t)return;const r=()=>{var b;return(b=e.name)!=null?b:u.value},a=()=>{n.value=!0,t.props.lazyRender&&L(()=>{t.onRendered(r(),e.title)})},g=k(()=>{const b=r()===t.currentName.value;return b&&!n.value&&a(),b}),c=C(""),y=C("");xt(()=>{const{titleClass:b,titleStyle:x}=e;c.value=b?St(b):"",y.value=x&&typeof x!="string"?Ct(pt(x)):x});const f=b=>w(Qt,_t({key:s,id:`${t.id}-${u.value}`,ref:t.setTitleRefs(u.value),style:y.value,class:c.value,isActive:g.value,controls:s,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:x=>b(o.proxy,u.value,x)},Me(t.props,["type","color","shrink"]),Me(e,["dot","badge","title","disabled","showZeroBadge"])),{title:i.title}),S=C(!g.value);return A(g,b=>{b?S.value=!1:te(()=>{S.value=!0})}),A(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),$t(Ot,g),le({id:s,renderTitle:f}),()=>{var b;const x=`${t.id}-${u.value}`,{animated:d,swipeable:I,scrollspy:v,lazyRender:R}=t.props;if(!i.default&&!d)return;const B=v||g.value;if(d||I)return w(na,{id:s,role:"tabpanel",class:Re("panel-wrapper",{inactive:S.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":x,"data-allow-mismatch":"attribute"},{default:()=>{var F;return[w("div",{class:Re("panel")},[(F=i.default)==null?void 0:F.call(i)])]}});const D=n.value||v||!R?(b=i.default)==null?void 0:b.call(i):null;return Je(w("div",{id:s,role:"tabpanel",class:Re("panel"),tabindex:B?0:-1,"aria-labelledby":x,"data-allow-mismatch":"attribute"},[D]),[[Qe,B]])}}});const xa=ne(ia),Sa=ne(Gt),[sa,re]=K("notice-bar"),ra={text:String,mode:String,color:String,delay:V(1),speed:V(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var ca=X({name:sa,props:ra,emits:["close","replay"],setup(e,{emit:i,slots:s}){let n=0,o=0,t;const u=C(),r=C(),a=fe({show:!0,offset:0,duration:0}),g=()=>{if(s["left-icon"])return s["left-icon"]();if(e.leftIcon)return w(Oe,{class:re("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},y=d=>{e.mode==="closeable"&&(a.show=!1,i("close",d))},f=()=>{if(s["right-icon"])return s["right-icon"]();const d=c();if(d)return w(Oe,{name:d,class:re("right-icon"),onClick:y},null)},S=()=>{a.offset=n,a.duration=0,be(()=>{te(()=>{a.offset=-o,a.duration=(o+n)/+e.speed,i("replay")})})},b=()=>{const d=e.scrollable===!1&&!e.wrapable,I={transform:a.offset?`translateX(${a.offset}px)`:"",transitionDuration:`${a.duration}s`};return w("div",{ref:u,role:"marquee",class:re("wrap")},[w("div",{ref:r,style:I,class:[re("content"),{"van-ellipsis":d}],onTransitionend:S},[s.default?s.default():e.text])])},x=()=>{const{delay:d,speed:I,scrollable:v}=e,R=we(d)?+d*1e3:0;n=0,o=0,a.offset=0,a.duration=0,clearTimeout(t),t=setTimeout(()=>{if(!u.value||!r.value||v===!1)return;const B=q(u).width,$=q(r).width;(v||$>B)&&te(()=>{n=B,o=$,a.offset=-o,a.duration=o/+I})},R)};return Ae(x),Be(x),ye("pageshow",x),le({reset:x}),A(()=>[e.text,e.scrollable],x),()=>{const{color:d,wrapable:I,background:v}=e;return Je(w("div",{role:"alert",class:re({wrapable:I}),style:{color:d,background:v}},[g(),b(),f()]),[[Qe,a.show]])}}});const Ca=ne(ca),ua={key:0,style:{display:"flex","justify-content":"center",gap:"20vw"}},da={key:1,class:"control-panel"},fa={__name:"ControlPanel",emits:["add-video","start-recording","upload"],setup(e,{emit:i}){const s=i,n=k(()=>Bt()),o=C(null),t=()=>{o.value.click()},u=r=>{const a=r.target.files[0];if(a){if(!a.type.includes("video")){at("请选择视频文件");return}s("add-video",a),o.value.value=null}};return(r,a)=>{const g=Pt,c=tt,y=At;return ae(),ce(Et,null,[U(n)?(ae(),ce("div",ua,[w(g,{type:"primary",onClick:t},{default:Z(()=>a[3]||(a[3]=[Y("i",{class:"iconfont icon-shangchuan"},null,-1),ee(" 视频选择 ")])),_:1}),w(g,{type:"warning",onClick:a[0]||(a[0]=f=>s("upload"))},{default:Z(()=>a[4]||(a[4]=[Y("i",{class:"iconfont icon-shangchuan1"},null,-1),ee(" 一键上传 ")])),_:1})])):(ae(),ce("div",da,[w(c,{type:"primary",onClick:t},{default:Z(()=>a[5]||(a[5]=[Y("i",{class:"iconfont icon-shangchuan"},null,-1),ee(" 选择本地视频 ")])),_:1}),w(y,{content:"将打开本机摄像头进行录制"},{default:Z(()=>[w(c,{type:"success",onClick:a[1]||(a[1]=f=>s("start-recording"))},{default:Z(()=>a[6]||(a[6]=[Y("i",{class:"iconfont icon-luzhi"},null,-1),ee(" 摄像头录制 ")])),_:1})]),_:1}),w(c,{type:"warning",onClick:a[2]||(a[2]=f=>s("upload"))},{default:Z(()=>a[7]||(a[7]=[Y("i",{class:"iconfont icon-shangchuan1"},null,-1),ee(" 一键上传 ")])),_:1})])),Y("input",{type:"file",ref_key:"fileInput",ref:o,hidden:"",accept:"video/*",onChange:u},null,544)],64)}}},pa=et(fa,[["__scopeId","data-v-9ed4e68a"]]),va={class:"camera-recorder"},ha={class:"controls"},ga={key:1},ma={__name:"CameraRecorder",emits:["record-complete"],setup(e,{emit:i}){const s=C(null),n=C(null),o=C(!1),t=C(!1),u=C(0),r=C(null),a=C([]),g=i;Te(()=>c()),$e(()=>y());const c=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(v=>{s.value.srcObject=v,n.value=new MediaRecorder(v),n.value.ondataavailable=R=>{a.value.push(R.data)},n.value.onstop=()=>{const R=new Blob(a.value,{type:"video/x-msvideo"});g("record-complete",R),a.value=[]}}).catch(v=>{console.error("摄像头访问失败:",v),at("无法访问摄像头")})},y=()=>{var v;(v=n.value)!=null&&v.stream&&n.value.stream.getTracks().forEach(R=>R.stop())},f=()=>{o.value?t.value?x():b():S()},S=()=>{var v;(v=n.value)!=null&&v.stream&&(n.value.start(),o.value=!0,t.value=!1,r.value=setInterval(()=>{u.value++},1e3))},b=()=>{n.value&&(n.value.pause(),t.value=!0,clearInterval(r.value))},x=()=>{n.value&&(n.value.resume(),t.value=!1,r.value=setInterval(()=>{u.value++},1e3))},d=()=>{n.value&&(n.value.stop(),clearInterval(r.value),o.value=!1,t.value=!1,u.value=0)},I=v=>{const R=Math.floor(v/60),B=v%60;return`${R}:${B.toString().padStart(2,"0")}`};return(v,R)=>{const B=tt;return ae(),ce("div",va,[Y("video",{ref_key:"videoElement",ref:s,autoplay:"",muted:""},null,512),Y("div",ha,[w(B,{type:U(o)&&U(t)?"primary":"danger",onClick:f},{default:Z(()=>[ee(Ve(U(o)?U(t)?"继续录制":"暂停录制":"开始录制"),1)]),_:1},8,["type"]),U(o)?(ae(),zt(B,{key:0,type:"danger",onClick:d},{default:Z(()=>R[0]||(R[0]=[ee(" 停止录制 ")])),_:1})):Ne("",!0),U(o)?(ae(),ce("span",ga,"  "+Ve(I(U(u))),1)):Ne("",!0)])])}}},_a=et(ma,[["__scopeId","data-v-feb95843"]]),ue=Mt.create({timeout:1e4});ue.interceptors.request.use(e=>(e.headers["Content-Type"]="multipart/form-data;charset=UTF-8",e),e=>Promise.reject(e));ue.interceptors.response.use(e=>{let i=e.data;return e.config.responseType==="blob"||typeof i=="string"&&(i=i&&JSON.parse(i)),i},e=>Promise.reject(e));const ka={video:{uploadAllVideos:e=>ue.post("/api/upload",e),uploadVideo:e=>ue.post("/api/infer",e),getAllVideos:e=>se.get("/api/list",e),getSelectVideo:e=>se.get("/api/getVideo",e),updateVideoTag:e=>se.put("/api/updateTag",e),deleteVideo:e=>se.delete("/api/deleteVideo",e),deleteVideoTag:e=>se.put("/api/deleteTag",null,e)},audio:{toText:e=>ue.post("/api/audio2text",e)}};export{pa as C,Ca as N,Zt as S,xa as T,na as a,_a as b,Sa as c,ka as f};
