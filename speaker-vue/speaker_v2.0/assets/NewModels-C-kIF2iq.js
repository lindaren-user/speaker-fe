import{bg as Gn,bh as Jn,bi as Zn,bj as an,bk as Qn,bl as ea,bm as ta,v as xe,aE as on,A as pe,C as Y,bn as na,H as ue,l as B,T as be,c as D,o as C,M as le,u as c,N as K,J as wt,x as Ue,Q as qe,ay as Me,a as T,a3 as X,w as k,a5 as Tt,j as ve,a7 as te,a9 as Ye,aa as Ee,bo as gt,az as aa,bp as nt,aH as oa,bq as la,Z as ln,b as I,a6 as fe,br as sa,bs as ia,bt as ra,bu as ca,bv as sn,bw as $t,O as ua,s as ht,a4 as Q,aP as rn,aO as Ut,I as ee,e as i,D as Fe,U as Xe,i as q,aK as bt,R as Bt,W as _t,ax as xt,X as oe,bx as da,by as fa,V as va,bz as pa,aw as cn,ap as Se,bA as ma,aQ as un,bB as Ft,bC as dn,aB as De,aC as Ne,bD as Ct,bE as fn,bF as vn,bG as ya,bH as ga,bI as It,bJ as pn,bK as ge,bL as je,ac as me,ad as ye,bM as mn,bN as yn,b0 as gn,bO as ha,bP as st,bQ as He,bR as Pe,bS as Ae,bT as We,ai as Ce,ab as he,bU as hn,ae as Pt,af as Ge,bV as ba,bW as Dt,bX as bn,bY as Le,ah as _a,bZ as ut,b1 as dt,b3 as Ke,b_ as kt,b$ as xa,c0 as Ca,c1 as Lt,c2 as ka,c3 as Sa,c4 as wa,b4 as Et,aG as _n,c5 as Ta,am as xn,b5 as at,c6 as $a,a_ as Ua,c7 as zt,c8 as Ba,c9 as Ia,ca as Pa,b2 as ft,_ as Be,d as Re,r as ot,F as we,ba as Te,B as Rt,aW as ce,b9 as Je,aV as ze,g as Cn,h as it,n as ie,cb as Da,b6 as rt,E as Vt,bf as lt,S as Oe,be as St,aA as Ea,m as Ra}from"./index-8BGEKXL5.js";import{S as kn,E as Sn,b as Nt,c as At,a as Va}from"./index-BkVGPanl.js";import{g as Na,c as Aa,a as Oa,b as Ma,N as Fa}from"./index-DFGj4Vtn.js";import{D as Ze}from"./index-B5kIndmL.js";import{h as wn,v as La,N as Tn,C as Wt,a as za,f as Ve}from"./el-loading-CLkhb9vh.js";import{u as Wa,L as $n,m as ja}from"./models_service-CCIC_Hya.js";import{C as Un}from"./index-CunHcpx_.js";import{C as Ha}from"./index-BM0GT-Sb.js";import{F as Ka}from"./index-B6C2iDdd.js";import"./el-tooltip-l0sNRNKZ.js";import{u as Bn}from"./use-id-C2xuM82q.js";import"https://avatar.gbqr.net/yiyu.js";var qa="[object Object]",Ya=Function.prototype,Xa=Object.prototype,In=Ya.toString,Ga=Xa.hasOwnProperty,Ja=In.call(Object);function Za(e){if(!Gn(e)||Jn(e)!=qa)return!1;var n=Na(e);if(n===null)return!0;var a=Ga.call(n,"constructor")&&n.constructor;return typeof a=="function"&&a instanceof a&&In.call(a)==Ja}function Qa(e,n,a){var o=-1,l=e.length;n<0&&(n=-n>l?0:l+n),a=a>l?l:a,a<0&&(a+=l),l=n>a?0:a-n>>>0,n>>>=0;for(var t=Array(l);++o<l;)t[o]=e[o+n];return t}function eo(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}function to(e,n){return n.length<2?e:Zn(e,Qa(n,0,-1))}function no(e,n){return n=an(n,e),e=to(e,n),e==null||delete e[Qn(eo(n))]}function ao(e){return Za(e)?void 0:e}var oo=1,lo=2,so=4,io=ea(function(e,n){var a={};if(e==null)return a;var o=!1;n=ta(n,function(t){return t=an(t,e),o||(o=t.length>1),t}),Aa(e,Oa(e),a),o&&(a=Ma(a,oo|lo|so,ao));for(var l=n.length;l--;)no(a,n[l]);return a});const Pn=Symbol("breadcrumbKey"),ro=xe({separator:{type:String,default:"/"},separatorIcon:{type:on}}),co=Y({name:"ElBreadcrumb"}),uo=Y({...co,props:ro,setup(e){const n=e,{t:a}=na(),o=ue("breadcrumb"),l=B();return wt(Pn,n),be(()=>{const t=l.value.querySelectorAll(`.${o.e("item")}`);t.length&&t[t.length-1].setAttribute("aria-current","page")}),(t,p)=>(C(),D("div",{ref_key:"breadcrumb",ref:l,class:K(c(o).b()),"aria-label":c(a)("el.breadcrumb.label"),role:"navigation"},[le(t.$slots,"default")],10,["aria-label"]))}});var fo=pe(uo,[["__file","breadcrumb.vue"]]);const vo=xe({to:{type:Ue([String,Object]),default:""},replace:Boolean}),po=Y({name:"ElBreadcrumbItem"}),mo=Y({...po,props:vo,setup(e){const n=e,a=Me(),o=qe(Pn,void 0),l=ue("breadcrumb"),t=a.appContext.config.globalProperties.$router,p=B(),u=()=>{!n.to||!t||(n.replace?t.replace(n.to):t.push(n.to))};return(m,v)=>{var s,d;return C(),D("span",{class:K(c(l).e("item"))},[T("span",{ref_key:"link",ref:p,class:K([c(l).e("inner"),c(l).is("link",!!m.to)]),role:"link",onClick:u},[le(m.$slots,"default")],2),(s=c(o))!=null&&s.separatorIcon?(C(),X(c(ve),{key:0,class:K(c(l).e("separator"))},{default:k(()=>[(C(),X(Tt(c(o).separatorIcon)))]),_:1},8,["class"])):(C(),D("span",{key:1,class:K(c(l).e("separator")),role:"presentation"},te((d=c(o))==null?void 0:d.separator),3))],2)}}});var Dn=pe(mo,[["__file","breadcrumb-item.vue"]]);const yo=Ye(fo,{BreadcrumbItem:Dn}),go=Ee(Dn);function ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const bo=(e,n,a)=>oa(e.subTree).filter(t=>{var p;return la(t)&&((p=t.type)==null?void 0:p.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>a[t]).filter(t=>!!t),En=(e,n)=>{const a=gt({}),o=gt([]),l=new WeakMap,t=s=>{a.value[s.uid]=s,nt(a),be(()=>{const d=s.getVnode().el,r=d.parentNode;if(!l.has(r)){l.set(r,[]);const f=r.insertBefore.bind(r);r.insertBefore=(b,x)=>(l.get(r).some(R=>b===R||x===R)&&nt(a),f(b,x))}l.get(r).push(d)})},p=s=>{delete a.value[s.uid],nt(a);const d=s.getVnode().el,r=d.parentNode,f=l.get(r),b=f.indexOf(d);f.splice(b,1)},u=()=>{o.value=bo(e,n,a.value)},m=s=>s.render(),v=Y({setup(s,{slots:d}){return()=>(u(),d.default?aa(m,{render:d.default}):null)}});return{children:o,addChild:t,removeChild:p,ChildrenSorter:v}},_o=Y({name:"ElContainer"}),xo=Y({..._o,props:{direction:{type:String}},setup(e){const n=e,a=ln(),o=ue("container"),l=I(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:a&&a.default?a.default().some(p=>{const u=p.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(t,p)=>(C(),D("section",{class:K([c(o).b(),c(o).is("vertical",c(l))])},[le(t.$slots,"default")],2))}});var Co=pe(xo,[["__file","container.vue"]]);const ko=Y({name:"ElAside"}),So=Y({...ko,props:{width:{type:String,default:null}},setup(e){const n=e,a=ue("aside"),o=I(()=>n.width?a.cssVarBlock({width:n.width}):{});return(l,t)=>(C(),D("aside",{class:K(c(a).b()),style:fe(c(o))},[le(l.$slots,"default")],6))}});var Rn=pe(So,[["__file","aside.vue"]]);const wo=Y({name:"ElFooter"}),To=Y({...wo,props:{height:{type:String,default:null}},setup(e){const n=e,a=ue("footer"),o=I(()=>n.height?a.cssVarBlock({height:n.height}):{});return(l,t)=>(C(),D("footer",{class:K(c(a).b()),style:fe(c(o))},[le(l.$slots,"default")],6))}});var Vn=pe(To,[["__file","footer.vue"]]);const $o=Y({name:"ElHeader"}),Uo=Y({...$o,props:{height:{type:String,default:null}},setup(e){const n=e,a=ue("header"),o=I(()=>n.height?a.cssVarBlock({height:n.height}):{});return(l,t)=>(C(),D("header",{class:K(c(a).b()),style:fe(c(o))},[le(l.$slots,"default")],6))}});var Nn=pe(Uo,[["__file","header.vue"]]);const Bo=Y({name:"ElMain"}),Io=Y({...Bo,setup(e){const n=ue("main");return(a,o)=>(C(),D("main",{class:K(c(n).b())},[le(a.$slots,"default")],2))}});var An=pe(Io,[["__file","main.vue"]]);const Po=Ye(Co,{Aside:Rn,Footer:Vn,Header:Nn,Main:An}),Do=Ee(Rn);Ee(Vn);Ee(Nn);const Eo=Ee(An),$e=e=>sa(e),Ro=xe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ue(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ue([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ue(Function),default:e=>`${e}%`}}),Vo=Y({name:"ElProgress"}),No=Y({...Vo,props:Ro,setup(e){const n=e,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=ue("progress"),l=I(()=>{const h={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},_=S(n.percentage);return _.includes("gradient")?h.background=_:h.backgroundColor=_,h}),t=I(()=>(n.strokeWidth/n.width*100).toFixed(1)),p=I(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(t.value)/2}`,10):0),u=I(()=>{const h=p.value,_=n.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${h}
          a ${h} ${h} 0 1 1 0 ${_?"-":""}${h*2}
          a ${h} ${h} 0 1 1 0 ${_?"":"-"}${h*2}
          `}),m=I(()=>2*Math.PI*p.value),v=I(()=>n.type==="dashboard"?.75:1),s=I(()=>`${-1*m.value*(1-v.value)/2}px`),d=I(()=>({strokeDasharray:`${m.value*v.value}px, ${m.value}px`,strokeDashoffset:s.value})),r=I(()=>({strokeDasharray:`${m.value*v.value*(n.percentage/100)}px, ${m.value}px`,strokeDashoffset:s.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),f=I(()=>{let h;return n.color?h=S(n.percentage):h=a[n.status]||a.default,h}),b=I(()=>n.status==="warning"?ia:n.type==="line"?n.status==="success"?ra:ca:n.status==="success"?sn:$t),x=I(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),w=I(()=>n.format(n.percentage));function R(h){const _=100/h.length;return h.map((g,E)=>ht(g)?{color:g,percentage:(E+1)*_}:g).sort((g,E)=>g.percentage-E.percentage)}const S=h=>{var _;const{color:y}=n;if(ua(y))return y(h);if(ht(y))return y;{const g=R(y);for(const E of g)if(E.percentage>h)return E.color;return(_=g[g.length-1])==null?void 0:_.color}};return(h,_)=>(C(),D("div",{class:K([c(o).b(),c(o).m(h.type),c(o).is(h.status),{[c(o).m("without-text")]:!h.showText,[c(o).m("text-inside")]:h.textInside}]),role:"progressbar","aria-valuenow":h.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[h.type==="line"?(C(),D("div",{key:0,class:K(c(o).b("bar"))},[T("div",{class:K(c(o).be("bar","outer")),style:fe({height:`${h.strokeWidth}px`})},[T("div",{class:K([c(o).be("bar","inner"),{[c(o).bem("bar","inner","indeterminate")]:h.indeterminate},{[c(o).bem("bar","inner","striped")]:h.striped},{[c(o).bem("bar","inner","striped-flow")]:h.stripedFlow}]),style:fe(c(l))},[(h.showText||h.$slots.default)&&h.textInside?(C(),D("div",{key:0,class:K(c(o).be("bar","innerText"))},[le(h.$slots,"default",{percentage:h.percentage},()=>[T("span",null,te(c(w)),1)])],2)):Q("v-if",!0)],6)],6)],2)):(C(),D("div",{key:1,class:K(c(o).b("circle")),style:fe({height:`${h.width}px`,width:`${h.width}px`})},[(C(),D("svg",{viewBox:"0 0 100 100"},[T("path",{class:K(c(o).be("circle","track")),d:c(u),stroke:`var(${c(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":h.strokeLinecap,"stroke-width":c(t),fill:"none",style:fe(c(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),T("path",{class:K(c(o).be("circle","path")),d:c(u),stroke:c(f),fill:"none",opacity:h.percentage?1:0,"stroke-linecap":h.strokeLinecap,"stroke-width":c(t),style:fe(c(r))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(h.showText||h.$slots.default)&&!h.textInside?(C(),D("div",{key:2,class:K(c(o).e("text")),style:fe({fontSize:`${c(x)}px`})},[le(h.$slots,"default",{percentage:h.percentage},()=>[h.status?(C(),X(c(ve),{key:1},{default:k(()=>[(C(),X(Tt(c(b))))]),_:1})):(C(),D("span",{key:0},te(c(w)),1))])],6)):Q("v-if",!0)],10,["aria-valuenow"]))}});var Ao=pe(No,[["__file","progress.vue"]]);const Oo=Ye(Ao),Mo=xe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Fo={[rn]:(e,n)=>[e,n].every(Ut)},On="ElSteps",Lo=Y({name:"ElSteps"}),zo=Y({...Lo,props:Mo,emits:Fo,setup(e,{emit:n}){const a=e,o=ue("steps"),{children:l,addChild:t,removeChild:p,ChildrenSorter:u}=En(Me(),"ElStep");return ee(l,()=>{l.value.forEach((m,v)=>{m.setIndex(v)})}),wt(On,{props:a,steps:l,addStep:t,removeStep:p}),ee(()=>a.active,(m,v)=>{n(rn,m,v)}),(m,v)=>(C(),D("div",{class:K([c(o).b(),c(o).m(m.simple?"simple":m.direction)])},[le(m.$slots,"default"),i(c(u))],2))}});var Wo=pe(zo,[["__file","steps.vue"]]);const jo=xe({title:{type:String,default:""},icon:{type:on},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Ho=Y({name:"ElStep"}),Ko=Y({...Ho,props:jo,setup(e){const n=e,a=ue("step"),o=B(-1),l=B({}),t=B(""),p=qe(On),u=Me();be(()=>{ee([()=>p.props.active,()=>p.props.processStatus,()=>p.props.finishStatus],([g])=>{_(g)},{immediate:!0})});const m=I(()=>n.status||t.value),v=I(()=>{const g=p.steps.value[o.value-1];return g?g.currentStatus:"wait"}),s=I(()=>p.props.alignCenter),d=I(()=>p.props.direction==="vertical"),r=I(()=>p.props.simple),f=I(()=>p.steps.value.length),b=I(()=>{var g;return((g=p.steps.value[f.value-1])==null?void 0:g.uid)===u.uid}),x=I(()=>r.value?"":p.props.space),w=I(()=>[a.b(),a.is(r.value?"simple":p.props.direction),a.is("flex",b.value&&!x.value&&!s.value),a.is("center",s.value&&!d.value&&!r.value)]),R=I(()=>{const g={flexBasis:Ut(x.value)?`${x.value}px`:x.value?x.value:`${100/(f.value-(s.value?0:1))}%`};return d.value||b.value&&(g.maxWidth=`${100/f.value}%`),g}),S=g=>{o.value=g},h=g=>{const E=g==="wait",F={transitionDelay:`${E?"-":""}${150*o.value}ms`},A=g===p.props.processStatus||E?0:100;F.borderWidth=A&&!r.value?"1px":0,F[p.props.direction==="vertical"?"height":"width"]=`${A}%`,l.value=F},_=g=>{g>o.value?t.value=p.props.finishStatus:g===o.value&&v.value!=="error"?t.value=p.props.processStatus:t.value="wait";const E=p.steps.value[o.value-1];E&&E.calcProgress(t.value)},y=Fe({uid:u.uid,getVnode:()=>u.vnode,currentStatus:m,setIndex:S,calcProgress:h});return p.addStep(y),Xe(()=>{p.removeStep(y)}),(g,E)=>(C(),D("div",{style:fe(c(R)),class:K(c(w))},[Q(" icon & line "),T("div",{class:K([c(a).e("head"),c(a).is(c(m))])},[c(r)?Q("v-if",!0):(C(),D("div",{key:0,class:K(c(a).e("line"))},[T("i",{class:K(c(a).e("line-inner")),style:fe(l.value)},null,6)],2)),T("div",{class:K([c(a).e("icon"),c(a).is(g.icon||g.$slots.icon?"icon":"text")])},[le(g.$slots,"icon",{},()=>[g.icon?(C(),X(c(ve),{key:0,class:K(c(a).e("icon-inner"))},{default:k(()=>[(C(),X(Tt(g.icon)))]),_:1},8,["class"])):c(m)==="success"?(C(),X(c(ve),{key:1,class:K([c(a).e("icon-inner"),c(a).is("status")])},{default:k(()=>[i(c(sn))]),_:1},8,["class"])):c(m)==="error"?(C(),X(c(ve),{key:2,class:K([c(a).e("icon-inner"),c(a).is("status")])},{default:k(()=>[i(c($t))]),_:1},8,["class"])):c(r)?Q("v-if",!0):(C(),D("div",{key:3,class:K(c(a).e("icon-inner"))},te(o.value+1),3))])],2)],2),Q(" title & description "),T("div",{class:K(c(a).e("main"))},[T("div",{class:K([c(a).e("title"),c(a).is(c(m))])},[le(g.$slots,"title",{},()=>[q(te(g.title),1)])],2),c(r)?(C(),D("div",{key:0,class:K(c(a).e("arrow"))},null,2)):(C(),D("div",{key:1,class:K([c(a).e("description"),c(a).is(c(m))])},[le(g.$slots,"description",{},()=>[q(te(g.description),1)])],2))],2)],6))}});var Mn=pe(Ko,[["__file","item.vue"]]);const qo=Ye(Wo,{Step:Mn}),Yo=Ee(Mn),ct=Symbol("tabsRootContextKey"),Xo=xe({tabs:{type:Ue(Array),default:()=>bt([])},tabRefs:{type:Ue(Object),default:()=>bt({})}}),Fn="ElTabBar",Go=Y({name:Fn}),Jo=Y({...Go,props:Xo,setup(e,{expose:n}){const a=e,o=qe(ct);o||Bt(Fn,"<el-tabs><el-tab-bar /></el-tabs>");const l=ue("tabs"),t=B(),p=B(),u=()=>{let r=0,f=0;const b=["top","bottom"].includes(o.props.tabPosition)?"width":"height",x=b==="width"?"x":"y",w=x==="x"?"left":"top";return a.tabs.every(R=>{if(xt(R.paneName))return!1;const S=a.tabRefs[R.paneName];if(!S)return!1;if(!R.active)return!0;r=S[`offset${$e(w)}`],f=S[`client${$e(b)}`];const h=window.getComputedStyle(S);return b==="width"&&(f-=Number.parseFloat(h.paddingLeft)+Number.parseFloat(h.paddingRight),r+=Number.parseFloat(h.paddingLeft)),!1}),{[b]:`${f}px`,transform:`translate${$e(x)}(${r}px)`}},m=()=>p.value=u(),v=[],s=()=>{v.forEach(r=>r.stop()),v.length=0,Object.values(a.tabRefs).forEach(r=>{v.push(_t(r,m))})};ee(()=>a.tabs,async()=>{await oe(),m(),s()},{immediate:!0});const d=_t(t,()=>m());return Xe(()=>{v.forEach(r=>r.stop()),v.length=0,d.stop()}),n({ref:t,update:m}),(r,f)=>(C(),D("div",{ref_key:"barRef",ref:t,class:K([c(l).e("active-bar"),c(l).is(c(o).props.tabPosition)]),style:fe(p.value)},null,6))}});var Zo=pe(Jo,[["__file","tab-bar.vue"]]);const Qo=xe({panes:{type:Ue(Array),default:()=>bt([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),el={tabClick:(e,n,a)=>a instanceof Event,tabRemove:(e,n)=>n instanceof Event},jt="ElTabNav",tl=Y({name:jt,props:Qo,emits:el,setup(e,{expose:n,emit:a}){const o=qe(ct);o||Bt(jt,"<el-tabs><tab-nav /></el-tabs>");const l=ue("tabs"),t=da(),p=fa(),u=B(),m=B(),v=B(),s=B({}),d=B(),r=B(!1),f=B(0),b=B(!1),x=B(!0),w=gt(),R=I(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),S=I(()=>({transform:`translate${R.value==="width"?"X":"Y"}(-${f.value}px)`})),h=()=>{if(!u.value)return;const V=u.value[`offset${$e(R.value)}`],L=f.value;if(!L)return;const $=L>V?L-V:0;f.value=$},_=()=>{if(!u.value||!m.value)return;const V=m.value[`offset${$e(R.value)}`],L=u.value[`offset${$e(R.value)}`],$=f.value;if(V-$<=L)return;const O=V-$>L*2?$+L:V-L;f.value=O},y=async()=>{const V=m.value;if(!r.value||!v.value||!u.value||!V)return;await oe();const L=s.value[e.currentName];if(!L)return;const $=u.value,O=["top","bottom"].includes(o.props.tabPosition),z=L.getBoundingClientRect(),U=$.getBoundingClientRect(),G=O?V.offsetWidth-U.width:V.offsetHeight-U.height,M=f.value;let de=M;O?(z.left<U.left&&(de=M-(U.left-z.left)),z.right>U.right&&(de=M+z.right-U.right)):(z.top<U.top&&(de=M-(U.top-z.top)),z.bottom>U.bottom&&(de=M+(z.bottom-U.bottom))),de=Math.max(de,0),f.value=Math.min(de,G)},g=()=>{var V;if(!m.value||!u.value)return;e.stretch&&((V=d.value)==null||V.update());const L=m.value[`offset${$e(R.value)}`],$=u.value[`offset${$e(R.value)}`],O=f.value;$<L?(r.value=r.value||{},r.value.prev=O,r.value.next=O+$<L,L-O<$&&(f.value=L-$)):(r.value=!1,O>0&&(f.value=0))},E=V=>{let L=0;switch(V.code){case Se.left:case Se.up:L=-1;break;case Se.right:case Se.down:L=1;break;default:return}const $=Array.from(V.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let z=$.indexOf(V.target)+L;z<0?z=$.length-1:z>=$.length&&(z=0),$[z].focus({preventScroll:!0}),$[z].click(),F()},F=()=>{x.value&&(b.value=!0)},A=()=>b.value=!1,j=(V,L)=>{s.value[L]=V},ne=async()=>{await oe();const V=s.value[e.currentName];V==null||V.focus({preventScroll:!0})};return ee(t,V=>{V==="hidden"?x.value=!1:V==="visible"&&setTimeout(()=>x.value=!0,50)}),ee(p,V=>{V?setTimeout(()=>x.value=!0,50):x.value=!1}),_t(v,g),be(()=>setTimeout(()=>y(),0)),va(()=>g()),n({scrollToActiveTab:y,removeFocus:A,focusActiveTab:ne,tabListRef:m,tabBarRef:d,scheduleRender:()=>nt(w)}),()=>{const V=r.value?[i("span",{class:[l.e("nav-prev"),l.is("disabled",!r.value.prev)],onClick:h},[i(ve,null,{default:()=>[i(pa,null,null)]})]),i("span",{class:[l.e("nav-next"),l.is("disabled",!r.value.next)],onClick:_},[i(ve,null,{default:()=>[i(cn,null,null)]})])]:null,L=e.panes.map(($,O)=>{var z,U,G,M;const de=$.uid,N=$.props.disabled,J=(U=(z=$.props.name)!=null?z:$.index)!=null?U:`${O}`,Z=!N&&($.isClosable||e.editable);$.index=`${O}`;const ae=Z?i(ve,{class:"is-icon-close",onClick:H=>a("tabRemove",$,H)},{default:()=>[i($t,null,null)]}):null,P=((M=(G=$.slots).label)==null?void 0:M.call(G))||$.props.label,W=!N&&$.active?0:-1;return i("div",{ref:H=>j(H,J),class:[l.e("item"),l.is(o.props.tabPosition),l.is("active",$.active),l.is("disabled",N),l.is("closable",Z),l.is("focus",b.value)],id:`tab-${J}`,key:`tab-${de}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":$.active,tabindex:W,onFocus:()=>F(),onBlur:()=>A(),onClick:H=>{A(),a("tabClick",$,J,H)},onKeydown:H=>{Z&&(H.code===Se.delete||H.code===Se.backspace)&&a("tabRemove",$,H)}},[P,ae])});return w.value,i("div",{ref:v,class:[l.e("nav-wrap"),l.is("scrollable",!!r.value),l.is(o.props.tabPosition)]},[V,i("div",{class:l.e("nav-scroll"),ref:u},[e.panes.length>0?i("div",{class:[l.e("nav"),l.is(o.props.tabPosition),l.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:m,style:S.value,role:"tablist",onKeydown:E},[e.type?null:i(Zo,{ref:d,tabs:[...e.panes],tabRefs:s.value},null),L]):null])])}}}),nl=xe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ue(Function),default:()=>!0},stretch:Boolean}),vt=e=>ht(e)||Ut(e),al={[un]:e=>vt(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>vt(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>vt(e),tabAdd:()=>!0},ol=Y({name:"ElTabs",props:nl,emits:al,setup(e,{emit:n,slots:a,expose:o}){var l;const t=ue("tabs"),p=I(()=>["left","right"].includes(e.tabPosition)),{children:u,addChild:m,removeChild:v,ChildrenSorter:s}=En(Me(),"ElTabPane"),d=B(),r=B((l=e.modelValue)!=null?l:"0"),f=async(S,h=!1)=>{var _,y,g,E;if(!(r.value===S||xt(S)))try{let F;if(e.beforeLeave){const A=e.beforeLeave(S,r.value);F=A instanceof Promise?await A:A}else F=!0;if(F!==!1){const A=(_=u.value.find(j=>j.paneName===r.value))==null?void 0:_.isFocusInsidePane();r.value=S,h&&(n(un,S),n("tabChange",S)),(g=(y=d.value)==null?void 0:y.removeFocus)==null||g.call(y),A&&((E=d.value)==null||E.focusActiveTab())}}catch{}},b=(S,h,_)=>{S.props.disabled||(n("tabClick",S,_),f(h,!0))},x=(S,h)=>{S.props.disabled||xt(S.props.name)||(h.stopPropagation(),n("edit",S.props.name,"remove"),n("tabRemove",S.props.name))},w=()=>{n("edit",void 0,"add"),n("tabAdd")},R=S=>{const h=S.el.firstChild,_=["bottom","right"].includes(e.tabPosition)?S.children[0].el:S.children[1].el;h!==_&&h.before(_)};return ee(()=>e.modelValue,S=>f(S)),ee(r,async()=>{var S;await oe(),(S=d.value)==null||S.scrollToActiveTab()}),wt(ct,{props:e,currentName:r,registerPane:m,unregisterPane:v,nav$:d}),o({currentName:r,get tabNavRef(){return io(d.value,["scheduleRender"])}}),()=>{const S=a["add-icon"],h=e.editable||e.addable?i("div",{class:[t.e("new-tab"),p.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:w,onKeydown:E=>{[Se.enter,Se.numpadEnter].includes(E.code)&&w()}},[S?le(a,"add-icon"):i(ve,{class:t.is("icon-plus")},{default:()=>[i(ma,null,null)]})]):null,_=()=>i(tl,{ref:d,currentName:r.value,editable:e.editable,type:e.type,panes:u.value,stretch:e.stretch,onTabClick:b,onTabRemove:x},null),y=i("div",{class:[t.e("header"),p.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[i(s,null,{default:_,$stable:!0}),h]),g=i("div",{class:t.e("content")},[le(a,"default")]);return i("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}],onVnodeMounted:R,onVnodeUpdated:R},[g,y])}}});var ll=ol;const sl=xe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ln="ElTabPane",il=Y({name:Ln}),rl=Y({...il,props:sl,setup(e){const n=e,a=Me(),o=ln(),l=qe(ct);l||Bt(Ln,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=ue("tab-pane"),p=B(),u=B(),m=I(()=>n.closable||l.props.closable),v=Ft(()=>{var x;return l.currentName.value===((x=n.name)!=null?x:u.value)}),s=B(v.value),d=I(()=>{var x;return(x=n.name)!=null?x:u.value}),r=Ft(()=>!n.lazy||s.value||v.value),f=()=>{var x;return(x=p.value)==null?void 0:x.contains(document.activeElement)};ee(v,x=>{x&&(s.value=!0)});const b=Fe({uid:a.uid,getVnode:()=>a.vnode,slots:o,props:n,paneName:d,active:v,index:u,isClosable:m,isFocusInsidePane:f});return l.registerPane(b),Xe(()=>{l.unregisterPane(b)}),dn(()=>{var x;o.label&&((x=l.nav$.value)==null||x.scheduleRender())}),(x,w)=>c(r)?De((C(),D("div",{key:0,id:`pane-${c(d)}`,ref_key:"paneRef",ref:p,class:K(c(t).b()),role:"tabpanel","aria-hidden":!c(v),"aria-labelledby":`tab-${c(d)}`},[le(x.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ne,c(v)]]):Q("v-if",!0)}});var zn=pe(rl,[["__file","tab-pane.vue"]]);const cl=Ye(ll,{TabPane:zn}),ul=Ee(zn);function Ht(e,n){return e.reduce((a,o)=>Math.abs(a-n)<Math.abs(o-n)?a:o)}function dl(e,n,a){let o,l=0;const t=e.scrollLeft,p=a===0?1:Math.round(a*1e3/16);let u=t;function m(){fn(o)}function v(){u+=(n-t)/p,e.scrollLeft=u,++l<p&&(o=Ct(v))}return v(),m}function fl(e,n,a,o){let l,t=vn(e);const p=t<n,u=a===0?1:Math.round(a*1e3/16),m=(n-t)/u;function v(){fn(l)}function s(){t+=m,(p&&t>n||!p&&t<n)&&(t=n),ya(e,t),p&&t<n||!p&&t>n?l=Ct(s):o&&(l=Ct(o))}return s(),v}function vl(){const e=B([]),n=[];return dn(()=>{e.value=[]}),[e,o=>(n[o]||(n[o]=l=>{e.value[o]=l}),n[o])]}function Wn(e,n){if(!ga||!window.IntersectionObserver)return;const a=new IntersectionObserver(t=>{n(t[0].intersectionRatio>0)},{root:document.body}),o=()=>{e.value&&a.observe(e.value)},l=()=>{e.value&&a.unobserve(e.value)};It(l),Xe(l),pn(o)}const[pl,ml]=ye("sticky"),yl={zIndex:me,position:je("top"),container:Object,offsetTop:ge(0),offsetBottom:ge(0)};var gl=Y({name:pl,props:yl,emits:["scroll","change"],setup(e,{emit:n,slots:a}){const o=B(),l=mn(o),t=Fe({fixed:!1,width:0,height:0,transform:0}),p=B(!1),u=I(()=>yn(e.position==="top"?e.offsetTop:e.offsetBottom)),m=I(()=>{if(p.value)return;const{fixed:r,height:f,width:b}=t;if(r)return{width:`${b}px`,height:`${f}px`}}),v=I(()=>{if(!t.fixed||p.value)return;const r=gn(ha(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${u.value}px`});return t.transform&&(r.transform=`translate3d(0, ${t.transform}px, 0)`),r}),s=r=>n("scroll",{scrollTop:r,isFixed:t.fixed}),d=()=>{if(!o.value||He(o))return;const{container:r,position:f}=e,b=Pe(o),x=vn(window);if(t.width=b.width,t.height=b.height,f==="top")if(r){const w=Pe(r),R=w.bottom-u.value-t.height;t.fixed=u.value>b.top&&w.bottom>0,t.transform=R<0?R:0}else t.fixed=u.value>b.top;else{const{clientHeight:w}=document.documentElement;if(r){const R=Pe(r),S=w-R.top-u.value-t.height;t.fixed=w-u.value<b.bottom&&w>R.top,t.transform=S<0?-S:0}else t.fixed=w-u.value<b.bottom}s(x)};return ee(()=>t.fixed,r=>n("change",r)),st("scroll",d,{target:l,passive:!0}),Wn(o,d),ee([Ae,We],()=>{!o.value||He(o)||!t.fixed||(p.value=!0,oe(()=>{const r=Pe(o);t.width=r.width,t.height=r.height,p.value=!1}))}),()=>{var r;return i("div",{ref:o,style:m.value},[i("div",{class:ml({fixed:t.fixed&&!p.value}),style:v.value},[(r=a.default)==null?void 0:r.call(a)])])}}});const hl=Ce(gl),[jn,et]=ye("swipe"),bl={loop:he,width:me,height:me,vertical:Boolean,autoplay:ge(0),duration:ge(500),touchable:he,lazyRender:Boolean,initialSwipe:ge(0),indicatorColor:String,showIndicators:he,stopPropagation:he},Hn=Symbol(jn);var _l=Y({name:jn,props:bl,emits:["change","dragStart","dragEnd"],setup(e,{emit:n,slots:a}){const o=B(),l=B(),t=Fe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let p=!1;const u=hn(),{children:m,linkChildren:v}=Pt(Hn),s=I(()=>m.length),d=I(()=>t[e.vertical?"height":"width"]),r=I(()=>e.vertical?u.deltaY.value:u.deltaX.value),f=I(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-d.value*s.value:0),b=I(()=>d.value?Math.ceil(Math.abs(f.value)/d.value):s.value),x=I(()=>s.value*d.value),w=I(()=>(t.active+s.value)%s.value),R=I(()=>{const N=e.vertical?"vertical":"horizontal";return u.direction.value===N}),S=I(()=>{const N={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(d.value){const J=e.vertical?"height":"width",Z=e.vertical?"width":"height";N[J]=`${x.value}px`,N[Z]=e[Z]?`${e[Z]}px`:""}return N}),h=N=>{const{active:J}=t;return N?e.loop?ut(J+N,-1,s.value):ut(J+N,0,b.value):J},_=(N,J=0)=>{let Z=N*d.value;e.loop||(Z=Math.min(Z,-f.value));let ae=J-Z;return e.loop||(ae=ut(ae,f.value,0)),ae},y=({pace:N=0,offset:J=0,emitChange:Z})=>{if(s.value<=1)return;const{active:ae}=t,P=h(N),W=_(P,J);if(e.loop){if(m[0]&&W!==f.value){const H=W<f.value;m[0].setOffset(H?x.value:0)}if(m[s.value-1]&&W!==0){const H=W>0;m[s.value-1].setOffset(H?-x.value:0)}}t.active=P,t.offset=W,Z&&P!==ae&&n("change",w.value)},g=()=>{t.swiping=!0,t.active<=-1?y({pace:s.value}):t.active>=s.value&&y({pace:-s.value})},E=()=>{g(),u.reset(),Le(()=>{t.swiping=!1,y({pace:-1,emitChange:!0})})},F=()=>{g(),u.reset(),Le(()=>{t.swiping=!1,y({pace:1,emitChange:!0})})};let A;const j=()=>clearTimeout(A),ne=()=>{j(),+e.autoplay>0&&s.value>1&&(A=setTimeout(()=>{F(),ne()},+e.autoplay))},V=(N=+e.initialSwipe)=>{if(!o.value)return;const J=()=>{var Z,ae;if(!He(o)){const P={width:o.value.offsetWidth,height:o.value.offsetHeight};t.rect=P,t.width=+((Z=e.width)!=null?Z:P.width),t.height=+((ae=e.height)!=null?ae:P.height)}s.value&&(N=Math.min(s.value-1,N),N===-1&&(N=s.value-1)),t.active=N,t.swiping=!0,t.offset=_(N),m.forEach(P=>{P.setOffset(0)}),ne()};He(o)?oe().then(J):J()},L=()=>V(t.active);let $;const O=N=>{!e.touchable||N.touches.length>1||(u.start(N),p=!1,$=Date.now(),j(),g())},z=N=>{e.touchable&&t.swiping&&(u.move(N),R.value&&(!e.loop&&(t.active===0&&r.value>0||t.active===s.value-1&&r.value<0)||(_a(N,e.stopPropagation),y({offset:r.value}),p||(n("dragStart",{index:w.value}),p=!0))))},U=()=>{if(!e.touchable||!t.swiping)return;const N=Date.now()-$,J=r.value/N;if((Math.abs(J)>.25||Math.abs(r.value)>d.value/2)&&R.value){const ae=e.vertical?u.offsetY.value:u.offsetX.value;let P=0;e.loop?P=ae>0?r.value>0?-1:1:0:P=-Math[r.value>0?"ceil":"floor"](r.value/d.value),y({pace:P,emitChange:!0})}else r.value&&y({pace:0});p=!1,t.swiping=!1,n("dragEnd",{index:w.value}),ne()},G=(N,J={})=>{g(),u.reset(),Le(()=>{let Z;e.loop&&N===s.value?Z=t.active===0?0:N:Z=N%s.value,J.immediate?Le(()=>{t.swiping=!1}):t.swiping=!1,y({pace:Z-t.active,emitChange:!0})})},M=(N,J)=>{const Z=J===w.value,ae=Z?{backgroundColor:e.indicatorColor}:void 0;return i("i",{style:ae,class:et("indicator",{active:Z})},null)},de=()=>{if(a.indicator)return a.indicator({active:w.value,total:s.value});if(e.showIndicators&&s.value>1)return i("div",{class:et("indicators",{vertical:e.vertical})},[Array(s.value).fill("").map(M)])};return Ge({prev:E,next:F,state:t,resize:L,swipeTo:G}),v({size:d,props:e,count:s,activeIndicator:w}),ee(()=>e.initialSwipe,N=>V(+N)),ee(s,()=>V(t.active)),ee(()=>e.autoplay,ne),ee([Ae,We,()=>e.width,()=>e.height],L),ee(ba(),N=>{N==="visible"?ne():j()}),be(V),Dt(()=>V(t.active)),bn(()=>V(t.active)),It(j),Xe(j),st("touchmove",z,{target:l}),()=>{var N;return i("div",{ref:o,class:et()},[i("div",{ref:l,style:S.value,class:et("track",{vertical:e.vertical}),onTouchstartPassive:O,onTouchend:U,onTouchcancel:U},[(N=a.default)==null?void 0:N.call(a)]),de()])}}});const Ot=Ce(_l),[xl,Kt]=ye("tabs");var Cl=Y({name:xl,props:{count:dt(Number),inited:Boolean,animated:Boolean,duration:dt(me),swipeable:Boolean,lazyRender:Boolean,currentIndex:dt(Number)},emits:["change"],setup(e,{emit:n,slots:a}){const o=B(),l=u=>n("change",u),t=()=>{var u;const m=(u=a.default)==null?void 0:u.call(a);return e.animated||e.swipeable?i(Ot,{ref:o,loop:!1,class:Kt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:l},{default:()=>[m]}):m},p=u=>{const m=o.value;m&&m.state.active!==u&&m.swipeTo(u,{immediate:!e.inited})};return ee(()=>e.currentIndex,p),be(()=>{p(e.currentIndex)}),Ge({swipeRef:o}),()=>i("div",{class:Kt("content",{animated:e.animated||e.swipeable})},[t()])}});const[Kn,tt]=ye("tabs"),kl={type:je("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ge(0),duration:ge(.3),animated:Boolean,ellipsis:he,swipeable:Boolean,scrollspy:Boolean,offsetTop:ge(0),background:String,lazyRender:he,showHeader:he,lineWidth:me,lineHeight:me,beforeChange:Function,swipeThreshold:ge(5),titleActiveColor:String,titleInactiveColor:String},qn=Symbol(Kn);var Sl=Y({name:Kn,props:kl,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:a}){let o,l,t,p,u;const m=B(),v=B(),s=B(),d=B(),r=Bn(),f=mn(m),[b,x]=vl(),{children:w,linkChildren:R}=Pt(qn),S=Fe({inited:!1,position:"",lineStyle:{},currentIndex:-1}),h=I(()=>w.length>+e.swipeThreshold||!e.ellipsis||e.shrink),_=I(()=>({borderColor:e.color,background:e.background})),y=(P,W)=>{var H;return(H=P.name)!=null?H:W},g=I(()=>{const P=w[S.currentIndex];if(P)return y(P,S.currentIndex)}),E=I(()=>yn(e.offsetTop)),F=I(()=>e.sticky?E.value+o:0),A=P=>{const W=v.value,H=b.value;if(!h.value||!W||!H||!H[S.currentIndex])return;const re=H[S.currentIndex].$el,se=re.offsetLeft-(W.offsetWidth-re.offsetWidth)/2;p&&p(),p=dl(W,se,P?0:+e.duration)},j=()=>{const P=S.inited;oe(()=>{const W=b.value;if(!W||!W[S.currentIndex]||e.type!=="line"||He(m.value))return;const H=W[S.currentIndex].$el,{lineWidth:re,lineHeight:se}=e,_e=H.offsetLeft+H.offsetWidth/2,Ie={width:Ke(re),backgroundColor:e.color,transform:`translateX(${_e}px) translateX(-50%)`};if(P&&(Ie.transitionDuration=`${e.duration}s`),kt(se)){const Qe=Ke(se);Ie.height=Qe,Ie.borderRadius=Qe}S.lineStyle=Ie})},ne=P=>{const W=P<S.currentIndex?-1:1;for(;P>=0&&P<w.length;){if(!w[P].disabled)return P;P+=W}},V=(P,W)=>{const H=ne(P);if(!kt(H))return;const re=w[H],se=y(re,H),_e=S.currentIndex!==null;S.currentIndex!==H&&(S.currentIndex=H,W||A(),j()),se!==e.active&&(n("update:active",se),_e&&n("change",se,re.title)),t&&!e.scrollspy&&Ca(Math.ceil(Lt(m.value)-E.value))},L=(P,W)=>{const H=w.findIndex((re,se)=>y(re,se)===P);V(H===-1?0:H,W)},$=(P=!1)=>{if(e.scrollspy){const W=w[S.currentIndex].$el;if(W&&f.value){const H=Lt(W,f.value)-F.value;l=!0,u&&u(),u=fl(f.value,H,P?0:+e.duration,()=>{l=!1})}}},O=(P,W,H)=>{const{title:re,disabled:se}=w[W],_e=y(w[W],W);se||(ka(e.beforeChange,{args:[_e],done:()=>{V(W),$()}}),Sa(P)),n("clickTab",{name:_e,title:re,event:H,disabled:se})},z=P=>{t=P.isFixed,n("scroll",P)},U=P=>{oe(()=>{L(P),$(!0)})},G=()=>{for(let P=0;P<w.length;P++){const{top:W}=Pe(w[P].$el);if(W>F.value)return P===0?0:P-1}return w.length-1},M=()=>{if(e.scrollspy&&!l){const P=G();V(P)}},de=()=>{if(e.type==="line"&&w.length)return i("div",{class:tt("line"),style:S.lineStyle},null)},N=()=>{var P,W,H;const{type:re,border:se,sticky:_e}=e,Ie=[i("div",{ref:_e?void 0:s,class:[tt("wrap"),{[xa]:re==="line"&&se}]},[i("div",{ref:v,role:"tablist",class:tt("nav",[re,{shrink:e.shrink,complete:h.value}]),style:_.value,"aria-orientation":"horizontal"},[(P=a["nav-left"])==null?void 0:P.call(a),w.map(Qe=>Qe.renderTitle(O)),de(),(W=a["nav-right"])==null?void 0:W.call(a)])]),(H=a["nav-bottom"])==null?void 0:H.call(a)];return _e?i("div",{ref:s},[Ie]):Ie},J=()=>{j(),oe(()=>{var P,W;A(!0),(W=(P=d.value)==null?void 0:P.swipeRef.value)==null||W.resize()})};ee(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],j),ee(Ae,J),ee(()=>e.active,P=>{P!==g.value&&L(P)}),ee(()=>w.length,()=>{S.inited&&(L(e.active),j(),oe(()=>{A(!0)}))});const Z=()=>{L(e.active,!0),oe(()=>{S.inited=!0,s.value&&(o=Pe(s.value).height),A(!0)})},ae=(P,W)=>n("rendered",P,W);return Ge({resize:J,scrollTo:U}),Dt(j),bn(j),pn(Z),Wn(m,j),st("scroll",M,{target:f,passive:!0}),R({id:r,props:e,setLine:j,scrollable:h,onRendered:ae,currentName:g,setTitleRefs:x,scrollIntoView:A}),()=>i("div",{ref:m,class:tt([e.type])},[e.showHeader?e.sticky?i(hl,{container:m.value,offsetTop:E.value,onScroll:z},{default:()=>[N()]}):N():null,i(Cl,{ref:d,count:w.length,inited:S.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:S.currentIndex,onChange:V},{default:()=>{var P;return[(P=a.default)==null?void 0:P.call(a)]}})])}});const[wl,qt]=ye("tab"),Tl=Y({name:wl,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:me,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:he},setup(e,{slots:n}){const a=I(()=>{const l={},{type:t,color:p,disabled:u,isActive:m,activeColor:v,inactiveColor:s}=e;p&&t==="card"&&(l.borderColor=p,u||(m?l.backgroundColor=p:l.color=p));const r=m?v:s;return r&&(l.color=r),l}),o=()=>{const l=i("span",{class:qt("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||kt(e.badge)&&e.badge!==""?i(wa,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[l]}):l};return()=>i("div",{id:e.id,role:"tab",class:[qt([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[o()])}}),[$l,Ul]=ye("swipe-item");var Bl=Y({name:$l,setup(e,{slots:n}){let a;const o=Fe({offset:0,inited:!1,mounted:!1}),{parent:l,index:t}=Et(Hn);if(!l)return;const p=I(()=>{const v={},{vertical:s}=l.props;return l.size.value&&(v[s?"height":"width"]=`${l.size.value}px`),o.offset&&(v.transform=`translate${s?"Y":"X"}(${o.offset}px)`),v}),u=I(()=>{const{loop:v,lazyRender:s}=l.props;if(!s||a)return!0;if(!o.mounted)return!1;const d=l.activeIndicator.value,r=l.count.value-1,f=d===0&&v?r:d-1,b=d===r&&v?0:d+1;return a=t.value===d||t.value===f||t.value===b,a}),m=v=>{o.offset=v};return be(()=>{oe(()=>{o.mounted=!0})}),Ge({setOffset:m}),()=>{var v;return i("div",{class:Ul(),style:p.value},[u.value?(v=n.default)==null?void 0:v.call(n):null])}}});const Mt=Ce(Bl),[Il,pt]=ye("tab"),Pl=gn({},$a,{dot:Boolean,name:me,badge:me,title:String,disabled:Boolean,titleClass:Ua,titleStyle:[String,Object],showZeroBadge:he});var Dl=Y({name:Il,props:Pl,setup(e,{slots:n}){const a=Bn(),o=B(!1),l=Me(),{parent:t,index:p}=Et(qn);if(!t)return;const u=()=>{var b;return(b=e.name)!=null?b:p.value},m=()=>{o.value=!0,t.props.lazyRender&&oe(()=>{t.onRendered(u(),e.title)})},v=I(()=>{const b=u()===t.currentName.value;return b&&!o.value&&m(),b}),s=B(""),d=B("");_n(()=>{const{titleClass:b,titleStyle:x}=e;s.value=b?K(b):"",d.value=x&&typeof x!="string"?Ta(fe(x)):x});const r=b=>i(Tl,xn({key:a,id:`${t.id}-${p.value}`,ref:t.setTitleRefs(p.value),style:d.value,class:s.value,isActive:v.value,controls:a,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:x=>b(l.proxy,p.value,x)},at(t.props,["type","color","shrink"]),at(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),f=B(!v.value);return ee(v,b=>{b?f.value=!1:Le(()=>{f.value=!0})}),ee(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),Wa(v),Ge({id:a,renderTitle:r}),()=>{var b;const x=`${t.id}-${p.value}`,{animated:w,swipeable:R,scrollspy:S,lazyRender:h}=t.props;if(!n.default&&!w)return;const _=S||v.value;if(w||R)return i(Mt,{id:a,role:"tabpanel",class:pt("panel-wrapper",{inactive:f.value}),tabindex:v.value?0:-1,"aria-hidden":!v.value,"aria-labelledby":x,"data-allow-mismatch":"attribute"},{default:()=>{var E;return[i("div",{class:pt("panel")},[(E=n.default)==null?void 0:E.call(n)])]}});const g=o.value||S||!h?(b=n.default)==null?void 0:b.call(n):null;return De(i("div",{id:a,role:"tabpanel",class:pt("panel"),tabindex:_?0:-1,"aria-labelledby":x,"data-allow-mismatch":"attribute"},[g]),[[Ne,_]])}}});const El=Ce(Dl),Rl=Ce(Sl),Vl={gap:{type:[Number,Object],default:24},icon:String,axis:je("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[Nl,Yt]=ye("floating-bubble");var Al=Y({name:Nl,inheritAttrs:!1,props:Vl,emits:["click","update:offset","offsetChange"],setup(e,{slots:n,emit:a,attrs:o}){const l=B(),t=B({x:0,y:0,width:0,height:0}),p=I(()=>zt(e.gap)?e.gap.x:e.gap),u=I(()=>zt(e.gap)?e.gap.y:e.gap),m=I(()=>({top:u.value,right:Ae.value-t.value.width-p.value,bottom:We.value-t.value.height-u.value,left:p.value})),v=B(!1);let s=!1;const d=I(()=>{const y={},g=Ke(t.value.x),E=Ke(t.value.y);return y.transform=`translate3d(${g}, ${E}, 0)`,(v.value||!s)&&(y.transition="none"),y}),r=()=>{if(!_.value)return;const{width:y,height:g}=Pe(l.value),{offset:E}=e;t.value={x:E?E.x:Ae.value-y-p.value,y:E?E.y:We.value-g-u.value,width:y,height:g}},f=hn();let b=0,x=0;const w=y=>{f.start(y),v.value=!0,b=t.value.x,x=t.value.y};st("touchmove",y=>{if(y.preventDefault(),f.move(y),e.axis!=="lock"&&!f.isTap.value){if(e.axis==="x"||e.axis==="xy"){let E=b+f.deltaX.value;E<m.value.left&&(E=m.value.left),E>m.value.right&&(E=m.value.right),t.value.x=E}if(e.axis==="y"||e.axis==="xy"){let E=x+f.deltaY.value;E<m.value.top&&(E=m.value.top),E>m.value.bottom&&(E=m.value.bottom),t.value.y=E}const g=at(t.value,["x","y"]);a("update:offset",g)}},{target:l});const S=()=>{v.value=!1,oe(()=>{if(e.magnetic==="x"){const y=Ht([m.value.left,m.value.right],t.value.x);t.value.x=y}if(e.magnetic==="y"){const y=Ht([m.value.top,m.value.bottom],t.value.y);t.value.y=y}if(!f.isTap.value){const y=at(t.value,["x","y"]);a("update:offset",y),(b!==y.x||x!==y.y)&&a("offsetChange",y)}})},h=y=>{f.isTap.value?a("click",y):y.stopPropagation()};be(()=>{r(),oe(()=>{s=!0})}),ee([Ae,We,p,u,()=>e.offset],r,{deep:!0});const _=B(!0);return Dt(()=>{_.value=!0}),It(()=>{e.teleport&&(_.value=!1)}),()=>{const y=De(i("div",xn({class:Yt(),ref:l,onTouchstartPassive:w,onTouchend:S,onTouchcancel:S,onClickCapture:h,style:d.value},o),[n.default?n.default():i(Ba,{name:e.icon,class:Yt("icon")},null)]),[[Ne,_.value]]);return e.teleport?i(Ia,{to:e.teleport},{default:()=>[y]}):y}}});const Ol=Ce(Al),[Ml,mt]=ye("progress"),Fl={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:he,pivotColor:String,trackColor:String,strokeWidth:me,percentage:{type:me,default:0,validator:e=>+e>=0&&+e<=100}};var Ll=Y({name:Ml,props:Fl,setup(e){const n=I(()=>e.inactive?void 0:e.color),a=l=>Math.min(Math.max(+l,0),100),o=()=>{const{textColor:l,pivotText:t,pivotColor:p,percentage:u}=e,m=a(u),v=t??`${u}%`;if(e.showPivot&&v){const s={color:l,left:`${m}%`,transform:`translate(-${m}%,-50%)`,background:p||n.value};return i("span",{style:s,class:mt("pivot",{inactive:e.inactive})},[v])}};return()=>{const{trackColor:l,percentage:t,strokeWidth:p}=e,u=a(t),m={background:l,height:Ke(p)},v={width:`${u}%`,background:n.value};return i("div",{class:mt(),style:m},[i("span",{class:mt("portion",{inactive:e.inactive}),style:v},null),o()])}}});const zl=Ce(Ll),[Yn,Xt]=ye("steps"),Wl={active:ge(0),direction:je("horizontal"),activeIcon:je("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Xn=Symbol(Yn);var jl=Y({name:Yn,props:Wl,emits:["clickStep"],setup(e,{emit:n,slots:a}){const{linkChildren:o}=Pt(Xn);return o({props:e,onClickStep:t=>n("clickStep",t)}),()=>{var t;return i("div",{class:Xt([e.direction])},[i("div",{class:Xt("items")},[(t=a.default)==null?void 0:t.call(a)])])}}});const[Hl,ke]=ye("step");var Kl=Y({name:Hl,setup(e,{slots:n}){const{parent:a,index:o}=Et(Xn);if(!a)return;const l=a.props,t=()=>{const d=+l.active;return o.value<d?"finish":o.value===d?"process":"waiting"},p=()=>t()==="process",u=I(()=>({background:t()==="finish"?l.activeColor:l.inactiveColor})),m=I(()=>{if(p())return{color:l.activeColor};if(t()==="waiting")return{color:l.inactiveColor}}),v=()=>a.onClickStep(o.value),s=()=>{const{iconPrefix:d,finishIcon:r,activeIcon:f,activeColor:b,inactiveIcon:x}=l;return p()?n["active-icon"]?n["active-icon"]():i(ft,{class:ke("icon","active"),name:f,color:b,classPrefix:d},null):t()==="finish"&&(r||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():i(ft,{class:ke("icon","finish"),name:r,color:b,classPrefix:d},null):n["inactive-icon"]?n["inactive-icon"]():x?i(ft,{class:ke("icon"),name:x,classPrefix:d},null):i("i",{class:ke("circle"),style:u.value},null)};return()=>{var d;const r=t();return i("div",{class:[Pa,ke([l.direction,{[r]:r}])]},[i("div",{class:ke("title",{active:p()}),style:m.value,onClick:v},[(d=n.default)==null?void 0:d.call(n)]),i("div",{class:ke("circle-container"),onClick:v},[s()]),i("div",{class:ke("line"),style:u.value},null)])}}});const ql=Ce(Kl),Yl=Ce(jl),Xl={key:0},Gl={class:"videoCenter"},Jl=["src"],Zl={key:1,class:"main"},Ql={class:"video-grid"},es=["onMouseenter","onClick"],ts={class:"thumbnail"},ns={class:"video-id"},as={key:0,class:"overlay"},os=["onClick"],ls={style:{height:"440px"}},ss=["src"],is={__name:"VideoList",props:{videos:{type:Array,default:()=>[],required:!0}},emits:["delete-video"],setup(e,{emit:n}){const a=e,o=n,l=B(!1),t=B(""),p=I(()=>Re()),u=B(null),m=d=>{const r=a.videos.find(f=>f.id===d);r&&(r.file&&(t.value=URL.createObjectURL(r.file)),l.value=!0)},v=()=>{l.value=!1,t.value&&URL.revokeObjectURL(t.value)},s=d=>{wn(d)};return(d,r)=>{const f=Un,b=Rt,x=kn,w=$n,R=Sn,S=Ze,h=Je,_=ot("CircleCheck"),y=ve,g=Nt,E=At;return c(p)?(C(),D("div",Xl,[e.videos.length!==0?(C(),X(w,{key:0,"finished-text":"没有更多了",style:{"margin-top":"1vh","border-top":"1px dotted lightgray"}},{default:k(()=>[(C(!0),D(we,null,Te(e.videos,F=>(C(),X(x,{key:F.id,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[i(b,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:A=>o("delete-video",F.id)},null,8,["onClick"])]),default:k(()=>[i(f,{border:!1,icon:"video-o",title:F.id,value:F.isUploaded?"已上传":"",onClick:A=>m(F.id)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})):(C(),X(R,{key:1,description:"暂无视频"})),i(h,{show:c(l),"onUpdate:show":r[0]||(r[0]=F=>ce(l)?l.value=F:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1},{default:k(()=>[i(S,null,{default:k(()=>r[3]||(r[3]=[T("span",{style:{color:"black","font-size":"large"}},"视频预览",-1)])),_:1,__:[3]}),T("div",Gl,[c(t)?(C(),D("video",{key:0,src:c(t),controls:"",style:{height:"100%"},onError:s}," 您的浏览器不支持视频播放 ",40,Jl)):Q("",!0)]),r[4]||(r[4]=T("div",{style:{width:"100%",padding:"5px"}},null,-1))]),_:1,__:[4]},8,["show"])])):(C(),D("div",Zl,[T("div",Ql,[(C(!0),D(we,null,Te(e.videos,F=>(C(),D("div",{key:F.id,class:"video-item",onMouseenter:A=>u.value=F.id,onMouseleave:r[1]||(r[1]=A=>u.value=null),onClick:A=>m(F.id)},[T("div",ts,[r[6]||(r[6]=T("i",{class:"iconfont icon-shipin"},null,-1)),T("span",ns,"#"+te(F.id),1),c(u)===F.id?(C(),D("div",as,[T("button",{class:"dltBtn",onClick:ze(A=>o("delete-video",F.id),["stop"])},r[5]||(r[5]=[T("i",{class:"iconfont icon-shanchu1",style:{color:"red","font-size":"1.75rem"}},null,-1)]),8,os)])):Q("",!0),F.isUploaded?(C(),X(y,{key:1},{default:k(()=>[i(_)]),_:1})):Q("",!0)])],40,es))),128)),i(g,{style:{height:"550px"},modelValue:c(l),"onUpdate:modelValue":r[2]||(r[2]=F=>ce(l)?l.value=F:null),title:"视频预览","close-on-click-modal":!1,onClose:v},{default:k(()=>[T("div",ls,[T("video",{style:{height:"100%"},src:c(t),controls:"",class:"video-player",preload:"auto",onError:s}," 您的浏览器不支持视频播放 ",40,ss)])]),_:1},8,["modelValue"])]),e.videos.length===0?(C(),X(E,{key:0,description:"暂无视频",style:{padding:"0"}})):Q("",!0)]))}}},Gt=Be(is,[["__scopeId","data-v-14e0288b"]]);var yt={exports:{}},Jt;function rs(){return Jt||(Jt=1,function(e){(function(n,a){e.exports?e.exports=a():window.ysFixWebmDuration=a()})("fix-webm-duration",function(){var n={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function a(s,d){s.prototype=Object.create(d.prototype),s.prototype.constructor=s}function o(s,d){this.name=s||"Unknown",this.type=d||"Unknown"}o.prototype.updateBySource=function(){},o.prototype.setSource=function(s){this.source=s,this.updateBySource()},o.prototype.updateByData=function(){},o.prototype.setData=function(s){this.data=s,this.updateByData()};function l(s,d){o.call(this,s,d||"Uint")}a(l,o);function t(s){return s.length%2===1?"0"+s:s}l.prototype.updateBySource=function(){this.data="";for(var s=0;s<this.source.length;s++){var d=this.source[s].toString(16);this.data+=t(d)}},l.prototype.updateByData=function(){var s=this.data.length/2;this.source=new Uint8Array(s);for(var d=0;d<s;d++){var r=this.data.substr(d*2,2);this.source[d]=parseInt(r,16)}},l.prototype.getValue=function(){return parseInt(this.data,16)},l.prototype.setValue=function(s){this.setData(t(s.toString(16)))};function p(s,d){o.call(this,s,d||"Float")}a(p,o),p.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},p.prototype.updateBySource=function(){var s=this.source.reverse(),d=this.getFloatArrayType(),r=new d(s.buffer);this.data=r[0]},p.prototype.updateByData=function(){var s=this.getFloatArrayType(),d=new s([this.data]),r=new Uint8Array(d.buffer);this.source=r.reverse()},p.prototype.getValue=function(){return this.data},p.prototype.setValue=function(s){this.setData(s)};function u(s,d){o.call(this,s,d||"Container")}a(u,o),u.prototype.readByte=function(){return this.source[this.offset++]},u.prototype.readUint=function(){for(var s=this.readByte(),d=8-s.toString(2).length,r=s-(1<<7-d),f=0;f<d;f++)r*=256,r+=this.readByte();return r},u.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=r){var s=this.readUint(),d=this.readUint(),r=Math.min(this.offset+d,this.source.length),f=this.source.slice(this.offset,r),b=n[s]||{name:"Unknown",type:"Unknown"},x=o;switch(b.type){case"Container":x=u;break;case"Uint":x=l;break;case"Float":x=p;break}var w=new x(b.name,b.type);w.setSource(f),this.data.push({id:s,idHex:s.toString(16),data:w})}},u.prototype.writeUint=function(s,d){for(var r=1,f=128;s>=f&&r<8;r++,f*=128);if(!d)for(var b=f+s,x=r-1;x>=0;x--){var w=b%256;this.source[this.offset+x]=w,b=(b-w)/256}this.offset+=r},u.prototype.writeSections=function(s){this.offset=0;for(var d=0;d<this.data.length;d++){var r=this.data[d],f=r.data.source,b=f.length;this.writeUint(r.id,s),this.writeUint(b,s),s||this.source.set(f,this.offset),this.offset+=b}return this.offset},u.prototype.updateByData=function(){var s=this.writeSections("draft");this.source=new Uint8Array(s),this.writeSections()},u.prototype.getSectionById=function(s){for(var d=0;d<this.data.length;d++){var r=this.data[d];if(r.id===s)return r.data}return null};function m(s){u.call(this,"File","File"),this.setSource(s)}a(m,u),m.prototype.fixDuration=function(s,d){var r=d&&d.logger;r===void 0?r=function(R){console.log(R)}:r||(r=function(){});var f=this.getSectionById(139690087);if(!f)return r("[fix-webm-duration] Segment section is missing"),!1;var b=f.getSectionById(88713574);if(!b)return r("[fix-webm-duration] Info section is missing"),!1;var x=b.getSectionById(710577);if(!x)return r("[fix-webm-duration] TimecodeScale section is missing"),!1;var w=b.getSectionById(1161);if(w)if(w.getValue()<=0)r(`[fix-webm-duration] Duration section is present, but the value is ${w.getValue()}`),w.setValue(s);else return r(`[fix-webm-duration] Duration section is present, and the value is ${w.getValue()}`),!1;else r("[fix-webm-duration] Duration section is missing"),w=new p("Duration","Float"),w.setValue(s),b.data.push({id:1161,data:w});return x.setValue(1e6),b.updateByData(),f.updateByData(),this.updateByData(),!0},m.prototype.toBlob=function(s){return new Blob([this.source.buffer],{type:s||"video/webm"})};function v(s,d,r,f){if(typeof r=="object"&&(f=r,r=void 0),!r)return new Promise(function(x){v(s,d,x,f)});try{var b=new FileReader;b.onloadend=function(){try{var x=new m(new Uint8Array(b.result));x.fixDuration(d,f)&&(s=x.toBlob(s.type))}catch{}r(s)},b.readAsArrayBuffer(s)}catch{r(s)}}return v.default=v,v})}(yt)),yt.exports}var cs=rs();const us=ho(cs),ds={class:"canvas-recorder"},fs={class:"loading"},vs={class:"controls"},ps={key:1},ms={__name:"FramePlayer",props:{isOpened:{type:Boolean,default:!1}},emits:["record-complete"],setup(e,{expose:n,emit:a}){const o=Cn(),l=B(null),t=B(null),p=B(!1),u=B(!1),m=B(0),v=B(null),s=B(null),d=B([]),r=a;let f=null;be(()=>{t.value=l.value.getContext("2d"),l.value.width=640,l.value.height=440});const b=B(!1);let x=null;function w($,O=1e3){let z=null;return function(...U){z&&clearTimeout(z),z=setTimeout(()=>$.apply(this,U),O)}}const R=e,S=()=>{if(!R.isOpened)return;x&&URL.revokeObjectURL(x.src);const $=g().JSESSIONID;if($){const O=location.protocol==="https:"?"wss:":"ws:";f=new WebSocket(`${O}//${location.host}/ws/video?JSESSIONID=${$}`)}else ie("您还未登录"),o.push("/login");f.onopen=()=>{b.value=!0,y()},f.onmessage=O=>{if(O.data){const z=new Blob([O.data],{type:"image/jpg"}),U=new Image;U.onload=()=>{x=U},U.src=URL.createObjectURL(z)}else console.error("格式不对")},f.onerror=O=>{b.value=!1,console.error(O)},f.onclose=()=>{b.value=!1,_&&(clearInterval(_),_=null),x="",R.isOpened&&h()}},h=w(()=>{R.isOpened&&S()},2e3);let _=null;const y=()=>{_&&clearInterval(_);let $="";_=setInterval(()=>{if(x){const O=x;$&&URL.revokeObjectURL($),t.value.drawImage(O,0,0,l.value.width,l.value.height),$=O.src}},1e3/15)},g=()=>{const $={};return document.cookie.split(";").forEach(O=>{const[z,U]=O.trim().split("=");$[z]=U}),$};n({initWS:S,closeWS:()=>{f&&(f.close(),f=null)}});const F=()=>{if(!b.value)return;const $=l.value.captureStream(30);s.value=new MediaRecorder($,{mimeType:"video/webm"}),d.value=[],s.value.ondataavailable=O=>d.value.push(O.data),s.value.onstop=async()=>{const O=new Blob(d.value,{type:"video/webm"}),z=await us(O,m.value*1e3);r("record-complete",z,"webm"),d.value=[]},s.value.start(),p.value=!0,u.value=!1,v.value=setInterval(()=>m.value++,1e3)},A=()=>{var $;($=s.value)==null||$.pause(),u.value=!0,clearInterval(v.value)},j=()=>{var $;($=s.value)==null||$.resume(),u.value=!1,v.value=setInterval(()=>m.value++,1e3)},ne=()=>{var $;($=s.value)==null||$.stop(),p.value=!1,u.value=!1,m.value=0,clearInterval(v.value)},V=()=>{p.value?u.value?j():A():F()},L=$=>{const O=Math.floor($/60),z=$%60;return`${O}:${z.toString().padStart(2,"0")}`};return($,O)=>{const z=it,U=La;return C(),D("div",ds,[T("canvas",{id:"canvas",ref_key:"canvas",ref:l},null,512),De(T("div",fs,null,512),[[U,!b.value]]),T("div",vs,[i(z,{type:p.value&&u.value?"primary":"danger",onClick:V,disabled:!b.value},{default:k(()=>[q(te(p.value?u.value?"继续录制":"暂停录制":"开始录制"),1)]),_:1},8,["type","disabled"]),p.value?(C(),X(z,{key:0,type:"danger",onClick:ne},{default:k(()=>O[0]||(O[0]=[q(" 停止录制 ")])),_:1,__:[0]})):Q("",!0),p.value?(C(),D("span",ps,"  "+te(L(m.value)),1)):Q("",!0)])])}}},ys=Be(ms,[["__scopeId","data-v-2528f48a"]]),gs={key:0},hs={style:{height:"60vh","overflow-y":"auto"}},bs={key:1},_s={class:"dataset-container"},xs={__name:"DataSet",emits:["upload-finish"],setup(e,{emit:n}){const a=B([]),o=Da(),l=rt(),t=B(1),p=n,u=I(()=>Re()),m=B(!1),v=B(!1),s=B(!1),d=B(null),r=h=>{a.value.push({id:`video_${new Date().getTime()}${t.value++}`,file:h,isUploaded:!1,type:"file",timeStamp:new Date})},f=()=>{s.value=!0,oe(()=>{d.value&&d.value.initWS()})},b=()=>{s.value=!1,d.value&&d.value.closeWS()},x=(h,_)=>{const y=Date.now();let g=null;_==="avi"?g=new File([h],`${y}.avi`,{type:"video/x-msvideo"}):g=new File([h],`${y}.webm`,{type:"video/webm"}),r(g),v.value=!1},w=async()=>{const h=a.value.filter(y=>!y.isUploaded),_=h.length;if(_===0){lt("无可上传视频");return}try{await Promise.all(h.map(S)),h.every(y=>y.isUploaded)&&(Oe("全部上传成功"),o.changeCounter(_)),p("upload-finish")}catch(y){console.error("上传失败:",y),ie("上传失败，请检查网络连接")}},R=h=>{St("视频").then(()=>{a.value=a.value.filter(_=>_.id!==h),Oe("删除成功")})},S=h=>{const _=new FormData;return _.append("video",h.file),_.append("videoId",h.id),_.append("modelId",l.processedModel.id),Ve.video.uploadAllVideos(_).then(y=>(y.code==="200"?h.isUploaded=!0:(console.log(y.msg),ie(`${h.id}上传失败`)),y)).catch(y=>{console.error("上传失败:",h.id,y)})};return(h,_)=>{const y=Mt,g=Ot,E=Tn,F=Ze,A=ot("Star"),j=ve,ne=Je,V=Vt,L=Nt;return c(u)?(C(),D("div",gs,[i(E,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:_[0]||(_[0]=$=>m.value=!0)},{default:k(()=>[i(g,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[i(y,null,{default:k(()=>_[5]||(_[5]=[q("视频数量限制为100，超出会被忽略")])),_:1,__:[5]}),i(y,null,{default:k(()=>_[6]||(_[6]=[q("视频尽可能覆盖所有使用场景，否则会使实机部署效果欠佳")])),_:1,__:[6]}),i(y,null,{default:k(()=>_[7]||(_[7]=[q("每个标签的视频数量最少10份，否则训练效果可能一般")])),_:1,__:[7]}),i(y,null,{default:k(()=>_[8]||(_[8]=[q("每个标签的视频数量尽量接近")])),_:1,__:[8]})]),_:1})]),_:1}),i(Wt,{onAddVideo:r,onUpload:w}),T("div",hs,[i(Gt,{videos:c(a),onDeleteVideo:R},null,8,["videos"])]),i(ne,{show:c(m),"onUpdate:show":_[1]||(_[1]=$=>ce(m)?m.value=$:null),position:"bottom",style:{height:"40%"},closeable:""},{default:k(()=>[i(F,null,{default:k(()=>_[9]||(_[9]=[T("span",{style:{color:"black","font-size":"large"}},"数据采集",-1)])),_:1,__:[9]}),T("div",null,[T("ul",null,[T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[10]||(_[10]=q(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[11]||(_[11]=q(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[12]||(_[12]=q(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[13]||(_[13]=q(" 每个标签的视频数量尽量接近 "))])])])]),_:1},8,["show"])])):(C(),D("div",bs,[_[18]||(_[18]=T("h2",{style:{"margin-bottom":"10px"}},null,-1)),T("div",null,[T("ul",null,[T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[14]||(_[14]=q(" 视频数量限制为100，超出该数量的视频会被忽略 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[15]||(_[15]=q(" 视频尽可能覆盖所有使用场景，否则会导致实机部署效果欠佳 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[16]||(_[16]=q(" 每个标签的视频数量最少10份，否则训练效果可能一般 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),_[17]||(_[17]=q(" 每个标签的视频数量尽量接近 "))])])]),T("div",_s,[i(Wt,{onAddVideo:r,onStartRecording:_[2]||(_[2]=$=>v.value=!0),onNecklaceRecording:f,onUpload:w,isNecklace:!0}),i(V,{style:{margin:"2% auto"}}),i(Gt,{videos:c(a),onDeleteVideo:R},null,8,["videos"]),i(L,{modelValue:c(v),"onUpdate:modelValue":_[3]||(_[3]=$=>ce(v)?v.value=$:null),title:"摄像头录制","close-on-click-modal":!1},{default:k(()=>[c(v)?(C(),X(za,{key:0,onRecordComplete:x})):Q("",!0)]),_:1},8,["modelValue"]),i(L,{modelValue:c(s),"onUpdate:modelValue":_[4]||(_[4]=$=>ce(s)?s.value=$:null),title:"项链录制","close-on-click-modal":!1,onClose:b},{default:k(()=>[i(ys,{ref_key:"framePlayerRef",ref:d,onRecordComplete:x,isOpened:c(s)},null,8,["isOpened"])]),_:1},8,["modelValue"])])]))}}},Zt=Be(xs,[["__scopeId","data-v-f415a967"]]),Cs={key:0},ks={style:{color:"black","font-size":"large"}},Ss={class:"videoCenter"},ws=["src"],Ts={class:"videoTag"},$s={key:1},Us={class:"Show-head"},Bs={key:0,style:{"font-size":"20px"}},Is={class:"video-show"},Ps=["src"],Ds={key:1,class:"video-placeholder"},Es={__name:"VideoShow",props:{videoUrl:{type:String,default:""},showObject:{type:Object,default:()=>{}}},emits:["update:videoUrl","addTag"],setup(e,{emit:n}){const a=e,o=n,l=I(()=>Re()),t=B(!1);_n(()=>{t.value=a.videoUrl!==""});const p=()=>{a.videoUrl&&(URL.revokeObjectURL(a.videoUrl),l.value&&o("update:videoUrl",""))},u=v=>{wn(v),o("update:videoUrl","")},m=()=>{if(!a.videoUrl){lt("请先选择视频");return}o("addTag")};return(v,s)=>{var w;const d=Ze,r=Je,f=it,b=Vt,x=At;return c(l)?(C(),D("div",Cs,[i(r,{show:c(t),"onUpdate:show":s[0]||(s[0]=R=>ce(t)?t.value=R:null),position:"bottom",style:{height:"auto"},closeable:"","close-on-click-overlay":!1,onClose:p},{default:k(()=>{var R;return[i(d,null,{default:k(()=>{var S;return[T("span",ks,te((S=e.showObject)==null?void 0:S.title),1)]}),_:1}),T("div",Ss,[e.videoUrl?(C(),D("video",{key:0,src:e.videoUrl,controls:"",style:{height:"100%"},onError:u}," 您的浏览器不支持视频播放 ",40,ws)):Q("",!0)]),T("div",Ts,"标注："+te(((R=e.showObject)==null?void 0:R.tag)===!0?e.showObject.number:"暂无"),1)]}),_:1},8,["show"])])):(C(),D("div",$s,[T("div",Us,[e.showObject?(C(),D("span",Bs,te((w=e.showObject)==null?void 0:w.title),1)):Q("",!0),i(f,{type:"primary",onClick:m},{default:k(()=>{var R;return[q(te((R=e.showObject)!=null&&R.tag?"更改":"新增")+"注解",1)]}),_:1})]),i(b,{style:{margin:"5% auto"}}),T("div",Is,[e.videoUrl?(C(),D("video",{key:0,style:{height:"75%"},src:e.videoUrl,controls:"",class:"video-player",onError:u}," 您的浏览器不支持视频播放 ",40,Ps)):(C(),D("div",Ds,[i(x,{description:"没有选择视频"})]))])]))}}},Qt=Be(Es,[["__scopeId","data-v-e8ab88a5"]]),Rs={key:0},Vs={key:0,class:"videoList"},Ns={key:0,class:"videoList"},As={key:0,class:"videoList"},Os={class:"tips-content"},Ms={key:1},Fs={style:{"margin-bottom":"10px"}},Ls={style:{color:"red"}},zs={class:"tag-body"},Ws=["onClick","onMouseenter","onMouseleave"],js=["onClick"],Hs=["onClick"],Ks={class:"tag-body"},qs=["onClick","onMouseenter","onMouseleave"],Ys=["onClick"],Xs=["onClick"],Gs={class:"tag-body"},Js=["onClick","onMouseenter","onMouseleave"],Zs=["onClick"],Qs={__name:"VideoTag",props:{videoList:{type:Array,default:()=>[]},isTagged:{type:Array,default:()=>[]},noTagged:{type:Array,default:()=>[]}},emits:["video-selected","openTagDlg","deleteVideo"],setup(e,{emit:n}){const a=e,o=n,l=B(null),t=I(()=>Re()),p=B(!1),u=B([]),m=B("all"),v=B("a"),s=I(()=>{switch(m.value){case"tagged":return a.isTagged;case"noTagged":return a.noTagged;default:return a.videoList}}),d=r=>{l.value=r,o("video-selected",r)};return(r,f)=>{const b=Mt,x=Ot,w=Tn,R=Un,S=Rt,h=kn,_=$n,y=Sn,g=El,E=Rl,F=Ze,A=ot("Star"),j=ve,ne=Je,V=ot("Promotion"),L=Ea,$=At,O=ul,z=cl;return c(t)?(C(),D("div",Rs,[i(w,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:f[0]||(f[0]=U=>p.value=!0)},{default:k(()=>[i(x,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:k(()=>[i(b,null,{default:k(()=>f[4]||(f[4]=[q("请选择对应的视频进行相应意思标注方便模型训练")])),_:1,__:[4]}),i(b,null,{default:k(()=>f[5]||(f[5]=[q("标注字数请勿超过15字")])),_:1,__:[5]}),i(b,null,{default:k(()=>f[6]||(f[6]=[q("如果想要更改标注可以左滑点击标记进行更改")])),_:1,__:[6]})]),_:1})]),_:1}),i(E,{active:c(v),"onUpdate:active":f[1]||(f[1]=U=>ce(v)?v.value=U:null)},{default:k(()=>[i(g,{title:"全部 "+e.videoList.length.toString(),name:"a"},{default:k(()=>[e.videoList.length?(C(),D("div",Vs,[i(_,{"finished-text":"没有更多了"},{default:k(()=>[(C(!0),D(we,null,Te(e.videoList,(U,G)=>(C(),X(h,{key:G,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[i(S,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:M=>o("deleteVideo",U.title)},null,8,["onClick"]),i(S,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:M=>o("openTagDlg",U)},null,8,["onClick"])]),default:k(()=>[i(R,{icon:"video-o",border:!1,title:U.title,value:U.tag===!0?"已标记":"",onClick:M=>d(U)},null,8,["title","value","onClick"])]),_:2},1024))),128))]),_:1})])):(C(),X(y,{key:1,description:"暂无视频"}))]),_:1},8,["title"]),i(g,{title:"已标记 "+e.isTagged.length.toString(),name:"b"},{default:k(()=>[e.isTagged.length?(C(),D("div",Ns,[i(_,{"finished-text":"没有更多了"},{default:k(()=>[(C(!0),D(we,null,Te(e.isTagged,(U,G)=>(C(),X(h,{key:G,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[i(S,{square:"",style:{height:"100%"},type:"danger",text:"删除",onClick:M=>o("deleteVideo",U.title)},null,8,["onClick"]),i(S,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:M=>o("openTagDlg",U)},null,8,["onClick"])]),default:k(()=>[i(R,{icon:"video-o",border:!1,title:U.title,value:"已标记",onClick:M=>d(U)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(C(),X(y,{key:1,description:"暂无已标记视频"}))]),_:1},8,["title"]),i(g,{title:"未标记 "+e.noTagged.length.toString(),name:"c"},{default:k(()=>[e.noTagged.length?(C(),D("div",As,[i(_,{"finished-text":"没有更多了"},{default:k(()=>[(C(!0),D(we,null,Te(e.noTagged,(U,G)=>(C(),X(h,{key:G,style:{"border-bottom":"1px solid lightgray"}},{right:k(()=>[i(S,{style:{height:"100%"},square:"",type:"danger",text:"删除",onClick:M=>o("deleteVideo",U.title)},null,8,["onClick"]),i(S,{style:{height:"100%"},square:"",type:"primary",text:"标记",onClick:M=>o("openTagDlg",U)},null,8,["onClick"])]),default:k(()=>[i(R,{icon:"video-o",border:!1,title:U.title,onClick:M=>d(U)},null,8,["title","onClick"])]),_:2},1024))),128))]),_:1})])):(C(),X(y,{key:1,description:"暂无未标记视频"}))]),_:1},8,["title"])]),_:1},8,["active"]),i(ne,{show:c(p),"onUpdate:show":f[2]||(f[2]=U=>ce(p)?p.value=U:null),position:"bottom",style:{height:"30%"},closeable:""},{default:k(()=>[i(F,null,{default:k(()=>f[7]||(f[7]=[T("span",{style:{color:"black","font-size":"large"}},"标注事宜",-1)])),_:1,__:[7]}),T("div",Os,[T("ul",null,[T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[8]||(f[8]=q(" 选择对应视频进行相应意思标注方便模型训练 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[9]||(f[9]=q(" 标注字数请勿超过15字 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[10]||(f[10]=q(" 如果想要更改标注可以右滑点击标记进行更改 "))])])])]),_:1},8,["show"])])):(C(),D("div",Ms,[T("h3",Fs,[i(j,null,{default:k(()=>[i(V)]),_:1}),f[11]||(f[11]=q(" 标注事宜 "))]),T("div",Ls,[T("ul",null,[T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[12]||(f[12]=q(" 请选择对应的视频进行相应的意思标注方便模型训练 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[13]||(f[13]=q(" 标注字数请勿超过15字 "))]),T("li",null,[i(j,null,{default:k(()=>[i(A)]),_:1}),f[14]||(f[14]=q(" 如果想要更改标注可以点击视频标签上的标识图案 "))])])]),i(z,{modelValue:c(m),"onUpdate:modelValue":f[3]||(f[3]=U=>ce(m)?m.value=U:null)},{default:k(()=>[i(O,{label:"全部 "+e.videoList.length,name:"all"},{default:k(()=>[T("div",zs,[(C(!0),D(we,null,Te(c(s),(U,G)=>(C(),D("div",{key:G,class:K(["videoinf",{actived:c(l)===U}]),onClick:M=>d(U),onMouseenter:M=>c(u)[G]=!0,onMouseleave:M=>c(u)[G]=!1},[T("span",null,te(U.title),1),De(T("span",{onClick:ze(M=>o("deleteVideo",U.title),["stop"]),class:"right"},f[15]||(f[15]=[T("i",{class:"iconfont icon-shanchu"},null,-1)]),8,js),[[Ne,c(u)[G]]]),U.tag===!0?(C(),X(L,{key:0,class:"box-item",effect:"dark",content:U.number,placement:"top"},{default:k(()=>[U.tag===!0?(C(),D("span",{key:0,onClick:M=>o("openTagDlg",U),class:"right"},f[16]||(f[16]=[T("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,Hs)):Q("",!0)]),_:2},1032,["content"])):Q("",!0)],42,Ws))),128)),e.videoList.length===0?(C(),X($,{key:0,description:"暂无视频"})):Q("",!0)])]),_:1},8,["label"]),i(O,{label:"已标记 "+e.isTagged.length,name:"tagged"},{default:k(()=>[T("div",Ks,[(C(!0),D(we,null,Te(c(s),(U,G)=>(C(),D("div",{key:G,class:K(["videoinf",{actived:c(l)===U}]),onClick:M=>d(U),onMouseenter:M=>c(u)[G]=!0,onMouseleave:M=>c(u)[G]=!1},[T("span",null,te(U.title),1),De(T("span",{onClick:ze(M=>o("deleteVideo",U.title),["stop"]),class:"right"},f[17]||(f[17]=[T("i",{class:"iconfont icon-shanchu"},null,-1)]),8,Ys),[[Ne,c(u)[G]]]),i(L,{class:"box-item",effect:"dark",content:U.number,placement:"top"},{default:k(()=>[T("span",{onClick:ze(M=>o("openTagDlg",U),["stop"]),class:"right"},f[18]||(f[18]=[T("i",{class:"iconfont icon-biaoshi",style:{color:"#41ae3c"}},null,-1)]),8,Xs)]),_:2},1032,["content"])],42,qs))),128)),e.isTagged.length===0?(C(),X($,{key:0,description:"暂无已标记视频"})):Q("",!0)])]),_:1},8,["label"]),i(O,{label:"未标记 "+e.noTagged.length,name:"noTagged"},{default:k(()=>[T("div",Gs,[(C(!0),D(we,null,Te(c(s),(U,G)=>(C(),D("div",{key:G,class:K(["videoinf",{actived:c(l)===U}]),onClick:M=>d(U),onMouseenter:M=>c(u)[G]=!0,onMouseleave:M=>c(u)[G]=!1},[T("span",null,te(U.title),1),De(T("span",{onClick:ze(M=>o("deleteVideo",U.title),["stop"]),class:"right"},f[19]||(f[19]=[T("i",{class:"iconfont icon-shanchu"},null,-1)]),8,Zs),[[Ne,c(u)[G]]])],42,Js))),128)),e.noTagged.length===0?(C(),X($,{key:0,description:"暂无未标记视频"})):Q("",!0)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]))}}},en=Be(Qs,[["__scopeId","data-v-39f6f977"]]),ei={key:0},ti={style:{color:"black"}},ni={style:{display:"flex","justify-content":"center",gap:"30px","margin-top":"8vh"}},ai={key:1},oi={class:"tagBody"},li={key:0},si={key:1},ii={style:{margin:"10px 0"}},ri={class:"dialog-footer"},ci="/api",ui={__name:"Tag",setup(e){const n=B(null),a=B([]),o=B(""),l=B(""),t=I(()=>a.value.filter(y=>y.tag===!0)),p=I(()=>a.value.filter(y=>y.tag===!1)),u=B(!1),m=rt(),v=new Map,s=I(()=>Re()),d=B(1),r=y=>{o.value=y},f=()=>{Ve.video.getAllVideos({params:{modelId:m.processedModel.id}}).then(y=>{y.code==="200"&&Array.isArray(y.data)?a.value=y.data:(console.error("视频列表加载失败:",y.msg),ie(y.msg))}).catch(y=>{console.log(y.message),ie("加载视频列表失败")})},b=y=>{if(n.value=y,v.has(y.title)){o.value=v.get(y.title);return}Ve.video.getSelectVideo({params:{videoTitle:y.title}}).then(g=>{g.code==="200"?(o.value=ci+g.url,v.set(y.title,o.value)):(console.log(g.msg),ie(g.msg))}).catch(g=>{console.log(g.message),ie("视频展示出错")})},x=y=>{n.value=y,d.value=0,n.value.tag?l.value=n.value.number:l.value="",u.value=!0},w=()=>{n.value?n.value.tag===!0?x(n.value):(l.value="",u.value=!0,d.value=1):lt("请先选择要操作的视频")},R=()=>p.value.length===0,S=()=>{if(l.value===""||l.value.length>15){lt("输入的标识字数需要大于0且小于15");return}let y={...n.value};y.tag=!0,y.number=l.value,Ve.video.updateVideoTag(y).then(g=>{if(g.code==="200"){n.value.tag=!0,n.value.number=l.value;let E="";R()&&(E="，可以前往下一步"),Oe(`标注成功${E}`),u.value=!1}else ie("标注失败")}).catch(g=>{console.log(g),ie("标注失败")})},h=y=>{St("视频").then(()=>{v.has(y)&&(o.value===v[y]&&(o.value=""),v.delete(y)),Ve.video.deleteVideo({params:{videoTitle:y}}).then(g=>{g.code==="200"?(Oe("删除成功"),n.value=null,a.value=a.value.filter(E=>E.title!==y)):(console.log(g.msg),ie("删除失败"))}).catch(g=>{console.log(g),ie("删除失败")})})},_=()=>{if(!n.value||n.value.tag===null)return;let y=n.value.title;St("标识").then(()=>{Ve.video.deleteVideoTag({params:{videoTitle:y}}).then(g=>{g.code==="200"?(u.value=!1,Oe("删除标识成功"),n.value.number="",n.value.tag=!1,f()):(console.log(g.msg),ie("删除标识失败"))}).catch(g=>{console.log(g.message),ie("删除标识失败")})})};return be(()=>f()),(y,g)=>{const E=Ze,F=Ka,A=Ha,j=Rt,ne=Je,V=Do,L=Vt,$=Eo,O=Po,z=Ra,U=it,G=Nt;return c(s)?(C(),D("div",ei,[i(en,{videoList:c(a),isTagged:c(t),noTagged:c(p),onVideoSelected:b,onDeleteVideo:h,onAddTag:w,onOpenTagDlg:x},null,8,["videoList","isTagged","noTagged"]),i(ne,{show:c(u),"onUpdate:show":g[2]||(g[2]=M=>ce(u)?u.value=M:null),position:"bottom",style:{height:"50%"},closeable:""},{default:k(()=>[i(E,null,{default:k(()=>[T("span",ti,te(c(n).title),1)]),_:1}),i(A,{inset:"",style:{"margin-top":"10%"}},{default:k(()=>[i(F,{modelValue:c(l),"onUpdate:modelValue":g[0]||(g[0]=M=>ce(l)?l.value=M:null),rows:"2",autosize:"",label:"标注",type:"textarea",maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),T("div",ni,[i(j,{type:"warning",style:{width:"100px"},onClick:g[1]||(g[1]=M=>u.value=!1)},{default:k(()=>g[6]||(g[6]=[q("取消")])),_:1,__:[6]}),i(j,{type:"success",style:{width:"100px"},onClick:S},{default:k(()=>g[7]||(g[7]=[q("确认")])),_:1,__:[7]})])]),_:1},8,["show"]),i(Qt,{videoUrl:c(o),showObject:c(n),"onUpdate:videoUrl":r},null,8,["videoUrl","showObject"])])):(C(),D("div",ai,[T("div",oi,[i(O,null,{default:k(()=>[i(V,{width:"590px"},{default:k(()=>[i(Qt,{videoUrl:c(o),showObject:c(n),onAddTag:w},null,8,["videoUrl","showObject"])]),_:1}),i(L,{style:{margin:"15px",height:"60vh"},direction:"vertical"}),i($,{style:{padding:"0"}},{default:k(()=>[i(en,{videoList:c(a),isTagged:c(t),noTagged:c(p),onVideoSelected:b,onDeleteVideo:h,onOpenTagDlg:x},null,8,["videoList","isTagged","noTagged"])]),_:1})]),_:1})]),i(G,{modelValue:c(u),"onUpdate:modelValue":g[5]||(g[5]=M=>ce(u)?u.value=M:null),top:"30vh",width:"500",class:"diaglog",draggable:!0,"align-center":!0},{footer:k(()=>[T("div",ri,[c(n).tag===!0?(C(),X(U,{key:0,type:"danger",onClick:_},{default:k(()=>g[8]||(g[8]=[q("删除标签")])),_:1,__:[8]})):Q("",!0),i(U,{onClick:g[4]||(g[4]=M=>u.value=!1)},{default:k(()=>g[9]||(g[9]=[q("取消")])),_:1,__:[9]}),i(U,{type:"primary",onClick:S},{default:k(()=>g[10]||(g[10]=[q("确认")])),_:1,__:[10]})])]),default:k(()=>[c(d)===1?(C(),D("h2",li,"新增注解")):Q("",!0),c(d)===0?(C(),D("h2",si,"更改注解")):Q("",!0),T("h3",ii,te(c(n).title),1),T("div",null,[i(z,{type:"text",modelValue:c(l),"onUpdate:modelValue":g[3]||(g[3]=M=>ce(l)?l.value=M:null),placeholder:"请输入标注（字数小于15）"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]))}}},tn=Be(ui,[["__scopeId","data-v-1c2c118c"]]),di={key:0},fi={class:"header",style:{"margin-top":"10vh"}},vi={key:1},pi={class:"header"},mi={key:0,class:"progress-icon-container"},yi={__name:"Infer",setup(e){const n=B(!1),a=B(!1),o=B(0),l=B(!1),t=rt(),p=I(()=>Re()),u=()=>{l.value=!0,n.value=!0,a.value=!0,m()},m=()=>{ja.trainModel({params:{modelid:t.processedModel.id}}).then(d=>{if(d.code==="200")o.value+=4,t.processedModel.isTrained=!0;else{ie("训练失败");return}}).catch(d=>{console.log(d),ie("训练失败")});let v=0;const s=setInterval(()=>{v>=24?(o.value===100&&(l.value=!1,Oe("训练成功")),clearInterval(s)):(o.value+=4,v++)},100)};return(v,s)=>{const d=it,r=zl,f=Oo;return c(p)?(C(),D("div",di,[T("div",fi,[T("span",null,"模型训练 "+te(c(o))+"%",1),i(d,{type:"success",onClick:u,disabled:c(l)},{default:k(()=>s[0]||(s[0]=[q("开始训练")])),_:1,__:[0]},8,["disabled"])]),i(r,{percentage:c(o),"stroke-width":"8",color:"lightgreen",class:"mobile-progress"},null,8,["percentage"])])):(C(),D("div",vi,[T("div",pi,[T("span",null,"模型训练 "+te(c(o))+"%",1),i(d,{type:"success",onClick:u,disabled:c(l)},{default:k(()=>s[1]||(s[1]=[q("开始训练")])),_:1,__:[1]},8,["disabled"])]),c(a)?(C(),D("div",mi,[i(f,{percentage:c(o),"stroke-width":15,status:"success",striped:"","striped-flow":c(o)<100,duration:10,class:"progress"},null,8,["percentage","striped-flow"])])):Q("",!0)]))}}},nn=Be(yi,[["__scopeId","data-v-00c9337c"]]),gi={key:0},hi={class:"newModel"},bi={key:1},_i={style:{"font-size":"1.2rem"}},xi={class:"step"},Ci={__name:"NewModels",setup(e){const n=Cn(),a=rt(),o=I(()=>a.processedModel.name),l=I(()=>Re()),t=B({x:300,y:400}),p=()=>{u.value=(u.value+1)%3},u=B(0);return(m,v)=>{const s=Fa,d=ql,r=Yl,f=Ol,b=go,x=yo,w=Yo,R=qo,S=Va;return c(l)?(C(),D("div",gi,[i(s,{title:c(o),"left-arrow":"",onClickLeft:v[0]||(v[0]=h=>c(n).go(-1))},null,8,["title"]),i(r,{active:c(u)},{default:k(()=>[i(d,{onClick:v[1]||(v[1]=h=>u.value=0)},{default:k(()=>v[9]||(v[9]=[q("数据采集")])),_:1,__:[9]}),i(d,{onClick:v[2]||(v[2]=h=>u.value=1)},{default:k(()=>v[10]||(v[10]=[q("语料定义")])),_:1,__:[10]}),i(d,{onClick:v[3]||(v[3]=h=>u.value=2)},{default:k(()=>v[11]||(v[11]=[q("模型训练")])),_:1,__:[11]})]),_:1},8,["active"]),i(f,{axis:"xy",icon:"arrow",magnetic:"x",onClick:p,offset:c(t),"onUpdate:offset":v[4]||(v[4]=h=>ce(t)?t.value=h:null)},null,8,["offset"]),T("div",hi,[c(u)===0?(C(),X(Zt,{key:0})):c(u)===1?(C(),X(tn,{key:1})):(C(),X(nn,{key:2}))])])):(C(),D("div",bi,[i(x,{"separator-icon":c(cn)},{default:k(()=>[i(b,{to:{path:"/implents/models/myModels"}},{default:k(()=>v[12]||(v[12]=[q("我的模型")])),_:1,__:[12]}),i(b,null,{default:k(()=>[T("span",_i,te(c(o)),1)]),_:1})]),_:1},8,["separator-icon"]),i(S,{class:"models-body"},{header:k(()=>[T("div",xi,[i(R,{active:c(u),"align-center":""},{default:k(()=>[i(w,{title:"数据采集",class:"step-item",onClick:v[5]||(v[5]=h=>u.value=0)}),i(w,{title:"语料定义",class:"step-item",onClick:v[6]||(v[6]=h=>u.value=1)}),i(w,{title:"模型训练",class:"step-item",onClick:v[7]||(v[7]=h=>u.value=2)})]),_:1},8,["active"])])]),default:k(()=>[c(u)===0?(C(),X(Zt,{key:0,onUploadFinish:v[8]||(v[8]=h=>u.value=1)})):c(u)===1?(C(),X(tn,{key:1})):(C(),X(nn,{key:2}))]),_:1})]))}}},Vi=Be(Ci,[["__scopeId","data-v-7bf623c8"]]);export{Vi as default};
